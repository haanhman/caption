{"1":{"dur":3,"text":"They pointed at me and\nthe clock started moving."},"4":{"dur":3,"text":"We have 44 minutes and 56\nseconds to talk about security."},"8":{"dur":1,"text":"Good morning."},"10":{"dur":2,"text":"It's 9:00 AM."},"12":{"dur":2,"text":"I caught the bus down from\nSan Francisco at 6:00 AM"},"14":{"dur":2,"text":"this morning to clean up\nsome last little details"},"17":{"dur":1,"text":"of my slides on the bus."},"18":{"dur":3,"text":"Did everybody find\ncoffee and breakfast?"},"22":{"dur":1,"text":"If not, go find it."},"23":{"dur":0,"text":"Come back."},"24":{"dur":2,"text":"We'll be here for a little bit."},"26":{"dur":2,"text":"My name is Adrian Ludwig."},"28":{"dur":2,"text":"I head up the\nAndroid Security team"},"30":{"dur":2,"text":"here at Google, or\nat least three blocks"},"32":{"dur":1,"text":"over that way at Google."},"34":{"dur":2,"text":"We're responsible for the\nsecurity of the Android"},"36":{"dur":1,"text":"platform."},"38":{"dur":2,"text":"The platform is a broad,\ndiverse, growing kind"},"41":{"dur":2,"text":"of incredible thing,\nas many of you know."},"43":{"dur":5,"text":"So the scope of what we\ndo is also broad, diverse,"},"48":{"dur":1,"text":"and growing."},"50":{"dur":2,"text":"You saw a couple things that\nwere mentioned yesterday"},"52":{"dur":3,"text":"in the keynote that are new\nfeatures that were introduced"},"56":{"dur":2,"text":"in Android N that\nwe've been working"},"58":{"dur":2,"text":"with the rest of the\nAndroid team to enable,"},"60":{"dur":1,"text":"things like File\nBased Encryption,"},"62":{"dur":2,"text":"Media Server Hardening,\nand Automatic Updates."},"64":{"dur":1,"text":"These are some of\nthe core changes that"},"66":{"dur":5,"text":"have been introduced in\nAndroid N. Those of course"},"71":{"dur":5,"text":"build on a security model that\nextends deep into the platform."},"77":{"dur":2,"text":"It's not just a future\nhere, a future there."},"79":{"dur":2,"text":"It's about how we have\nsegmented applications."},"82":{"dur":2,"text":"How we have isolated\ncapabilities"},"84":{"dur":2,"text":"in the platform and the\nunderlying technologies"},"86":{"dur":2,"text":"that we're using to deliver\nthose security features."},"89":{"dur":4,"text":"It's not limited just to\nAndroid itself though."},"94":{"dur":2,"text":"The work that we do in\nsecuring the Android operating"},"97":{"dur":2,"text":"system, the Android platform,\nand the Android ecosystem"},"99":{"dur":2,"text":"extends to a broad\nrange of applications"},"102":{"dur":2,"text":"that we deliver that we talk\nabout as the Google Security"},"104":{"dur":1,"text":"Services."},"106":{"dur":3,"text":"Those also got a very\nbrief mention yesterday"},"109":{"dur":2,"text":"in the keynote that\nI wanted to flag,"},"111":{"dur":2,"text":"which is that at\npresent we're doing"},"114":{"dur":2,"text":"over a billion scans per day."},"116":{"dur":1,"text":"We say checks, because\nnon-security people are"},"118":{"dur":1,"text":"more comfortable with\nthe idea of doing"},"120":{"dur":1,"text":"a checkup than doing a scan."},"121":{"dur":2,"text":"But what we're doing is looking\nat security characteristics"},"124":{"dur":2,"text":"on the devices that are\nout there in the world"},"126":{"dur":1,"text":"to make sure that we're\nkeeping them safe."},"128":{"dur":1,"text":"One of the things\nthat we look at"},"129":{"dur":3,"text":"is the number, the broad range\nof applications that have been"},"132":{"dur":1,"text":"installed on these devices."},"133":{"dur":2,"text":"So we check over 8\nbillion applications"},"136":{"dur":3,"text":"every single day, to give you\na sense of the overall scope."},"139":{"dur":3,"text":"One of the things that Dave\nwasn't able to get into"},"143":{"dur":3,"text":"was what exactly\nthese things mean."},"146":{"dur":2,"text":"About three or four\nweeks ago we published"},"148":{"dur":3,"text":"something called the \"Annual\nSecurity Year in Review,\" where"},"152":{"dur":1,"text":"we went into a lot of\nthe work that we've"},"154":{"dur":2,"text":"been doing investing in\nthese security services,"},"156":{"dur":3,"text":"making them more capable,\nusing the technology"},"160":{"dur":3,"text":"that Google has in our\nback end to deliver"},"163":{"dur":2,"text":"more and more sophisticated\nanalysis of applications,"},"166":{"dur":1,"text":"more and more\nsophisticated understanding"},"167":{"dur":2,"text":"of what it is that's going\non in the Android ecosystem"},"170":{"dur":2,"text":"so that we can\nbetter protect users."},"172":{"dur":2,"text":"That 50-page document\nincluded this diagram."},"175":{"dur":2,"text":"I'm not going to go into\na lot of detail here."},"177":{"dur":6,"text":"But I wanted to emphasize that\nthe vast majority of our focus"},"184":{"dur":2,"text":"is on everything that we\ncan do to protect users."},"186":{"dur":4,"text":"So that ranges from hardware\nupdates and hardware security,"},"190":{"dur":2,"text":"to platform updates and\nplatform security features,"},"193":{"dur":1,"text":"to services as well."},"194":{"dur":1,"text":"And we're investing at\nevery layer in the stack"},"196":{"dur":2,"text":"to try to protect\nusers as best we can."},"199":{"dur":3,"text":"Now for today, I'm going\nto hone in on a handful"},"203":{"dur":2,"text":"of specific new\ncapabilities that"},"205":{"dur":4,"text":"were introduced in\nAndroid M and Android N. M"},"209":{"dur":2,"text":"because, let's be realistic."},"211":{"dur":1,"text":"It hasn't gotten\nto a point where"},"213":{"dur":1,"text":"it has broad based adoption."},"214":{"dur":1,"text":"So it's not terribly\nsurprising if you"},"215":{"dur":1,"text":"haven't been spending\na lot of time thinking"},"217":{"dur":2,"text":"about how to take advantage\nof the features that"},"219":{"dur":1,"text":"were introduced in\nM. And Android N"},"220":{"dur":1,"text":"because that's the new hotness."},"221":{"dur":3,"text":"Or at least it will be as\nsoon as it begins to roll out"},"224":{"dur":2,"text":"a couple of months from now."},"227":{"dur":3,"text":"So I wanted to emphasize\nthough that this is just"},"231":{"dur":3,"text":"part of the overall sort of set\nof capabilities that we have."},"235":{"dur":2,"text":"We want to build things\nfor application developers."},"237":{"dur":1,"text":"We want to build\nthings for users."},"239":{"dur":1,"text":"And we want to build\nthings for device makers."},"241":{"dur":3,"text":"I think on the main stage,\nthe focus was on users."},"244":{"dur":1,"text":"Elsewhere in the\nworld we spend a lot"},"246":{"dur":1,"text":"of time talking\nabout device makers."},"247":{"dur":1,"text":"But today, we're going\nto talk about what"},"249":{"dur":1,"text":"are the new things\nthat we're doing"},"250":{"dur":1,"text":"to make your life as an\napplication developer"},"252":{"dur":2,"text":"better on Android M and N?"},"255":{"dur":1,"text":"So these are some\nof the key features"},"257":{"dur":1,"text":"There are seven of them up here."},"259":{"dur":1,"text":"I'm just going to walk\nthrough them one by one."},"261":{"dur":2,"text":"We'll talk about what it\nis that was introduced,"},"264":{"dur":2,"text":"take a look at some source\ncode so that you can understand"},"266":{"dur":1,"text":"how you might incorporate\nit into your application"},"268":{"dur":1,"text":"and your development experience."},"269":{"dur":1,"text":"And then talk about some\nof the best practices"},"271":{"dur":1,"text":"that we've been\nthinking about for how"},"272":{"dur":1,"text":"we think it is that you'd\nwant to be incorporating"},"274":{"dur":2,"text":"these new technologies into\nyour application development."},"276":{"dur":0,"text":"Right?"},"277":{"dur":1,"text":"Pretty straightforward."},"278":{"dur":3,"text":"Boom, boom, boom, move to the\nnext one, boom, boom, boom."},"281":{"dur":2,"text":"No fancy diagrams, just a little\nbit of code here and there."},"284":{"dur":1,"text":"So permissions is\nthe first thing"},"285":{"dur":1,"text":"we're going to talk about."},"287":{"dur":3,"text":"You may remember,\nor you may know,"},"290":{"dur":2,"text":"if you're running on Android\nM right now on Nexus device"},"293":{"dur":2,"text":"or one of the other devices\nthat's started to receive it,"},"295":{"dur":2,"text":"that one of the major changes\nin the user experience that"},"298":{"dur":3,"text":"was introduced with Marshmallow\nwas runtime permissions,"},"302":{"dur":3,"text":"the idea that an\napplication can defer"},"305":{"dur":2,"text":"requesting the\nuse of permissions"},"307":{"dur":2,"text":"until it really needs them."},"309":{"dur":1,"text":"And that the user\nhas the ability"},"311":{"dur":1,"text":"to decide whether\nthe application gets"},"313":{"dur":2,"text":"that specific permission or not."},"315":{"dur":3,"text":"Really a fundamental change\nin the way that applications"},"318":{"dur":2,"text":"are going to request access\nto more sensitive capabilities"},"320":{"dur":1,"text":"on the device introduced\nwith Marshmallow."},"325":{"dur":1,"text":"From an application\ndeveloper's standpoint,"},"327":{"dur":2,"text":"it's a really powerful thing\nfor you to think about."},"329":{"dur":2,"text":"It gives you the ability to\nsimplify the installation"},"332":{"dur":1,"text":"process for your application."},"333":{"dur":1,"text":"Because you don't have\nto request all of those"},"335":{"dur":1,"text":"permissions up front."},"336":{"dur":2,"text":"It gives you the\nability to upgrade"},"339":{"dur":3,"text":"without having the user have\nto confirm that that upgrade is"},"342":{"dur":3,"text":"necessary for applications being\ndelivered through, for example,"},"345":{"dur":1,"text":"through Google Play."},"346":{"dur":2,"text":"Because there's no increase\nin the capabilities"},"349":{"dur":1,"text":"of the application in\nthe security model."},"350":{"dur":2,"text":"And so there's no need for\nthe user to affirm that."},"353":{"dur":1,"text":"So this can really\naccelerate the rate"},"354":{"dur":1,"text":"at which your applications\nare being upgraded,"},"356":{"dur":2,"text":"if you take advantage of runtime\npermissions on these newer"},"359":{"dur":1,"text":"platforms."},"360":{"dur":2,"text":"And from my perspective,\nwhen I think about security,"},"363":{"dur":1,"text":"one of the things I worry\nabout is making sure"},"365":{"dur":2,"text":"that users understand what\nit is that's going on."},"367":{"dur":2,"text":"And we found that runtime\npermissions are fundamentally"},"370":{"dur":1,"text":"more understandable for users."},"372":{"dur":1,"text":"They give the\napplication developer"},"373":{"dur":2,"text":"the ability to provide\ncontext, and the user"},"376":{"dur":2,"text":"to understand how\nthat capability is"},"378":{"dur":1,"text":"going to be associated\nwith the application"},"380":{"dur":2,"text":"that they're employing."},"382":{"dur":1,"text":"So what does it look like?"},"384":{"dur":1,"text":"It's pretty straightforward."},"386":{"dur":1,"text":"The first thing\nthat you want to do"},"387":{"dur":1,"text":"in the context of\nyour application"},"389":{"dur":4,"text":"is invoke the local environment\nand check self permission."},"393":{"dur":3,"text":"Do I already have\nthis permission?"},"396":{"dur":2,"text":"If you don't, then\nyou want to explain,"},"399":{"dur":1,"text":"probably provide some\ncontext to the user"},"400":{"dur":1,"text":"about why it is\nthat you're going"},"402":{"dur":0,"text":"to request that permission."},"403":{"dur":2,"text":"In this particular instance\nit's the use of read contacts."},"405":{"dur":1,"text":"So you might say, I\nwant to send an email."},"407":{"dur":1,"text":"And it would be\nreally nice if I could"},"408":{"dur":3,"text":"see who you're already friends\nwith inside your contact"},"412":{"dur":2,"text":"environment, or make\na call, or any number"},"414":{"dur":2,"text":"of other types of functionality\nit might want to expose."},"417":{"dur":2,"text":"If you do not have the\ncapability already,"},"419":{"dur":1,"text":"then you're going to\nneed to request it."},"421":{"dur":2,"text":"And there's a simple API,\n\"Request Permission.\""},"424":{"dur":2,"text":"And you can go ahead\nmake that request."},"426":{"dur":3,"text":"And at that point, you now\nhave that permission, or not."},"430":{"dur":2,"text":"Let's talk a little bit about\nsome of the best practices"},"432":{"dur":2,"text":"to make sure that you\nactually get that permission."},"434":{"dur":2,"text":"Because that's one of the\nthings that people are concerned"},"437":{"dur":4,"text":"about with runtime permissions\nis that they maybe don't always"},"441":{"dur":0,"text":"say yes."},"442":{"dur":1,"text":"So you're going to\nneed to consider"},"443":{"dur":1,"text":"in the context of\nyour application"},"444":{"dur":2,"text":"that the user might say no."},"447":{"dur":1,"text":"And you're going\nto want to think"},"448":{"dur":2,"text":"about how it is that you\ncan increase the likelihood"},"451":{"dur":1,"text":"that the user will say yes."},"452":{"dur":1,"text":"So one of the things\nthat we did is"},"454":{"dur":1,"text":"provide some design guidelines."},"455":{"dur":1,"text":"Those have been published."},"457":{"dur":3,"text":"You can find them up on\ndeveloper.android.com"},"460":{"dur":2,"text":"that describe some of\nthe best practices."},"462":{"dur":1,"text":"One of the most\nimportant ones is"},"464":{"dur":1,"text":"to provide some\ncontext for why it"},"465":{"dur":1,"text":"is that you're going to do it."},"467":{"dur":2,"text":"So for example, in\nthe case of SMS,"},"470":{"dur":1,"text":"in the case of the\nHangouts application,"},"471":{"dur":1,"text":"explaining hey, if\nyou want to receive"},"473":{"dur":1,"text":"SMS in the context\nof this application,"},"474":{"dur":1,"text":"we're going to need\nto have access to it."},"476":{"dur":1,"text":"And I'm going to\nrequest it now, then"},"478":{"dur":2,"text":"makes it possible for you to\nrequest it and really increase"},"480":{"dur":3,"text":"the rate at which user\nsay, OK, makes sense to me."},"483":{"dur":1,"text":"Go ahead and grant it."},"485":{"dur":1,"text":"Within the context of\nGoogle applications,"},"487":{"dur":3,"text":"we found that about 85% of\nthe time users do say yes."},"491":{"dur":2,"text":"That's better than\nthe average that we've"},"493":{"dur":2,"text":"seen for other applications that\nare sort of broadly distributed"},"496":{"dur":1,"text":"on the Android platform."},"497":{"dur":2,"text":"Just to give you some examples\nof how much better it is,"},"500":{"dur":4,"text":"about 15.8% of the time when\nwe prompt a user, they say no."},"505":{"dur":2,"text":"That's about 40% lower."},"507":{"dur":2,"text":"So for other applications, the\nfailure rate on that request"},"510":{"dur":2,"text":"is going to be about 20% to 25%."},"513":{"dur":2,"text":"So about 40% difference\nbetween those."},"515":{"dur":4,"text":"If you ask too many times and\nthe user says no repeatedly,"},"519":{"dur":2,"text":"eventually, after I\nthink three times,"},"522":{"dur":3,"text":"the user has the option\nto say stop asking me."},"526":{"dur":1,"text":"And so we found that\nthe stop asking me,"},"528":{"dur":2,"text":"don't ever ask me again\nrate for Google applications"},"530":{"dur":1,"text":"is about 3%."},"531":{"dur":1,"text":"So effectively we\nprompt a couple of times"},"533":{"dur":1,"text":"in order to get\nto the point where"},"534":{"dur":1,"text":"the user is comfortable\nwith the application."},"536":{"dur":2,"text":"And we find about\n97% of the time users"},"539":{"dur":2,"text":"accept the permission\nask that we're making."},"542":{"dur":2,"text":"So those are the best practices\nthat you want to think about."},"545":{"dur":1,"text":"There's another\ncapability that we've"},"546":{"dur":1,"text":"been expanding\ndramatically, which"},"548":{"dur":3,"text":"is a protection of key\nmaterial, cryptographic keys"},"552":{"dur":1,"text":"specifically on Androids."},"553":{"dur":3,"text":"So we'll talk about\nthe Android Keystore."},"556":{"dur":2,"text":"The Keystore leverages\nhardware that"},"558":{"dur":3,"text":"exists on the vast majority\nof Android devices."},"562":{"dur":2,"text":"As a security practitioner, it's\nalways been really interesting"},"565":{"dur":3,"text":"to me that most devices,\nliterally about 80% to 90%"},"568":{"dur":2,"text":"of devices have something\ncalled TrustZone on them."},"571":{"dur":1,"text":"They have a TEE that's\nbeen put in place."},"573":{"dur":4,"text":"It was there to enable access\nto DRM protected content."},"577":{"dur":2,"text":"What we've been doing over\nthe last several years"},"579":{"dur":2,"text":"is making that available\nto you as an application"},"581":{"dur":1,"text":"developer as a means\nfor you to protect"},"583":{"dur":3,"text":"the most sensitive capabilities\nand keys in your device."},"586":{"dur":5,"text":"So starting in jb-mr2."},"592":{"dur":3,"text":"So almost four years ago,\nwe began implementing API"},"595":{"dur":1,"text":"after API after API."},"596":{"dur":5,"text":"As of Android L, the ability\nto use RSA, elliptic curve DSA,"},"602":{"dur":4,"text":"so ECDSA, symmetric algorithms\nlike AES, and then also HMAC,"},"607":{"dur":3,"text":"where those keys are held inside\nof TrustZone and cannot be"},"610":{"dur":3,"text":"exposed to the kernel or to\nanybody else on the device is"},"613":{"dur":4,"text":"one of the core capabilities\nthat we've been enabled."},"618":{"dur":1,"text":"One of the really\nimportant things to do"},"620":{"dur":2,"text":"is to transition from\nit being on most devices"},"622":{"dur":1,"text":"to being on all devices."},"623":{"dur":3,"text":"So this became required as\nof the Android N release."},"627":{"dur":1,"text":"So we're going to\nsee, from here on out,"},"629":{"dur":2,"text":"all new devices are going to\ndefinitely have it on board."},"632":{"dur":1,"text":"As it is right now,\nthe vast majority"},"633":{"dur":1,"text":"of higher end and\nmid-range devices"},"635":{"dur":3,"text":"already have Keystore in place."},"638":{"dur":3,"text":"So one of the new features that\nwas introduced with Android N"},"642":{"dur":1,"text":"was what we call attestation."},"644":{"dur":2,"text":"What we do with\nattestation is bake a key"},"647":{"dur":2,"text":"into the firmware\ninside of TrustZone."},"649":{"dur":2,"text":"So it is possible for you\nto validate that this is"},"651":{"dur":1,"text":"a legitimate piece of hardware."},"653":{"dur":2,"text":"And you can check\nthat by creating a key"},"655":{"dur":2,"text":"and then checking the\nsearch chain to tie it"},"657":{"dur":1,"text":"back to a piece\nof hardware that's"},"659":{"dur":1,"text":"gone through CTS testing."},"660":{"dur":1,"text":"And I'll sort of\ntalk through how"},"662":{"dur":2,"text":"it is that you can do\nthat in just a second."},"664":{"dur":2,"text":"So here's an example of what\nthat looks like from a source"},"666":{"dur":1,"text":"code standpoint."},"668":{"dur":0,"text":"What do you need to do?"},"669":{"dur":3,"text":"Well, you can start off\nby creating a key pair."},"672":{"dur":3,"text":"So you create an instance\nof Android Keystore."},"676":{"dur":2,"text":"In this instance, we're\nusing elliptic curves,"},"678":{"dur":2,"text":"so you specify that\nto your algorithm."},"681":{"dur":2,"text":"One of the more interesting\nnew capabilities"},"683":{"dur":2,"text":"that was introduced\nactually in Android M"},"685":{"dur":1,"text":"was the ability to\nsay this key can only"},"687":{"dur":3,"text":"be used if the user has\nrecently authenticated."},"691":{"dur":1,"text":"I'll talk more about\nthat in just a second."},"692":{"dur":1,"text":"But that's a really powerful\nstatement that you can make."},"694":{"dur":1,"text":"So that you know that\nthere's a real user that's"},"696":{"dur":1,"text":"been interacting with\nthe device right now."},"698":{"dur":2,"text":"And that's been validated\ninside of TrustZone."},"700":{"dur":1,"text":"So you can protect your keys."},"702":{"dur":1,"text":"And then the last\nthing that you can do"},"704":{"dur":2,"text":"is you can actually get the\ncertificate chain associated"},"706":{"dur":0,"text":"with that key."},"707":{"dur":4,"text":"So that key is one that has been\nbound to a particular device."},"712":{"dur":2,"text":"And it can't move to\nsome other device."},"714":{"dur":2,"text":"Then you can actually confirm\nby looking at the certificate"},"716":{"dur":2,"text":"chain that it's a\ndevice that legitimately"},"718":{"dur":1,"text":"went through CTS testing."},"720":{"dur":2,"text":"It's gone through that\nkind of validation."},"722":{"dur":2,"text":"So I think this\ntype of capability"},"724":{"dur":1,"text":"is really important\nfor enhancing"},"726":{"dur":2,"text":"the trust in those devices that\nhave gone through the Google"},"729":{"dur":5,"text":"validation process and are\nvalid, Android tested devices."},"734":{"dur":4,"text":"So some best practices,\nthink for a moment"},"738":{"dur":2,"text":"whether there's a case for\nyou to be using encryption"},"740":{"dur":2,"text":"in the context of\nyour application."},"742":{"dur":2,"text":"And if so, then Keystore\nis a great place for you"},"745":{"dur":2,"text":"to be storing those keys."},"747":{"dur":0,"text":"It's available."},"748":{"dur":1,"text":"It's very straightforward."},"749":{"dur":2,"text":"And it has the\nadvantage of the key"},"752":{"dur":2,"text":"not being exposed in the event\nof compromise of other things"},"754":{"dur":1,"text":"on the device."},"756":{"dur":3,"text":"You can also use the key,\nstarting with Android N,"},"759":{"dur":2,"text":"as a mechanism to validate that\nthis is a legitimate Android"},"762":{"dur":2,"text":"device and not one\nthat's been created"},"764":{"dur":2,"text":"outside the compatibility."},"767":{"dur":1,"text":"And so that gives\nyou the ability"},"768":{"dur":1,"text":"to do further validation\nof the device."},"773":{"dur":1,"text":"I hinted at authentication."},"774":{"dur":1,"text":"So let's talk a little bit\nabout some of the changes"},"776":{"dur":1,"text":"that have gone into\nauthentication recently."},"780":{"dur":1,"text":"So there's two different\ngoals that we're"},"782":{"dur":3,"text":"striving for as we're\nenhancing authentication."},"786":{"dur":5,"text":"The first one is,\nwell, let's be frank,"},"792":{"dur":2,"text":"users don't like authenticating."},"794":{"dur":2,"text":"It's annoying."},"797":{"dur":1,"text":"I want to take out my device."},"798":{"dur":1,"text":"And I want to use\nit immediately."},"800":{"dur":1,"text":"And I want to have\naccess to my information."},"801":{"dur":2,"text":"And so when we began\nlooking into why"},"804":{"dur":2,"text":"it is that users didn't have\nlock screens on their device."},"806":{"dur":1,"text":"And why they didn't\nuse what seems"},"808":{"dur":3,"text":"to be the most fundamental\nsecurity protection,"},"811":{"dur":3,"text":"the answer is, it just\ncomes up too often."},"814":{"dur":2,"text":"And almost half of\nAndroid users have"},"817":{"dur":2,"text":"decided that they don't\nwant a secure lock screen."},"820":{"dur":1,"text":"So one of the things\nthat we're trying to do"},"822":{"dur":2,"text":"is find ways to encourage that."},"824":{"dur":3,"text":"Because if we get to a point\nwhere the logging in mechanism"},"828":{"dur":1,"text":"is trustworthy, where\nauthentication of the user"},"830":{"dur":1,"text":"at the time they start\ninteracting with the device,"},"831":{"dur":1,"text":"then you can do\na lot more and be"},"832":{"dur":1,"text":"a lot more flexible in\nthe set of applications"},"834":{"dur":0,"text":"that you can provide."},"835":{"dur":2,"text":"So Android Pay is a\ngood example where,"},"837":{"dur":2,"text":"because users are\nauthenticated, they"},"839":{"dur":1,"text":"can have access to Android Pay."},"841":{"dur":3,"text":"So we actually bind\nthose two ideas together."},"845":{"dur":2,"text":"So to make things easier\nwe introduced fingerprints."},"848":{"dur":1,"text":"That was one of the\nthings that was introduced"},"850":{"dur":2,"text":"with Android M on Nexus\nphones and an API for you"},"852":{"dur":2,"text":"to interact with it as\nan application developer."},"854":{"dur":3,"text":"On Nexus devices we've seen\nadoption of secure lock screen"},"857":{"dur":3,"text":"go from about 50% to\nover 90% on devices"},"860":{"dur":1,"text":"where a fingerprint\nis available."},"862":{"dur":3,"text":"Because it's just\nso much easier."},"865":{"dur":1,"text":"We've also made changes\nfor those devices that"},"867":{"dur":1,"text":"don't have access\nto fingerprint,"},"869":{"dur":3,"text":"for one reason or another,\nthrough things like Smart Lock."},"872":{"dur":2,"text":"One of the capabilities\nthat Smart Lock provides"},"874":{"dur":2,"text":"is what we call\non body detection,"},"876":{"dur":1,"text":"where we monitor\nhow the device is"},"878":{"dur":1,"text":"interacting with the\nenvironment around them."},"880":{"dur":0,"text":"Is it in their pocket?"},"881":{"dur":2,"text":"Do we think it's still in\ncontrol of the individual who"},"883":{"dur":1,"text":"first unlocked it?"},"884":{"dur":2,"text":"The use of that alone\ncan reduce the frequency"},"887":{"dur":3,"text":"with which users need to\nauthenticate by over 50%."},"890":{"dur":1,"text":"We've seen that\nin our experience."},"892":{"dur":3,"text":"So we've got good progress on\nmaking authentication easier"},"896":{"dur":2,"text":"So that's one of the things\nthat we're striving for."},"899":{"dur":1,"text":"The other thing that\nwe're trying to do"},"900":{"dur":2,"text":"is make authentication stronger."},"903":{"dur":2,"text":"So there are some\nchanges there as well."},"905":{"dur":3,"text":"One of them was to\nallow applications"},"908":{"dur":2,"text":"to tie their secrets\nto authentication."},"911":{"dur":2,"text":"So you can make sure that\nyour application will only"},"914":{"dur":3,"text":"function if the user\nhas a secure lock screen"},"917":{"dur":2,"text":"and they have been\nrecently authenticated."},"919":{"dur":2,"text":"So that's an important\nchange that you can make."},"921":{"dur":2,"text":"One of the types of things\nthat an application that"},"923":{"dur":1,"text":"worries about, say\nfinancial systems"},"925":{"dur":2,"text":"or access to sensitive\ndata, would want to do."},"927":{"dur":2,"text":"Another thing that we've done\nis to move the authentication"},"930":{"dur":1,"text":"actually into TrustZone."},"932":{"dur":2,"text":"So that even if the\noverall operating system"},"934":{"dur":2,"text":"has been compromised,\nthere is no mechanism"},"937":{"dur":4,"text":"available for the device\nto leak the credential,"},"941":{"dur":4,"text":"the fingerprint, for example, or\nthe user's lock screen password"},"945":{"dur":2,"text":"into a place that it\ncould do and exhaust"},"948":{"dur":1,"text":"over the strength\nof that credential."},"954":{"dur":3,"text":"So you want to think about\nhow to use authentication."},"957":{"dur":2,"text":"We've provided some APIs so\nthat it's possible for you"},"959":{"dur":2,"text":"to directly invoke\nthe fingerprint APIs."},"961":{"dur":3,"text":"We've also provided APIs that\nallow you to control the user"},"965":{"dur":1,"text":"experience around that."},"966":{"dur":2,"text":"So you're not constrained\nin how you would represent"},"969":{"dur":1,"text":"what it means to authenticate."},"970":{"dur":2,"text":"This is again, you\nget to offer context"},"973":{"dur":2,"text":"for why it is that you're\nrequesting authentication."},"976":{"dur":1,"text":"We think that's a\nreally important part"},"977":{"dur":2,"text":"of the application experience\nis that you are effectively"},"979":{"dur":2,"text":"in control over how it is that\nyou represent to the user what"},"982":{"dur":1,"text":"you're going to do."},"983":{"dur":3,"text":"So in this instance,\nthat UI describing"},"986":{"dur":2,"text":"how fingerprint is taken\nplace is being drawn entirely"},"989":{"dur":1,"text":"by Google Play."},"991":{"dur":1,"text":"They get to describe,\nwe're going to do this."},"992":{"dur":1,"text":"And here's how we're\ngoing to use it,"},"994":{"dur":1,"text":"if they want to do that."},"995":{"dur":1,"text":"And you can do that in\nyour application as well."},"999":{"dur":3,"text":"Just to give a quick example,\nvery, very straightforward how"},"1003":{"dur":3,"text":"you create a key in this\ninstance and then bind"},"1007":{"dur":4,"text":"that to a fingerprint."},"1011":{"dur":2,"text":"In this instance, the thing\nthat I wanted to highlight"},"1013":{"dur":4,"text":"is that you're actually creating\na callback, a wrap based"},"1017":{"dur":1,"text":"on the key, and\nyou're only going"},"1019":{"dur":3,"text":"to do the decryption if the user\nhas successfully authenticated."},"1022":{"dur":1,"text":"So you now know that\nthe data associated"},"1024":{"dur":2,"text":"with your application that's\nbeen wrapped in that key"},"1026":{"dur":2,"text":"simply doesn't exist and is not\naccessible until after the user"},"1029":{"dur":1,"text":"is authenticated."},"1030":{"dur":3,"text":"I'll talk in a couple\nof minutes about how"},"1034":{"dur":1,"text":"we're doing direct to boot."},"1035":{"dur":2,"text":"And it has a similar model,\nwhere application data is not"},"1038":{"dur":4,"text":"available until the user has\nalready been authenticated."},"1042":{"dur":3,"text":"So a couple of best\npractices, I think"},"1046":{"dur":4,"text":"that there's a real\nopportunity to off-bound keys"},"1050":{"dur":5,"text":"to drive both adoption of\nthe use of authentication"},"1056":{"dur":1,"text":"on the lock screen and\nsecure lock screen."},"1058":{"dur":1,"text":"And also to simplify\nthe way that the user"},"1060":{"dur":2,"text":"is going to be interacting\nwith your application."},"1062":{"dur":2,"text":"Then you don't need to have\na check for pin or password"},"1064":{"dur":1,"text":"when a user comes in\nto your application,"},"1065":{"dur":0,"text":"no matter how sensitive it is."},"1066":{"dur":2,"text":"Because you know that they very\nrecently have gone through that"},"1069":{"dur":1,"text":"authentication already\nat the lock screen."},"1071":{"dur":2,"text":"So I would definitely\nencourage using that mechanism."},"1073":{"dur":1,"text":"You can time bound it\nand say, if they've"},"1075":{"dur":2,"text":"logged in the last minute, the\nlast five minutes, the last 10"},"1077":{"dur":2,"text":"minutes, whatever's appropriate\nfor your application"},"1079":{"dur":3,"text":"to drive good security\npractices consistent"},"1082":{"dur":1,"text":"with your application."},"1083":{"dur":1,"text":"The other thing that I\nwould encourage you to do"},"1085":{"dur":3,"text":"is certainly favor fingerprint."},"1089":{"dur":3,"text":"You know the evidence seems\nto be that a fingerprint"},"1092":{"dur":1,"text":"readers exist on a device."},"1094":{"dur":1,"text":"That's going to be the\nmechanism that users"},"1095":{"dur":0,"text":"are going to want to use."},"1096":{"dur":2,"text":"So I would encourage you to\nuse that as your mechanism"},"1098":{"dur":3,"text":"to do binding of\nauthentication credentials"},"1101":{"dur":2,"text":"to key material\ninside of Keystore."},"1104":{"dur":2,"text":"If that's not available,\nthen falling back"},"1106":{"dur":2,"text":"to doing something like create\nconfirmed device credential"},"1108":{"dur":3,"text":"intent as a means to bind to\nwhatever other secure lock"},"1112":{"dur":1,"text":"screen they have\non the devices is"},"1114":{"dur":2,"text":"a perfectly reasonable fallback\nfor those devices where"},"1116":{"dur":1,"text":"fingerprint isn't available."},"1120":{"dur":1,"text":"So we've covered a couple\nof features so far."},"1122":{"dur":2,"text":"We're going to get now\ninto the crypto section."},"1124":{"dur":2,"text":"Talk first about\nsecure networking"},"1126":{"dur":1,"text":"and then get into\nsecure storage."},"1134":{"dur":6,"text":"It's amazing to me how often\nsimple changes can make"},"1141":{"dur":3,"text":"a huge difference in security."},"1144":{"dur":3,"text":"We spent a minute thinking\nabout users and how many of them"},"1148":{"dur":3,"text":"choose not to have\na lock screen."},"1151":{"dur":1,"text":"Because it's complicated."},"1152":{"dur":3,"text":"Because it's difficult.\nIn the same way,"},"1155":{"dur":2,"text":"we find that application\ndevelopers often"},"1157":{"dur":3,"text":"choose not to use secure\nnetworking because a little bit"},"1161":{"dur":1,"text":"too difficult."},"1162":{"dur":2,"text":"So what we've been doing over\nthe last couple of releases"},"1165":{"dur":2,"text":"is trying to make that simpler."},"1167":{"dur":1,"text":"One of the complexities\nthat we found"},"1169":{"dur":1,"text":"is that application\ndevelopers just"},"1171":{"dur":3,"text":"don't know whether they're\nusing secure traffic or not."},"1174":{"dur":3,"text":"A good example might be, they've\nincorporated an advertising"},"1177":{"dur":2,"text":"library into their application."},"1180":{"dur":4,"text":"Does that advertising library\nuse HTTPS to request assets"},"1184":{"dur":2,"text":"when it sends up device\nidentifiers or user identifiers"},"1186":{"dur":1,"text":"in order to request\nthose advertisements that"},"1188":{"dur":1,"text":"have been personalized\nfor that application?"},"1190":{"dur":1,"text":"Do you know?"},"1191":{"dur":2,"text":"And so one of the features\nthat was introduced in Android"},"1194":{"dur":2,"text":"Marshmallow was the ability\nfor an application to say,"},"1197":{"dur":3,"text":"you know what, I want to\nuse clear-text traffic."},"1200":{"dur":2,"text":"And conversely, I\ndon't think that I"},"1202":{"dur":2,"text":"need to use clear-text traffic."},"1205":{"dur":2,"text":"If you're an\napplication like gmail,"},"1207":{"dur":2,"text":"you can say I know that all\nmy connections are going up"},"1209":{"dur":0,"text":"to a Google server."},"1210":{"dur":1,"text":"And that's the one\nthat's been protected."},"1211":{"dur":2,"text":"I can say, whoop, I'm going to\nnot use any clear-text traffic."},"1214":{"dur":1,"text":"If you're a different\napplication,"},"1215":{"dur":2,"text":"then you need to go through\nthe process of evaluating"},"1217":{"dur":0,"text":"whether it's there."},"1218":{"dur":2,"text":"So this is a feature that\nwas put in place to simplify"},"1220":{"dur":1,"text":"understanding whether\nyour application actually"},"1222":{"dur":1,"text":"uses clear-text traffic."},"1223":{"dur":2,"text":"And to give users visibility\ninto whether you think"},"1226":{"dur":2,"text":"you use clear-text traffic."},"1229":{"dur":3,"text":"So, it's really straightforward,\nvery easy to use."},"1232":{"dur":2,"text":"Inside your manifests,\nit's very simple."},"1234":{"dur":1,"text":"Do you use clear-text traffic?"},"1236":{"dur":2,"text":"No."},"1238":{"dur":4,"text":"And then API, such\nas URL-- yeah,"},"1243":{"dur":3,"text":"HTTP:\/\/URL Connect, where\nit's not using HTTPS"},"1246":{"dur":1,"text":"will simply not work."},"1248":{"dur":1,"text":"So those APIs that\nare known to be"},"1250":{"dur":2,"text":"insecure in transmitting user\ndata across a network simply"},"1252":{"dur":0,"text":"no longer function."},"1253":{"dur":1,"text":"They'll return a security error."},"1255":{"dur":2,"text":"And you can bail out."},"1257":{"dur":2,"text":"So that's great."},"1259":{"dur":2,"text":"Except that it turns\nout most applications"},"1261":{"dur":2,"text":"do some stuff secure and\nsome stuff not secure."},"1263":{"dur":2,"text":"So we knew that we needed\nto provide more flexibility."},"1265":{"dur":1,"text":"And so that's one of\nthe things that we"},"1267":{"dur":2,"text":"began focusing on in\nAndroid N is how do we"},"1270":{"dur":3,"text":"have more granular\ncontrols while recognizing"},"1273":{"dur":2,"text":"that the granularity that's\nexisted in SSL and TLS"},"1276":{"dur":3,"text":"Stacks and the SSL\nAPIs has been a source"},"1280":{"dur":3,"text":"of incredible complexity\nand incredible difficulty"},"1283":{"dur":1,"text":"in deployment."},"1284":{"dur":2,"text":"And so what we want to do\nwith network security config"},"1287":{"dur":3,"text":"is make it really easy for you,\nas an application developer,"},"1290":{"dur":2,"text":"to know where you're\nusing secure transports."},"1293":{"dur":1,"text":"And then to control\nthose transports"},"1295":{"dur":2,"text":"in a way that doesn't make\nyour coding really difficult."},"1297":{"dur":1,"text":"So it's entirely declarative."},"1298":{"dur":1,"text":"And it's all in the manifest."},"1300":{"dur":2,"text":"So let's talk about some\nof the basic capabilities."},"1303":{"dur":2,"text":"Well here's a really simple one."},"1305":{"dur":3,"text":"It turns out, I don't use\nsecure traffic everywhere."},"1309":{"dur":2,"text":"But I know that I use it\non secure.example.com."},"1311":{"dur":2,"text":"And so I can use\na domain config."},"1314":{"dur":4,"text":"I set up where this domain is\none that uses secure traffic."},"1319":{"dur":4,"text":"OK, so it does use clear-text\ntraffic, specifies it as false."},"1323":{"dur":2,"text":"And I don't make any claims\nabout any other domains"},"1326":{"dur":2,"text":"that my application might\nbe interacting with."},"1329":{"dur":2,"text":"So you can keep that\nadvertising library"},"1331":{"dur":1,"text":"that otherwise would\nhave prevented you"},"1332":{"dur":2,"text":"from being confident about\nthe rest of the functionality"},"1334":{"dur":0,"text":"of your application."},"1339":{"dur":2,"text":"So that's the start\nof the types of things"},"1342":{"dur":1,"text":"that you'd want\nto be able to do."},"1343":{"dur":1,"text":"Another thing that\nwe've found is that it's"},"1345":{"dur":3,"text":"very difficult to do debugging."},"1348":{"dur":2,"text":"We see that in the context\nof Google on a regular basis."},"1351":{"dur":1,"text":"The way that we interact\nwith our debug infrastructure"},"1352":{"dur":2,"text":"is different from the way that\nwe do interact with our release"},"1355":{"dur":0,"text":"infrastructure."},"1356":{"dur":1,"text":"We have different\nkey material on them."},"1358":{"dur":2,"text":"We might not come from a\ncertificate authority that's"},"1360":{"dur":1,"text":"a well known certificate\nauthority that's"},"1362":{"dur":1,"text":"on all the Android devices."},"1363":{"dur":1,"text":"Because it's just a\ntest infrastructure."},"1365":{"dur":2,"text":"And you don't want to have\nto pay for and maintain"},"1367":{"dur":3,"text":"that sort of complex or\ncostly SSL infrastructure."},"1370":{"dur":2,"text":"Not that it's that costly,\nbut that's the mindset"},"1372":{"dur":1,"text":"of a lot of developers."},"1374":{"dur":1,"text":"And so one of the things\nthat we want to do"},"1375":{"dur":1,"text":"is make it really simple."},"1377":{"dur":2,"text":"Because in the past, the way\nthat developers have done this,"},"1379":{"dur":2,"text":"is they've had to go\nthrough a lot of custom code"},"1382":{"dur":2,"text":"to change how SSL\nhandling took place"},"1384":{"dur":1,"text":"inside the context\nof their application."},"1386":{"dur":1,"text":"So we're going to do that all\nin the manifest now with network"},"1388":{"dur":1,"text":"security config."},"1389":{"dur":1,"text":"So that should make it\nreally, really simple"},"1391":{"dur":3,"text":"for you to test in a way\nthat's distinct from, entirely"},"1394":{"dur":2,"text":"independent from, your\nrelease infrastructure,"},"1397":{"dur":2,"text":"but also not have to write\nany custom code to do that."},"1400":{"dur":2,"text":"So what does it look like?"},"1402":{"dur":3,"text":"Here's a pretty simple way to\ndo it, network security config."},"1406":{"dur":1,"text":"You declare debug overrides."},"1408":{"dur":2,"text":"And you set a different\nset of trust anchors"},"1410":{"dur":3,"text":"when your application is\nrunning in a debug environment."},"1414":{"dur":1,"text":"And you specify what\nthose trust anchors are."},"1416":{"dur":1,"text":"You can include them\nin your applications,"},"1417":{"dur":1,"text":"as is being done here."},"1419":{"dur":1,"text":"This is actually specifying\nthat they're going"},"1421":{"dur":1,"text":"to be in your application."},"1422":{"dur":1,"text":"And you now know that\nwhen your application is"},"1424":{"dur":4,"text":"no longer in a debug build,\nno change to your code at all."},"1429":{"dur":1,"text":"You've released it\nin release mode."},"1431":{"dur":1,"text":"You ship it."},"1432":{"dur":2,"text":"And all of the code related\nto this debug overrides"},"1434":{"dur":2,"text":"is no longer going to be\npresent inside the application."},"1436":{"dur":0,"text":"Really straightforward."},"1442":{"dur":1,"text":"You may want to\ndo things that are"},"1443":{"dur":4,"text":"more sophisticated than just\ndomain level restrictions,"},"1448":{"dur":1,"text":"using the built in\ncertificate authorities,"},"1450":{"dur":3,"text":"or differentiating your\ndebug hardware, debug"},"1453":{"dur":2,"text":"infrastructure, from your\nrelease infrastructure."},"1455":{"dur":1,"text":"So let's talk about\nthat for just a second."},"1457":{"dur":1,"text":"Here's a couple\nof different ways"},"1459":{"dur":2,"text":"that you can actually limit\nthe set of certificates"},"1461":{"dur":3,"text":"that you interact with without\nneeding to write your own SSL"},"1465":{"dur":2,"text":"error handlers and SSL\ncertificate validation"},"1467":{"dur":0,"text":"routines."},"1468":{"dur":3,"text":"Really simple one, these\nare domains for which"},"1472":{"dur":2,"text":"we are going to include\nthe certificates that"},"1474":{"dur":4,"text":"are tied to those domains\nin our application."},"1478":{"dur":2,"text":"So we specify\nsecure.example.com,"},"1481":{"dur":1,"text":"cdn.example.com."},"1482":{"dur":2,"text":"And these are apps, these\nare certs, that are actually"},"1485":{"dur":2,"text":"going to be directly in my app."},"1487":{"dur":2,"text":"So don't rely on the\nsystem certificates."},"1489":{"dur":2,"text":"I don't need to go\nbuy a certificate"},"1492":{"dur":1,"text":"or validate with somebody else."},"1493":{"dur":2,"text":"My application's trust is\ncontained entirely inside"},"1495":{"dur":0,"text":"of that application."},"1496":{"dur":1,"text":"And then I can connect\nout to that server."},"1502":{"dur":1,"text":"Another thing that we\noften get asked about"},"1504":{"dur":2,"text":"is, how do I do\ncertificate pinning?"},"1506":{"dur":2,"text":"Certificate pinning,\nin case you're not"},"1509":{"dur":2,"text":"familiar with the\nterm, is to identify"},"1511":{"dur":4,"text":"a specific certificate, not\na CA, no a certificate chain,"},"1515":{"dur":2,"text":"but a specific certificate that\nyou expect to be associated"},"1517":{"dur":1,"text":"with a particular web service."},"1519":{"dur":2,"text":"So one of the capabilities\nthat we introduced here"},"1521":{"dur":3,"text":"is the ability to specify a pin,\nagain directly in the manifest,"},"1524":{"dur":2,"text":"so you don't have to\nmanipulate the SSL code"},"1526":{"dur":1,"text":"or do your own\ncertificate validation."},"1528":{"dur":1,"text":"And you can very quickly\nmake a change to that"},"1530":{"dur":1,"text":"if you'd like to do so."},"1531":{"dur":4,"text":"I would caution that pinning\nand managing your own trusts"},"1536":{"dur":1,"text":"can be a little bit tricky."},"1538":{"dur":2,"text":"And so we definitely encourage\nyou to use the built ins."},"1540":{"dur":2,"text":"But we also wanted to make sure\nthat you have the flexibility"},"1543":{"dur":1,"text":"to do things."},"1544":{"dur":2,"text":"if you really want to cause\nyourself a little more"},"1546":{"dur":3,"text":"grief than you\notherwise had to do."},"1550":{"dur":3,"text":"So here's how I would\ndescribe that in bullet points"},"1553":{"dur":1,"text":"on a slide."},"1554":{"dur":2,"text":"There's a bunch of changes that\nwe made with network security"},"1557":{"dur":2,"text":"config and some best\npractices that we"},"1559":{"dur":3,"text":"think are appropriate\nfor nearly everyone."},"1563":{"dur":2,"text":"A good example of\nthat is identifying"},"1565":{"dur":1,"text":"what are the domains\nthat you expect"},"1566":{"dur":3,"text":"all of the traffic on\nthose domains to be secure."},"1570":{"dur":1,"text":"And actually specify that."},"1571":{"dur":3,"text":"Say it uses clear-text\ntraffic and set it to false."},"1574":{"dur":2,"text":"So that you can make sure\nthat you don't accidentally"},"1576":{"dur":2,"text":"send any insecure data\nover those networks."},"1579":{"dur":3,"text":"Ideally, we would like you\nto do it for everything."},"1582":{"dur":1,"text":"But we're not there quite yet."},"1583":{"dur":0,"text":"We realize that."},"1584":{"dur":1,"text":"So this is incremental."},"1585":{"dur":1,"text":"And eventually\nwe'll get to a point"},"1586":{"dur":1,"text":"where it can be\ndone for everything"},"1588":{"dur":2,"text":"across the entire\nAndroid ecosystem"},"1590":{"dur":2,"text":"as we are pushing to do the\nsame across the broader web."},"1596":{"dur":2,"text":"Another important\nchange that was made"},"1598":{"dur":2,"text":"was that user installed\ncertificates are no longer"},"1601":{"dur":2,"text":"trusted by default.\nThe user on a device"},"1603":{"dur":2,"text":"has the ability to go\nin, add a certificate,"},"1606":{"dur":1,"text":"and, previously, had\nthe ability to then man"},"1608":{"dur":2,"text":"in the middle, traffic\nbetween your application"},"1610":{"dur":1,"text":"and your server infrastructure."},"1612":{"dur":2,"text":"There's a lot of reasons why\nthey might want to do that."},"1614":{"dur":1,"text":"And there's a lot\nof reasons that you"},"1616":{"dur":2,"text":"might want to enable it in\nyour application as well."},"1618":{"dur":3,"text":"On the other hand, we thought\nand we found in conversations"},"1621":{"dur":2,"text":"with developers, that the\nvast majority of developers"},"1623":{"dur":1,"text":"don't anticipate that."},"1625":{"dur":1,"text":"And if they're connecting\nto their own infrastructure"},"1626":{"dur":2,"text":"and to nowhere else, they\ndon't see a particular reason"},"1629":{"dur":0,"text":"to enable that."},"1630":{"dur":2,"text":"And so there was a risk\nof users unintentionally"},"1632":{"dur":1,"text":"installing\ncertificates that could"},"1634":{"dur":1,"text":"allow for a man in the middle."},"1635":{"dur":3,"text":"And so we've changed the\ndefault to no longer have"},"1639":{"dur":2,"text":"user certificates\nbe, by default,"},"1642":{"dur":2,"text":"able to intercept traffic\nbetween your application"},"1645":{"dur":0,"text":"and your endpoint."},"1646":{"dur":1,"text":"You can change that\nif you want to."},"1647":{"dur":1,"text":"There may be\nsituations where it's"},"1648":{"dur":2,"text":"appropriate to do that in the\ncontext of your application."},"1651":{"dur":2,"text":"It's something for you to\ntake a look at and make"},"1653":{"dur":1,"text":"a determination for."},"1655":{"dur":3,"text":"The other thing that we've tried\nto do is simplify debugging."},"1658":{"dur":2,"text":"So I would encourage you to\ngo look at your application."},"1661":{"dur":3,"text":"If you have any SSL handling\nthat you've implemented"},"1665":{"dur":3,"text":"that's custom handling, custom\ncert verification, custom SSL"},"1668":{"dur":2,"text":"handlers, you\nprobably can replace"},"1670":{"dur":1,"text":"that with network\nsecurity config"},"1672":{"dur":1,"text":"and make it much easier\nto make sure that you"},"1673":{"dur":1,"text":"don't make a mistake in that."},"1678":{"dur":2,"text":"If you want to do\nsomething and you"},"1681":{"dur":2,"text":"feel confident in\nyour ability to manage"},"1684":{"dur":1,"text":"your own certificates,\nwe've provided that"},"1686":{"dur":2,"text":"and try to make that a little\nbit simpler for you as well."},"1688":{"dur":4,"text":"But as I mentioned, this is\na little bit more difficult"},"1693":{"dur":1,"text":"and a little bit\nmore error prone."},"1694":{"dur":2,"text":"So it's something that\nyou'd want to think through."},"1700":{"dur":2,"text":"So we talked about networking."},"1702":{"dur":2,"text":"Now let's get into the thing\nthat we so often just refer"},"1705":{"dur":5,"text":"to as encryption, the big\nencryption debates of 2016."},"1710":{"dur":1,"text":"I've been spending a\nlot of my time talking"},"1712":{"dur":2,"text":"about why it is that\nstorage encryption is"},"1715":{"dur":2,"text":"so important for\nprotecting user data."},"1718":{"dur":3,"text":"The benefits that it has accrued\non the ecosystem where we're"},"1721":{"dur":3,"text":"now able to deliver applications\nlike Android Pay, where it's"},"1724":{"dur":3,"text":"possible for a developer\nto rely on the integrity"},"1727":{"dur":1,"text":"and the confidentiality\nof information"},"1729":{"dur":2,"text":"that's critical to the\napplication on the device."},"1731":{"dur":2,"text":"That's one of the\nreasons among many"},"1734":{"dur":1,"text":"that we've moved\ntowards requiring"},"1736":{"dur":2,"text":"encryption on all\ncapable devices"},"1738":{"dur":1,"text":"starting with Marshmallow."},"1740":{"dur":1,"text":"We made that mandatory."},"1742":{"dur":2,"text":"And we've been making\nthat more and more robust."},"1744":{"dur":2,"text":"Because we think direct physical\nthreats to the user's device"},"1747":{"dur":2,"text":"are one of the things that we\nneed to be concerned about."},"1749":{"dur":2,"text":"These are devices that we\nmove around in the world with."},"1752":{"dur":2,"text":"They are sometimes\nattached to your wrist."},"1754":{"dur":1,"text":"They're sometimes in your car."},"1756":{"dur":3,"text":"There's a lot of different\nways that having strong storage"},"1759":{"dur":2,"text":"encryption is really\nfundamental to Android security."},"1762":{"dur":2,"text":"But that doesn't mean\nwe can't make it better."},"1764":{"dur":1,"text":"It doesn't mean that we\ncan't improve it from a user"},"1766":{"dur":0,"text":"experience standpoint."},"1767":{"dur":2,"text":"And so one of the big\nchanges with the Android N"},"1769":{"dur":2,"text":"is what we refer\nto as Direct Boot."},"1771":{"dur":2,"text":"I'll talk about it both\nfrom a user perspective"},"1774":{"dur":1,"text":"and then I'll get\ninto it a little bit"},"1775":{"dur":2,"text":"from a developer's perspective."},"1777":{"dur":2,"text":"From a user perspective,\ndirect boot basically"},"1780":{"dur":2,"text":"means I don't go through\ntwo times putting"},"1782":{"dur":2,"text":"in my user's password."},"1784":{"dur":1,"text":"I don't have to\ndouble enter that."},"1786":{"dur":2,"text":"Because currently, the first\ntime the device comes up,"},"1789":{"dur":0,"text":"you have to enter it."},"1790":{"dur":1,"text":"The device is then decrypted."},"1791":{"dur":3,"text":"And then you get it again as\nyou're interacting with it."},"1794":{"dur":1,"text":"It also means that\nall of the data"},"1796":{"dur":2,"text":"is decrypted after you've\nentered it the first time."},"1798":{"dur":2,"text":"So we'll talk about that\nmore in just a second."},"1800":{"dur":3,"text":"Another challenge that exists\nwith full disk encryption"},"1804":{"dur":5,"text":"is it means that, yes, all the\ndata is protected all the time."},"1809":{"dur":6,"text":"But until the user has entered\ntheir password, you're stuck."},"1815":{"dur":2,"text":"No application has the\nability to access data."},"1818":{"dur":2,"text":"And so one of the\nimportant changes"},"1820":{"dur":1,"text":"is the device will now come up."},"1822":{"dur":2,"text":"And things that are running\nin the background, things"},"1824":{"dur":5,"text":"like inbound calls,\ninbound SMS, your alarm"},"1830":{"dur":1,"text":"clock in the morning\nfor those of you"},"1832":{"dur":2,"text":"who had to get up earlier\nthan the six o'clock shuttle"},"1834":{"dur":2,"text":"coming down from\nSan Francisco, who"},"1836":{"dur":2,"text":"didn't have the fortune that\nI did of having a two-year-old"},"1838":{"dur":3,"text":"wake you up at 3:00 so\nyou were already awake."},"1842":{"dur":1,"text":"You rely on your alarm clock?"},"1843":{"dur":4,"text":"I don't have to do that for\nanother six or so months."},"1848":{"dur":2,"text":"And so we move towards\nmaking that work,"},"1851":{"dur":2,"text":"even if the user hasn't\nput in their credential."},"1853":{"dur":2,"text":"So that's what it looks\nlike from a user standpoint."},"1855":{"dur":1,"text":"What's it look like from\na developer standpoint?"},"1857":{"dur":1,"text":"We introduced two\ndifferent concepts"},"1859":{"dur":1,"text":"in terms of storage encryption."},"1861":{"dur":2,"text":"The first is the one\nthat's most familiar to you"},"1864":{"dur":2,"text":"right now, credential\nencryption."},"1866":{"dur":3,"text":"That means this data is only\navailable after the user has"},"1870":{"dur":2,"text":"entered their credential."},"1872":{"dur":3,"text":"We also have what we refer\nto as device encrypted data."},"1876":{"dur":3,"text":"This is data that's\navailable with a key that's"},"1880":{"dur":1,"text":"stored in TrustZone."},"1881":{"dur":3,"text":"So it's protected in a variety\nof different mechanisms"},"1884":{"dur":1,"text":"against extractions."},"1885":{"dur":1,"text":"The data is still\nencrypted, but it's"},"1887":{"dur":3,"text":"encrypted with a key that's\nonly tied to the device."},"1890":{"dur":2,"text":"Applications by\ndefault are going"},"1892":{"dur":1,"text":"to run in credential\nencrypted environment."},"1894":{"dur":2,"text":"So if you don't change anything,\nthe behavior you have is going"},"1897":{"dur":1,"text":"to be exactly the way your\napplication works now,"},"1899":{"dur":2,"text":"which is once the user logs\nin, you can access the data"},"1901":{"dur":2,"text":"and you can kind of\nproceed along your way."},"1903":{"dur":4,"text":"But if you have an application\nthat requires access"},"1908":{"dur":2,"text":"to information potentially\nbefore the user had entered"},"1910":{"dur":1,"text":"their credentials, you\ncan declare yourself"},"1912":{"dur":1,"text":"to be direct boot aware."},"1914":{"dur":2,"text":"And then you have\naccess to the data"},"1916":{"dur":2,"text":"in the context of the\nactivity that's been declared"},"1918":{"dur":1,"text":"to be direct boot aware."},"1919":{"dur":1,"text":"And you can actually\ninteract with it."},"1921":{"dur":1,"text":"So that's how TalkBacks works."},"1923":{"dur":1,"text":"That's how a SMS' works."},"1924":{"dur":3,"text":"That's how alarms\nstore, this is an alarm,"},"1927":{"dur":1,"text":"and immediately\nupon reboot, I want"},"1929":{"dur":1,"text":"to be able to execute\non that alarm."},"1933":{"dur":1,"text":"What does it mean\nto declare yourself"},"1935":{"dur":1,"text":"to be direct boot aware?"},"1936":{"dur":1,"text":"Pretty straightforward."},"1938":{"dur":1,"text":"The top half of this\nis in the manifest."},"1939":{"dur":2,"text":"You just say, I'm\ndirect boot aware."},"1942":{"dur":3,"text":"OK, and then that\nreceiver can be triggered."},"1945":{"dur":3,"text":"In the event that a particular\nintent is fired like,"},"1949":{"dur":3,"text":"I don't know, boot complete,\nthen your application"},"1952":{"dur":1,"text":"will start running\nin the context"},"1953":{"dur":2,"text":"of that particular receiver."},"1956":{"dur":2,"text":"To use storage, which\npresumably is one of the things"},"1958":{"dur":1,"text":"that you'd want to\ndo, you're going"},"1960":{"dur":4,"text":"to need to create storage\nthat's in the context of device"},"1964":{"dur":0,"text":"protected storage."},"1965":{"dur":1,"text":"And so there's a\nlittle snippet of code"},"1966":{"dur":0,"text":"down there at the bottom."},"1967":{"dur":1,"text":"You create your app context."},"1968":{"dur":1,"text":"You use your app context."},"1969":{"dur":2,"text":"And then you create a device\nprotect and storage context."},"1972":{"dur":1,"text":"And then you just open it."},"1973":{"dur":2,"text":"You interact with it exactly\nlike you would any other way."},"1976":{"dur":3,"text":"When you are running in what I\nrefer to as the device context,"},"1979":{"dur":2,"text":"as opposed to the credential\nprotected context,"},"1982":{"dur":3,"text":"you can still create files\nthat are credential protected."},"1985":{"dur":1,"text":"You just can't read them."},"1989":{"dur":1,"text":"But there are lots of\nways that could be useful."},"1991":{"dur":0,"text":"You can append."},"1995":{"dur":2,"text":"So if you receive an\ninbound mail message."},"1997":{"dur":2,"text":"And you've got a really\nhorrible mail storage"},"2000":{"dur":2,"text":"format where you just append."},"2002":{"dur":1,"text":"You could just grab\nthe headers and display"},"2004":{"dur":0,"text":"that on the lock screen."},"2005":{"dur":1,"text":"And then take the actual\ncontent and push it"},"2007":{"dur":2,"text":"into credential\nprotected storage."},"2009":{"dur":2,"text":"You'd probably want to do\nthat just for the cache,"},"2011":{"dur":1,"text":"not for all of your mail."},"2012":{"dur":1,"text":"But you could do\nthose kinds of things"},"2014":{"dur":1,"text":"where you have a\nsophisticated user"},"2015":{"dur":2,"text":"experience while maintaining\noptimal security."},"2018":{"dur":3,"text":"So let's talk about some\nof those best practices."},"2022":{"dur":1,"text":"The first thing I want\nto do is point out,"},"2023":{"dur":1,"text":"just use the defaults."},"2024":{"dur":1,"text":"The vast majority\nof applications,"},"2026":{"dur":1,"text":"you're not expecting\nyour application"},"2027":{"dur":3,"text":"to do much, if anything,\nprior to the user logging in."},"2030":{"dur":1,"text":"And so it's\nperfectly appropriate"},"2032":{"dur":0,"text":"to use the defaults."},"2033":{"dur":2,"text":"And that sort of optimal\nfrom a security standpoint."},"2035":{"dur":2,"text":"It also makes your life a little\nbit simpler because you don't"},"2038":{"dur":1,"text":"have to think, is\nthis available to me"},"2039":{"dur":1,"text":"now in the device context?"},"2040":{"dur":1,"text":"Am I able to access credentials?"},"2042":{"dur":1,"text":"It's there if you're running."},"2044":{"dur":3,"text":"If you aren't direct\nboot aware, everything's"},"2047":{"dur":1,"text":"there if you're running."},"2048":{"dur":1,"text":"If you are direct\nboot aware, then you"},"2050":{"dur":2,"text":"have to be direct boot aware\nof which things are going"},"2052":{"dur":2,"text":"to be available at that time."},"2055":{"dur":2,"text":"The other best practice\nis, think very carefully"},"2057":{"dur":1,"text":"about if you are\ndirect boot aware,"},"2059":{"dur":2,"text":"which things do you want to\nput into the device encrypted"},"2061":{"dur":2,"text":"or device protected storage?"},"2063":{"dur":3,"text":"Please don't put long live\ncredentials into that area."},"2067":{"dur":1,"text":"So you don't want\nto have off tokens"},"2069":{"dur":2,"text":"that are sitting there that\ncould be used to connect"},"2071":{"dur":3,"text":"to a service, even though the\nuser hasn't authorized that"},"2074":{"dur":2,"text":"by entering their credential."},"2076":{"dur":1,"text":"One of the things that\nwe want to think about"},"2078":{"dur":2,"text":"is, can you limit\nthe scope of tokens?"},"2081":{"dur":3,"text":"So if you have something\nlike a mail receiver, maybe"},"2084":{"dur":1,"text":"you just want to read mail."},"2085":{"dur":1,"text":"But that doesn't\nnecessarily mean"},"2087":{"dur":2,"text":"that you're going to send it."},"2089":{"dur":1,"text":"If you don't expect\nthe user ever"},"2090":{"dur":1,"text":"to be able to send mail\nwhen they haven't actually"},"2092":{"dur":1,"text":"logged onto the\ndevice, you certainly"},"2094":{"dur":1,"text":"don't expect them\nto be able to like,"},"2095":{"dur":1,"text":"I don't know, delete\ntheir account,"},"2097":{"dur":1,"text":"delete all of their messages."},"2098":{"dur":1,"text":"These are not tasks\nthat you would"},"2100":{"dur":2,"text":"expect to happen before\nthe user has logged in."},"2102":{"dur":1,"text":"And so you would want\nto limit the scope"},"2104":{"dur":1,"text":"of the ability of\nthe application"},"2105":{"dur":2,"text":"to perform those behaviors by\nlimiting the authentication"},"2108":{"dur":3,"text":"tokens that it has\navailable inside that scope."},"2111":{"dur":1,"text":"And then the other\none that I hinted"},"2112":{"dur":2,"text":"at there, which is, if you\nreceive some data that you"},"2115":{"dur":2,"text":"think is sensitive, receive\nit, put it somewhere"},"2117":{"dur":0,"text":"that's encrypted."},"2118":{"dur":2,"text":"You can either encrypt\nit locally using"},"2120":{"dur":2,"text":"asymmetric cryptography like\npublic key, where you just"},"2122":{"dur":2,"text":"have the key that you\nhave the public key"},"2125":{"dur":2,"text":"in device protected\nstorage and the private key"},"2127":{"dur":2,"text":"to be able to decrypt it\ninside of the credential"},"2130":{"dur":1,"text":"protected storage."},"2131":{"dur":2,"text":"So you know that that key and\nthe ability to read the mail"},"2133":{"dur":3,"text":"requires the user to have\nentered their password."},"2137":{"dur":3,"text":"There's a variety of things\nyou can do there as well"},"2140":{"dur":2,"text":"OK, we're making good progress."},"2143":{"dur":1,"text":"We've got about 10 minutes left."},"2144":{"dur":2,"text":"We're going to barrel through\nverified boot and sandboxing."},"2147":{"dur":3,"text":"And I think we'll have two or\nthree minutes to talk questions"},"2150":{"dur":0,"text":"there at the end."},"2151":{"dur":1,"text":"And I'll hang out for a while."},"2152":{"dur":3,"text":"Enjoy the sunshine, which we\ndon't have up in San Francisco."},"2159":{"dur":4,"text":"Verified boot was introduced\nover a couple of releases"},"2163":{"dur":3,"text":"and then became required\non M for devices"},"2166":{"dur":3,"text":"that had hardware capable of\nproviding verified boot, which"},"2170":{"dur":2,"text":"basically amounts to devices\nthat met a performance"},"2172":{"dur":2,"text":"threshold of about 50\nmegabits per second AES"},"2175":{"dur":1,"text":"in line encryption."},"2176":{"dur":2,"text":"That's the vast majority\nof devices, by the way."},"2182":{"dur":4,"text":"In N we moved from what\nwe called enforcing mode"},"2186":{"dur":2,"text":"to strictly enforcing mode."},"2189":{"dur":3,"text":"With M it was acceptable for\na device to warn the user"},"2192":{"dur":2,"text":"and then proceed to\nboot, as a mechanism"},"2195":{"dur":2,"text":"for us to begin to validate\nhow frequently were we"},"2197":{"dur":1,"text":"seeing errors in the field?"},"2198":{"dur":1,"text":"What kinds of problems\nwere we seeing?"},"2199":{"dur":2,"text":"And making sure that there\nwas going to be disruption."},"2201":{"dur":2,"text":"One of, I think, the\nmore intriguing features"},"2204":{"dur":3,"text":"that was introduced in verified\nboot was error correction."},"2207":{"dur":3,"text":"It was introduced with Android\nN. This gives us the ability"},"2210":{"dur":2,"text":"to detect bit level\nerrors, and actually"},"2212":{"dur":2,"text":"lots of bit level errors."},"2214":{"dur":3,"text":"And they actually get corrected\nat the time those blocks are"},"2217":{"dur":2,"text":"being read at the kernel level."},"2220":{"dur":3,"text":"And so, when you're dealing\nwith very low-end hardware,"},"2223":{"dur":3,"text":"bit level errors were a\nproblem that we might run into."},"2226":{"dur":2,"text":"We've also seen at\nleast one instance"},"2229":{"dur":3,"text":"of testing where there\nwere actually changes made"},"2232":{"dur":3,"text":"that were-- after a\ndevice had been rooted,"},"2235":{"dur":1,"text":"there were changes\nmade to allow it"},"2237":{"dur":1,"text":"to continue to be\nrooted by adding SU"},"2238":{"dur":1,"text":"and a couple of other things."},"2240":{"dur":2,"text":"An error correction actually\nerased those changes."},"2242":{"dur":2,"text":"So they were still there,\nbut you couldn't actually"},"2245":{"dur":1,"text":"get them to execute,\nwhich is amazing."},"2246":{"dur":3,"text":"Totally an accident,\nbut pretty exciting."},"2250":{"dur":3,"text":"We're beginning to see\nhow those kinds of checks"},"2253":{"dur":2,"text":"could actually improve security\nin more than the expected ways."},"2259":{"dur":3,"text":"Verified boot is part of\nmaking it easier for you"},"2262":{"dur":1,"text":"as a developer to\nunderstand that you're"},"2264":{"dur":3,"text":"running in an environment that\nis a strong secure environment."},"2267":{"dur":2,"text":"And so there's one\nother thing that we"},"2269":{"dur":2,"text":"want to talk about in this\ncontext, which is the safety"},"2272":{"dur":2,"text":"net API and patch\nlevel strings, which"},"2274":{"dur":2,"text":"are both mechanisms\ndesigned to make it easier"},"2276":{"dur":1,"text":"for you as an\napplication developer"},"2278":{"dur":3,"text":"to understand what is the\nsecurity context of this device"},"2281":{"dur":1,"text":"that I'm running on?"},"2282":{"dur":1,"text":"So the safety net\nAPI-- I'll give you"},"2284":{"dur":2,"text":"an example code in just a\nsecond-- basically looks"},"2287":{"dur":2,"text":"at the device characteristics--\nand this goes back all the way"},"2290":{"dur":3,"text":"to Jelly Bean-- and\ntries to understand"},"2293":{"dur":1,"text":"whether this is a real device."},"2295":{"dur":2,"text":"It looks at a bunch of\nhardware characteristics,"},"2297":{"dur":2,"text":"including like how\ndoes the GPU work?"},"2300":{"dur":1,"text":"Not what is the\nGPU's serial number?"},"2301":{"dur":2,"text":"Not what is-- but performs\noperations on the GPU"},"2304":{"dur":1,"text":"to make sure that it's\nexecuting in a manner"},"2306":{"dur":2,"text":"that we would expect to\nbe consistent with a piece"},"2308":{"dur":2,"text":"of hardware that matches\nthis specification that's"},"2310":{"dur":1,"text":"being provided by the\noperating system that's"},"2312":{"dur":0,"text":"running on top of it."},"2313":{"dur":1,"text":"So we aggregate a\nwhole bunch of that,"},"2315":{"dur":2,"text":"analyze that, and make\na statement back to you"},"2317":{"dur":2,"text":"that yes, this looks like a\nreal piece of hardware that's"},"2320":{"dur":2,"text":"running a version of Android\nthat is a CTS compatible,"},"2323":{"dur":2,"text":"tested by OEM, and then\nsubmitted to Google"},"2325":{"dur":2,"text":"so that we can confirm that\nit's a real piece of hardware."},"2328":{"dur":1,"text":"So that's one of the\ngoals of SafetyNet API"},"2330":{"dur":1,"text":"is to make it possible\nfor you to have"},"2331":{"dur":1,"text":"that kind of confidence."},"2332":{"dur":1,"text":"And then another thing\nthat we introduced"},"2334":{"dur":2,"text":"was called the Android\npatch level string."},"2336":{"dur":3,"text":"The patch level string\nis really, really simple."},"2340":{"dur":2,"text":"You can check it,\nand you can see"},"2342":{"dur":3,"text":"when is the last time this\ndevice got a security update?"},"2346":{"dur":4,"text":"If history is any guide,\nwe've released now"},"2351":{"dur":3,"text":"10 monthly security updates."},"2354":{"dur":2,"text":"If that string is more\nthan a month out of date,"},"2356":{"dur":1,"text":"there are publicly\nknown security issues"},"2358":{"dur":1,"text":"that affect that device."},"2359":{"dur":1,"text":"So we're working with\nOEMs and carriers"},"2360":{"dur":1,"text":"to make sure that they're able\nto deliver updates very, very"},"2362":{"dur":0,"text":"quickly."},"2363":{"dur":2,"text":"But you as an\napplication developer"},"2365":{"dur":3,"text":"might want to look\nat that and evaluate"},"2368":{"dur":2,"text":"how much trust you have\nin that particular device."},"2370":{"dur":1,"text":"Especially in an\nenterprise context,"},"2372":{"dur":2,"text":"we're seeing more and more\nenterprises set policies that"},"2374":{"dur":1,"text":"say things like, if this\ndevice is out of date"},"2376":{"dur":2,"text":"more than 60 days, it's not\nappropriate for my enterprise"},"2379":{"dur":2,"text":"And we wanted to make that a\nreally simple thing for you"},"2382":{"dur":2,"text":"have to do so you don't have a\ntable of hot fixes and service"},"2384":{"dur":2,"text":"packs to figure out\nwhether a device is secure."},"2387":{"dur":3,"text":"If it's on KitKat or above, and\nit has a recent security patch"},"2390":{"dur":1,"text":"level, you know it's up to date."},"2392":{"dur":1,"text":"It's pretty simple."},"2393":{"dur":4,"text":"Regular expressions help me\nto make that determination."},"2397":{"dur":2,"text":"But let's talk about\nSafetyNet for just a second."},"2400":{"dur":2,"text":"This is an API that's not\nprovided at the platform level."},"2403":{"dur":3,"text":"It's provided by a\nGoogle Play Services."},"2406":{"dur":1,"text":"Relatively straightforward."},"2408":{"dur":1,"text":"You create a callback."},"2409":{"dur":0,"text":"You invoke that."},"2410":{"dur":2,"text":"And you get back the\nresult. This is a result"},"2412":{"dur":1,"text":"that's going to be signed."},"2413":{"dur":2,"text":"You want to go to look at\nthe SafetyNet documentation"},"2415":{"dur":2,"text":"to see what the key is\nthat it's been signed with."},"2418":{"dur":2,"text":"We encourage you to do\noffline verification of this."},"2420":{"dur":2,"text":"So you receive it in the\ncontext of your application,"},"2423":{"dur":1,"text":"but then you send it\nup to your server."},"2425":{"dur":1,"text":"And your server\nmakes a determination"},"2426":{"dur":2,"text":"about whether this is a\nlegitimate, signed statement"},"2429":{"dur":1,"text":"that came back from Google."},"2430":{"dur":1,"text":"What are the things\nthat you're looking"},"2432":{"dur":1,"text":"for in that signed statement?"},"2434":{"dur":2,"text":"The first is that\nthere's a nonce that"},"2436":{"dur":3,"text":"was created on your server,\nsent down to your client,"},"2439":{"dur":1,"text":"comes back to your server."},"2440":{"dur":2,"text":"And it's the same as the\nnonce that you submitted."},"2443":{"dur":2,"text":"So you want to make sure\nthat it actually went"},"2445":{"dur":2,"text":"through that same process\nand was signed by Google."},"2448":{"dur":2,"text":"And then it tells you is this\nsomething that matches CTS?"},"2451":{"dur":2,"text":"So, CTS profile\nmatch true or false?"},"2453":{"dur":1,"text":"That will give\nyou a sense for is"},"2455":{"dur":3,"text":"this a device, a real\nhardware device, that"},"2458":{"dur":2,"text":"has gone through the full\nCTS validation process"},"2461":{"dur":1,"text":"and is continuing to\noperate in the manner"},"2463":{"dur":1,"text":"that it was\noriginally submitted."},"2464":{"dur":1,"text":"There's a bunch of\nother context that's"},"2466":{"dur":1,"text":"provided so you can\nvalidate that these"},"2467":{"dur":1,"text":"are what you're expecting."},"2469":{"dur":2,"text":"Was it your app that\nsent up to the server?"},"2472":{"dur":2,"text":"Things like that."},"2474":{"dur":3,"text":"The last thing that I want\nto talk about is sandboxing."},"2478":{"dur":3,"text":"Sandboxing is an area that we've\nbeen investing in in Android."},"2481":{"dur":2,"text":"With every release we\nintroduce new capabilities."},"2483":{"dur":1,"text":"These are some of\nthe things that"},"2485":{"dur":2,"text":"have changed pretty\nsignificantly in Android M"},"2487":{"dur":3,"text":"and N. Significant improvements\nto SELinux, especially"},"2490":{"dur":1,"text":"in the way that\ninteracts with drivers."},"2492":{"dur":2,"text":"We're very concerned about\nkernel security right now."},"2494":{"dur":1,"text":"So we've made changes\nto the way ioctl's are"},"2496":{"dur":1,"text":"filtered with SELinux."},"2497":{"dur":5,"text":"Seccomp, which also allows\nfor filtering of interactions"},"2503":{"dur":2,"text":"Seccomp I'm going to I talk\nabout more in just a moment."},"2506":{"dur":1,"text":"Because you, as an\napplication developer,"},"2508":{"dur":1,"text":"can actually use it yourself."},"2509":{"dur":1,"text":"Which is a little bit\ndifferent from SELinux,"},"2511":{"dur":2,"text":"where we've done all the\nconfiguration for you directly."},"2514":{"dur":3,"text":"We've used those two tools to do\na lot of mediaserver hardening"},"2518":{"dur":3,"text":"in Android N. And then we've\nmade a number of other changes"},"2521":{"dur":4,"text":"that we think increase the\nstrength of the sandboxing."},"2526":{"dur":1,"text":"We just put out a blog post."},"2527":{"dur":0,"text":"I know this is tiny."},"2528":{"dur":3,"text":"I don't actually\nthink you can read it."},"2531":{"dur":1,"text":"It is actually readable."},"2533":{"dur":1,"text":"All right, I wasn't\nsure if it was even"},"2534":{"dur":1,"text":"going have enough\npixels on the projector"},"2536":{"dur":1,"text":"to be able to read it."},"2537":{"dur":1,"text":"The blog post that\nwe just put out"},"2538":{"dur":2,"text":"that describes how it is that we\nuse some of these capabilities"},"2541":{"dur":4,"text":"to strengthen and\nreally break down"},"2546":{"dur":1,"text":"the capabilities\ninside of mediaserver"},"2548":{"dur":2,"text":"and isolate them using\nSeccomp and SELinux."},"2550":{"dur":3,"text":"So that a compromise in one\narea, e.g. in the codec,"},"2554":{"dur":2,"text":"doesn't lead to a\ncompromise in other areas"},"2556":{"dur":1,"text":"in the context of mediaserver."},"2557":{"dur":2,"text":"But you can do the same thing\ninside your application."},"2559":{"dur":4,"text":"If you have a complex\nfinancial transaction that's"},"2564":{"dur":2,"text":"based on image\nprocessing, you might"},"2566":{"dur":2,"text":"want to separate those\ntwo things apart."},"2568":{"dur":1,"text":"I don't know why\nyou would do that."},"2569":{"dur":1,"text":"But, at the same\ntime, there are lots"},"2571":{"dur":1,"text":"of apps that take\npictures of credit cards"},"2573":{"dur":1,"text":"and then try to process\nthat information"},"2575":{"dur":1,"text":"and then use that as a payment."},"2576":{"dur":4,"text":"So it's actually a thing\nthat applications do do."},"2581":{"dur":3,"text":"We've also been using this\npretty extensively to harden"},"2585":{"dur":1,"text":"Chrome."},"2586":{"dur":3,"text":"Because that is something that\nstores your most sensitive"},"2589":{"dur":2,"text":"credentials and does a\nlot of processing of data"},"2592":{"dur":1,"text":"that comes from the Internet."},"2594":{"dur":1,"text":"It's ironic how close\nthose two things"},"2596":{"dur":1,"text":"are in the context\nof a web browser."},"2597":{"dur":2,"text":"So it's really important that\nthese kinds of capabilities"},"2599":{"dur":1,"text":"exist at the platform\nlevel to make"},"2601":{"dur":4,"text":"it easy for that application\nto harden itself."},"2605":{"dur":4,"text":"Here's a sample of what it\nlooks like to use Seccomp."},"2610":{"dur":2,"text":"we actually created a library\nin the context of mediaserver."},"2612":{"dur":1,"text":"So if you would\ndig around in AOSP,"},"2613":{"dur":3,"text":"you'll be able to find something\nthat's called Mini Jail."},"2617":{"dur":4,"text":"And it describes how\nwe set specific filters"},"2622":{"dur":3,"text":"to limit the set of\ncapabilities that each"},"2626":{"dur":2,"text":"of the different elements\ninside of Seccomp"},"2628":{"dur":1,"text":"or inside of\nmediaserver have access"},"2629":{"dur":2,"text":"to from hardware standpoint."},"2632":{"dur":1,"text":"There are a bunch of\nother changes that we've"},"2634":{"dur":3,"text":"made as well, that make it\nmore difficult for a device"},"2637":{"dur":1,"text":"to be compromised,\nthings that we"},"2639":{"dur":3,"text":"think about when we're talking\nabout hardening of sandbox."},"2642":{"dur":1,"text":"They may have effects\non your applications."},"2644":{"dur":3,"text":"So I would encourage you\nto take a look at those"},"2647":{"dur":2,"text":"and be conscious that\nthese changes are coming."},"2650":{"dur":3,"text":"So there are a couple\nof these changes here."},"2654":{"dur":1,"text":"There are two other\nAPIs that we've also"},"2656":{"dur":4,"text":"been very actively looking at\nto restrain the capabilities."},"2660":{"dur":3,"text":"Because they've been associated\nwith abuse, basically."},"2663":{"dur":3,"text":"We gave a lot of power\nto device administrators."},"2667":{"dur":2,"text":"And it happens that\nthat same power"},"2669":{"dur":1,"text":"to manage the way that\nthe user is interacting"},"2671":{"dur":2,"text":"with their device can\nbe used to harm them"},"2673":{"dur":1,"text":"in the context of ransomware."},"2674":{"dur":2,"text":"You change the user's\npassword and then you say,"},"2676":{"dur":2,"text":"I'm not going to let you\nlog back into your device"},"2678":{"dur":2,"text":"until you pay me, is sort\nof the most fundamental way"},"2681":{"dur":1,"text":"that ransomware can work."},"2682":{"dur":1,"text":"And so we're making\nchanges to make"},"2684":{"dur":1,"text":"it more difficult\nfor applications"},"2685":{"dur":2,"text":"to access those APIs."},"2688":{"dur":1,"text":"And then we've also\nlimited the way"},"2689":{"dur":1,"text":"that applications\ncan overlay content"},"2691":{"dur":3,"text":"onto another application\nthrough system alert windows."},"2695":{"dur":2,"text":"So that's an area that we've\nbeen hardening as well."},"2698":{"dur":2,"text":"I lied when I said I would\nhave two minutes for questions."},"2700":{"dur":2,"text":"The clock now says five seconds."},"2703":{"dur":3,"text":"But we managed to cover\nall of these key elements."},"2706":{"dur":2,"text":"I did want to leave you\nwith a couple of pointers"},"2708":{"dur":2,"text":"to some additional\ninformation that you"},"2710":{"dur":3,"text":"can look at to try to get into\nsome more of the details here."},"2714":{"dur":3,"text":"And I will hang out outside and\nhappy to answer any questions"},"2717":{"dur":0,"text":"that you might have."},"2718":{"dur":0,"text":"Thank you very much."},"2719":{"dur":1,"text":"Enjoy the rest of your day."},"2720":{"dur":7,"text":"[MUSIC PLAYING]"}}