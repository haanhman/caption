{"4":{"dur":2,"text":"PAUL: Hello, and welcome to\nthe Supercharged Live Stream."},"6":{"dur":0,"text":"I'm Paul."},"7":{"dur":0,"text":"SURMA: And I'm Surma."},"8":{"dur":3,"text":"PAUL: Surma, tell me what is\nbetter than two dimensions."},"11":{"dur":2,"text":"SURMA: Four."},"14":{"dur":1,"text":"PAUL: Let's make a 3D Card Flip."},"20":{"dur":1,"text":"ANNOUNCER: Seven, six."},"28":{"dur":1,"text":"PAUL: Hey, awesome, right?"},"29":{"dur":1,"text":"SURMA: Let's get started."},"30":{"dur":0,"text":"PAUL: Yes."},"31":{"dur":2,"text":"3D, Who does--\neverybody loves 3D,"},"33":{"dur":4,"text":"and there's loads of people\nI already see in there,"},"37":{"dur":1,"text":"SURMA: You got people\nfrom Austria, Costa Rica,"},"39":{"dur":1,"text":"Netherlands, everyone, hey!"},"41":{"dur":3,"text":"I'm going to be monitoring\nthe chat, so keep talking."},"45":{"dur":1,"text":"I'm just going to\ntry to keep up,"},"46":{"dur":1,"text":"and if you have any\nquestions, post them there."},"48":{"dur":3,"text":"I'll weave them into the live\nstream and see if we can--"},"52":{"dur":2,"text":"you know, if you can change\nwhere this is going, maybe."},"54":{"dur":2,"text":"PAUL: All right, so I'm going\nto dive right into some code."},"57":{"dur":2,"text":"Because that's how we\nwant to roll today."},"59":{"dur":1,"text":"You know, everybody's\nbusy, busy."},"61":{"dur":0,"text":"Right."},"62":{"dur":1,"text":"Bit of HTML."},"63":{"dur":2,"text":"Let's see, what we'll do is,\nwe'll drop in a title which we"},"66":{"dur":1,"text":"will show a poll,\nthe card flip--"},"67":{"dur":2,"text":"and let's call it a 3D\nCard Flip, whatever."},"70":{"dur":0,"text":"3D Card Flip."},"71":{"dur":1,"text":"All right, let's get\nsome styles in there,"},"73":{"dur":4,"text":"so we'll need the link\nrel=\"stylesheet\" href="},"77":{"dur":2,"text":"SURMA: You have to fix the\nindentation on the title."},"80":{"dur":1,"text":"I was going to-- I was going to."},"82":{"dur":0,"text":"SURMA: I can't-- I--"},"83":{"dur":0,"text":"PAUL: No, you're struggling."},"84":{"dur":0,"text":"Fixed it for you."},"85":{"dur":1,"text":"SURMA: I feel so\nmuch better already."},"87":{"dur":1,"text":"PAUL: styles.css."},"89":{"dur":2,"text":"Find-- we're going to\ngo with that today."},"92":{"dur":3,"text":"All right, styles-- styles.css."},"95":{"dur":2,"text":"CSS, there we go."},"98":{"dur":2,"text":"SURMA: So, in the announcement,\npeople have already said,"},"100":{"dur":3,"text":"or at least there was one\ncomment saying, that 3D Card"},"103":{"dur":1,"text":"Flip is not material design."},"105":{"dur":0,"text":"And that is correct."},"106":{"dur":1,"text":"SURMA: Because we just do what--"},"108":{"dur":2,"text":"PAUL: We do-- we do what\nwe think people want to see"},"110":{"dur":1,"text":"and what we want to\nmake and, in this case,"},"112":{"dur":2,"text":"we thought people would\nwant to see some 3D"},"115":{"dur":1,"text":"card-flipping stuff."},"116":{"dur":2,"text":"There is going to be some, I\nthink, really interesting bits"},"119":{"dur":2,"text":"and pieces in today because,\nwhen you're talking about 3D,"},"121":{"dur":2,"text":"you actually have to do a little\nbit of figuring stuff out."},"124":{"dur":1,"text":"SURMA: What's it going to be?"},"125":{"dur":3,"text":"Are we going to use CSS\ntransforms, or OpenGL?"},"128":{"dur":2,"text":"PAUL: Hey, my watch is-- hey,\nI've reached my goal for today."},"131":{"dur":1,"text":"You'll be thrilled to\nhear-- my watch tells me"},"132":{"dur":1,"text":"how active I've been."},"133":{"dur":1,"text":"I've just hit 100 percent\nbecause there's nothing like--"},"135":{"dur":1,"text":"SURMA: You did-- you did some\nexcessive typing just now."},"137":{"dur":1,"text":"PAUL: I did do it solo, right?"},"139":{"dur":1,"text":"Obviously, you just\ndecided, you know what?"},"141":{"dur":1,"text":"SURMA: If you want to\nstay fit, type more."},"143":{"dur":3,"text":"PAUL: Live coding on YouTube is\none way to stress your heart."},"146":{"dur":1,"text":"So, I do that, apparently."},"148":{"dur":3,"text":"Let's make a--\nlet's see-- sc-card."},"152":{"dur":2,"text":"What we'll do is go with\nsc-card today, why not?"},"154":{"dur":2,"text":"SURMA: We also have the\nquestion, is this real life?"},"156":{"dur":1,"text":"Yes, yes it is."},"158":{"dur":2,"text":"PAUL: It is, very-- are we\ndoing this for real life?"},"160":{"dur":1,"text":"Yes, we are."},"161":{"dur":1,"text":"SURMA: And it's really lifelike."},"162":{"dur":1,"text":"As I said, keep\nposting questions."},"164":{"dur":3,"text":"Ask in the chat on Twitter."},"167":{"dur":1,"text":"And we can answer them for you."},"169":{"dur":2,"text":"Life-- it's how it works."},"171":{"dur":0,"text":"All right."},"172":{"dur":1,"text":"Let's dive into\nsome action for you."},"174":{"dur":0,"text":"I'm doing that."},"175":{"dur":1,"text":"I've already got\nsome-- first of all,"},"176":{"dur":3,"text":"I'm going to do today--\ngoing to call it sc-card."},"180":{"dur":2,"text":"And let's see, we'll\nput a div in here,"},"182":{"dur":2,"text":"which we're going to\nsay class=\"front\"."},"184":{"dur":0,"text":"Let's do that."},"185":{"dur":1,"text":"Because we're going to have the\nfront of the card, and we're"},"187":{"dur":1,"text":"going to have the\nback of the card."},"188":{"dur":4,"text":"So we'll put, say, Supercharged\non the front of this card."},"192":{"dur":0,"text":"Div."},"193":{"dur":1,"text":"And then we'll do\nanother div inside it,"},"194":{"dur":1,"text":"and then you don't\nhave to do it this way."},"196":{"dur":1,"text":"There's loads of ways to do it."},"197":{"dur":1,"text":"Just do class=\"back\"."},"199":{"dur":4,"text":"And I have sort of thought\nahead a little bit here."},"204":{"dur":0,"text":"SURMA: How dare you."},"205":{"dur":2,"text":"And we actually have--\nI made this little thing"},"208":{"dur":1,"text":"for the back of the card."},"209":{"dur":0,"text":"It's a little Supercharged--"},"210":{"dur":2,"text":"PAUL: It's a little Supercharged\ngraphic there for us to--"},"212":{"dur":1,"text":"SURMA: I wish my hair would\nlook that good in real life."},"213":{"dur":0,"text":"PAUL: I know."},"214":{"dur":1,"text":"I wish I had hair,\nso, it's fair, really."},"216":{"dur":1,"text":"SURMA: We have something\nin common, I guess."},"218":{"dur":2,"text":"PAUL: Would change\nhair if possible."},"220":{"dur":0,"text":"There you are."},"221":{"dur":0,"text":"Right."},"222":{"dur":2,"text":"So, front of the card,\nback of the card."},"224":{"dur":2,"text":"What I'm going to do is, I'm\njust going to temporarily pop"},"226":{"dur":2,"text":"a button on here."},"228":{"dur":1,"text":"And we'll say flip card."},"230":{"dur":2,"text":"So, that's fine."},"232":{"dur":3,"text":"It's not going to look great,\nbut we'll just put it there"},"235":{"dur":1,"text":"for now."},"237":{"dur":2,"text":"So we've actually\ngot some markup."},"240":{"dur":1,"text":"Let's go ahead and--"},"242":{"dur":0,"text":"PAUL: drop some--"},"243":{"dur":2,"text":"SURMA: In case someone doesn't\nreally know what a 3D card is,"},"246":{"dur":1,"text":"we're starting with\nfront and back."},"247":{"dur":2,"text":"What we're doing is, we're going\nto have the card like you might"},"249":{"dur":1,"text":"actually know from material\ndesign, and I guess,"},"251":{"dur":2,"text":"this is why people thought of\nmaterial design, [INAUDIBLE]."},"254":{"dur":1,"text":"And we're going to\nflip it over in 3D."},"256":{"dur":2,"text":"PAUL: Yes, and it's going\nto come out of the screen,"},"258":{"dur":1,"text":"going to flip over, and then\ndrop back onto the screen."},"260":{"dur":1,"text":"And we're going to have to\ndo some work with, like,"},"261":{"dur":2,"text":"faking shadows and stuff, as\nwell, for it to look right."},"264":{"dur":2,"text":"But we can start by having\nthe front of the card"},"266":{"dur":1,"text":"and the back of the card,\nand then we'll work our way--"},"268":{"dur":0,"text":"SURMA: Hence, the\ntwo class names."},"269":{"dur":2,"text":"PAUL: We will work\nour way from there."},"271":{"dur":1,"text":"So we're going to have to\ndo a little bit of starting"},"272":{"dur":1,"text":"to get this underway, though."},"274":{"dur":1,"text":"Body."},"276":{"dur":3,"text":"Let's say width:100%."},"279":{"dur":0,"text":"Height:100%."},"280":{"dur":4,"text":"In fact, I'm going to have to\ndo that in the HTML as well."},"285":{"dur":1,"text":"Do that."},"286":{"dur":2,"text":"And then I'm going to say\nthat the HTML is going to be"},"289":{"dur":4,"text":"display:flex today, and\nit's going to be [INAUDIBLE]"},"294":{"dur":5,"text":"align-items:center and then\njustify-content:center."},"300":{"dur":1,"text":"I think that does it."},"302":{"dur":1,"text":"With the sc-card."},"303":{"dur":2,"text":"And I'm going to go, because\nI've already got this image."},"306":{"dur":4,"text":"So I'm going to make my card,\nwhat is this, it's 260 by 380."},"311":{"dur":5,"text":"So I'm going to say my\ncard today is width:260."},"316":{"dur":4,"text":"For what it's worth, I have done\nthis kind of approach before,"},"320":{"dur":1,"text":"and you can make the\ncards responsive."},"322":{"dur":2,"text":"So I am hard-coding\nthese values today,"},"325":{"dur":3,"text":"but this technique\nworks, even dynamically."},"328":{"dur":3,"text":"It does get more involved,\nbut the concepts are the same."},"332":{"dur":2,"text":"SURMA: I guess this also makes\nit obvious that this is not"},"335":{"dur":1,"text":"production-ready code."},"336":{"dur":1,"text":"In this climate\nwe're probably going"},"337":{"dur":2,"text":"to repeat in all future\nepisodes as well."},"340":{"dur":1,"text":"This is more about\nthe techniques"},"341":{"dur":3,"text":"on how you achieve certain\neffects without dropping down"},"345":{"dur":1,"text":"to two frames per second."},"346":{"dur":3,"text":"Because you can easily shoot\nyourself in the foot if you use"},"350":{"dur":1,"text":"CSS the wrong way."},"352":{"dur":2,"text":"But if you want to do something\nlike this on a production"},"354":{"dur":2,"text":"website, you should\nprobably tidy up the code"},"357":{"dur":1,"text":"and maybe, you know,\ndo some testing"},"359":{"dur":2,"text":"in other browsers as well, which\nwe're not going to do today."},"361":{"dur":0,"text":"PAUL: Correct."},"362":{"dur":3,"text":"So, what we're going to do is--\none of the first things that"},"366":{"dur":3,"text":"we're going to see\nhere, height:100%."},"369":{"dur":1,"text":"So we've got the\nfront and the back."},"371":{"dur":2,"text":"So what I've set is the\ncontaining element, the card,"},"373":{"dur":1,"text":"position:relative,\nsurface width and height,"},"375":{"dur":1,"text":"then the actual front and back."},"376":{"dur":1,"text":"I've set backface-visibility\nto hidden"},"378":{"dur":3,"text":"because, as we flip the\nparts, the front and the back"},"381":{"dur":4,"text":"of the card, over,\nwe want that to-- we"},"385":{"dur":2,"text":"want the contents to\ndisappear as it's flipped, OK."},"387":{"dur":2,"text":"And by default, I don't think\nbackface-visibility is set"},"390":{"dur":1,"text":"to anything other than visible."},"391":{"dur":1,"text":"So we want it to be\nbackface-visibility:hidden."},"392":{"dur":1,"text":"SURMA: What we would\nsee otherwise, I think,"},"394":{"dur":2,"text":"and correct me here if I'm\nwrong, is that one of the cards"},"397":{"dur":2,"text":"is always run at first,\nindependent of where they are."},"399":{"dur":2,"text":"So it means you will just see\nthe top card-- the top half"},"402":{"dur":1,"text":"of the card, but\nrun it backwards,"},"404":{"dur":1,"text":"which is not what we want."},"405":{"dur":1,"text":"That's why we set it to hidden."},"406":{"dur":0,"text":"PAUL: Right."},"407":{"dur":1,"text":"So we have that."},"408":{"dur":1,"text":"And we need to do a\nlittle bit of, right."},"410":{"dur":2,"text":"So let's say background."},"412":{"dur":1,"text":"Well, we'll have a look\nat what it's actually"},"414":{"dur":3,"text":"looking like in a second."},"417":{"dur":0,"text":"Let's do that."},"418":{"dur":4,"text":"Let's make it a little bit--\na little bit darker there."},"422":{"dur":1,"text":"And then we'll\nsay-- so we're going"},"424":{"dur":1,"text":"to say the front\nof the card-- I'm"},"425":{"dur":1,"text":"going to say the\nfront of the card--"},"427":{"dur":4,"text":"is background--\nwhat have we got."},"432":{"dur":2,"text":"Let's do it 444."},"434":{"dur":0,"text":"Color."},"439":{"dur":4,"text":"And I'm also going to set\nthe contents of the card"},"443":{"dur":2,"text":"to be sent to a center,\ncentral like so."},"446":{"dur":1,"text":"And let's see what\nthat looks like."},"447":{"dur":0,"text":"OK."},"448":{"dur":5,"text":"So actually, we are in\na reasonable spot here."},"453":{"dur":1,"text":"SURMA: Why is it so tiny?"},"455":{"dur":1,"text":"PAUL: That's a good question."},"456":{"dur":5,"text":"I think it's because of the\nway that this screen is set up,"},"461":{"dur":2,"text":"so that they do the\nlive streamy stuff."},"464":{"dur":0,"text":"SURMA: 16 by 9."},"465":{"dur":2,"text":"PAUL: I obviously know loads\nabout live streamy stuff."},"468":{"dur":2,"text":"SURMA: As we have\nseen in the promo."},"470":{"dur":1,"text":"You did turn on the\ncamera successfully,"},"471":{"dur":0,"text":"but that's about it."},"472":{"dur":0,"text":"PAUL: All good."},"473":{"dur":0,"text":"Right."},"474":{"dur":2,"text":"We got the front of the card\nand the back of the card."},"477":{"dur":3,"text":"Let's do the back of the card\nas well, while we're here."},"480":{"dur":1,"text":"Back of the card."},"482":{"dur":2,"text":"SURMA: An interesting\nquestion on the side."},"485":{"dur":2,"text":"Where do you think what you're\nabout to write, the flipping"},"487":{"dur":4,"text":"card, is reasonable, or even\na good choice in terms of UX?"},"492":{"dur":1,"text":"PAUL: Go on."},"494":{"dur":1,"text":"SURMA: I think,\nintuitively, it's"},"495":{"dur":2,"text":"a very, very good\nchoice for anything."},"498":{"dur":2,"text":"That way, we have details\nthat you want to hide,"},"500":{"dur":1,"text":"and that the user\nwants to look into."},"501":{"dur":1,"text":"So you have, like,\na topic, which"},"502":{"dur":1,"text":"has the big topic name on it."},"504":{"dur":1,"text":"And when you flip\nit, it flips over."},"506":{"dur":2,"text":"Just like you would-- like\nan actual flip card, where"},"508":{"dur":2,"text":"you do, like, a flash card,\nI think you call them,"},"510":{"dur":3,"text":"when you try to learn words\nwhen you're learning a language."},"513":{"dur":1,"text":"PAUL: So, here's\nwhat we've got here."},"515":{"dur":2,"text":"We've got the front of the\ncard, and the back of the card"},"517":{"dur":1,"text":"is just appearing\nover the top, right?"},"519":{"dur":1,"text":"PAUL: So what we can\nstart by doing now,"},"521":{"dur":2,"text":"is we can actually\nsay transform:rotate."},"524":{"dur":2,"text":"And I'm going to\ngo with the y-axis."},"527":{"dur":2,"text":"So we're going to flip around\nthe line down the middle."},"529":{"dur":2,"text":"So the cards are going to\ncome forward, flip around"},"531":{"dur":2,"text":"its vertical axis, and go back."},"533":{"dur":1,"text":"We could do it over\nthe x-axis as well."},"535":{"dur":1,"text":"That would also work."},"536":{"dur":2,"text":"And we can see how we get on,\nwhether we want to actually"},"539":{"dur":1,"text":"pursue that one today."},"540":{"dur":4,"text":"Now, with the backface of the\ncard hidden-- it's still there,"},"544":{"dur":1,"text":"but we won't see it."},"546":{"dur":1,"text":"So we're doing really well."},"547":{"dur":1,"text":"Let's add on, let me see."},"552":{"dur":1,"text":"Tell you what we'll do."},"553":{"dur":4,"text":"We'll make an h1, as well."},"557":{"dur":1,"text":"Like so."},"559":{"dur":3,"text":"And let's just change\nthe font family,"},"562":{"dur":2,"text":"because it's currently\nnot very nice."},"565":{"dur":1,"text":"Let's see what we got-- aerial."},"566":{"dur":1,"text":"That'll do it."},"568":{"dur":2,"text":"That's still quite\nmonstrously large."},"576":{"dur":1,"text":"That'll probably do it."},"577":{"dur":1,"text":"That'll probably do it."},"579":{"dur":4,"text":"For now, but let's just change."},"583":{"dur":1,"text":"OK."},"584":{"dur":1,"text":"I'm just going to\npractice it today."},"586":{"dur":4,"text":"Font size 24 pixels."},"590":{"dur":3,"text":"This flip card-- I'm going\nto fix this now, as well,"},"593":{"dur":1,"text":"while we're here."},"595":{"dur":3,"text":"What I want is, I want buttons\non the front and the back"},"599":{"dur":2,"text":"for flipping the cards just\nso that there's a button that"},"602":{"dur":1,"text":"covers the whole thing."},"603":{"dur":3,"text":"Loads of ways you could\ndo this, front and back."},"606":{"dur":2,"text":"And oh, oh, oh--\nwhile we're here,"},"608":{"dur":5,"text":"let's put on a border\nradius of 3 pixels."},"614":{"dur":2,"text":"Again, just so that we're seeing\na little bit of roundedness"},"616":{"dur":2,"text":"on the corner, just so it\nfeels more like a card."},"619":{"dur":2,"text":"So the front and\nthe back, and I want"},"621":{"dur":1,"text":"to say that that\napplies to the buttons."},"623":{"dur":4,"text":"So I could just get rid of that,\nand that would do it as well."},"628":{"dur":1,"text":"There we are in the\nfront and the back."},"629":{"dur":1,"text":"How is everybody\ndoing on the chat?"},"631":{"dur":2,"text":"SURMA: It is very much\nalive today, like,"},"634":{"dur":1,"text":"lots of conversations going on."},"635":{"dur":0,"text":"PAUL: Fabulous."},"636":{"dur":2,"text":"SURMA: We just had a question."},"638":{"dur":1,"text":"Did we consider\nusing the animation"},"640":{"dur":1,"text":"API instead of CSS animation?"},"641":{"dur":2,"text":"PAUL: Who said we're\ndoing CSS animations?"},"643":{"dur":1,"text":"Oh, smarty pants, on the chat."},"645":{"dur":1,"text":"You're absolutely right."},"646":{"dur":1,"text":"We're going to be using\nweb animations today."},"647":{"dur":0,"text":"Haha."},"648":{"dur":1,"text":"I was saving that,\nand you've just"},"650":{"dur":3,"text":"come storming in,\nvia Surma, and--"},"653":{"dur":1,"text":"SURMA: You know that\nthe worst part is she's"},"655":{"dur":0,"text":"going to blame me after this."},"656":{"dur":0,"text":"SURMA: I'm going\nto take the blame--"},"657":{"dur":0,"text":"PAUL: Not even afterwards."},"658":{"dur":0,"text":"Right now."},"659":{"dur":1,"text":"His fault. There you go."},"660":{"dur":2,"text":"Yeah, absolutely, we are\ngoing to go down that path."},"663":{"dur":2,"text":"You can do it with\nkeyframed animations."},"666":{"dur":2,"text":"I actually found that, when\nI've been doing stuff like this,"},"668":{"dur":2,"text":"the web animations API\nis brilliant for this."},"671":{"dur":4,"text":"Its support is actually\nreally not good, by default."},"675":{"dur":1,"text":"So you actually have to\nlook at the polyfill,"},"677":{"dur":1,"text":"if you want to use it."},"678":{"dur":1,"text":"So for production,\nagain, you might"},"680":{"dur":2,"text":"want to reconsider, and also\ncustom elements as well."},"682":{"dur":2,"text":"They're still very early days."},"684":{"dur":1,"text":"We're talking\nabout the approach."},"686":{"dur":1,"text":"SURMA: I think it\nis possible to do"},"688":{"dur":3,"text":"this with keyframed\nanimations just as well."},"691":{"dur":1,"text":"But, you know, we like\nthe bleeding edge."},"693":{"dur":3,"text":"We want to teach\nnew things here."},"696":{"dur":2,"text":"PAUL: Background:none."},"699":{"dur":2,"text":"Border:none."},"701":{"dur":5,"text":"And text-indent:-10000\npixels for now."},"706":{"dur":0,"text":"OK."},"707":{"dur":2,"text":"So, we actually have--\nwe have a button there"},"709":{"dur":1,"text":"on the front and the back."},"710":{"dur":1,"text":"So this is good."},"711":{"dur":2,"text":"Now, we can actually get\ninto some JavaScript."},"714":{"dur":2,"text":"And let's do a custom element."},"717":{"dur":3,"text":"So we're going to\ndo SC FlipCard."},"720":{"dur":1,"text":"And I called it sc-card."},"722":{"dur":1,"text":"So, sc-card."},"724":{"dur":1,"text":"And we'll see how we're going."},"725":{"dur":2,"text":"I don't think we're going\nto have attributes today."},"728":{"dur":1,"text":"So we'll leave those out."},"729":{"dur":0,"text":"So let's think about this."},"730":{"dur":1,"text":"So we've got front\nand a back, so I"},"732":{"dur":2,"text":"know we're probably going\nto have to enumerate that"},"734":{"dur":1,"text":"at some point."},"735":{"dur":1,"text":"So let's just do that now."},"737":{"dur":8,"text":"With a get Sides\nreturn, front:1 back:2."},"745":{"dur":2,"text":"So that's one thing, and\nwe know when we create it,"},"747":{"dur":1,"text":"that we're showing the\nfront of the cards."},"749":{"dur":1,"text":"So we can say\nthis._side=this.sides."},"753":{"dur":2,"text":"In fact, if I did\nstatic, static."},"755":{"dur":1,"text":"There we are."},"756":{"dur":2,"text":"Can do that's sides.front."},"759":{"dur":2,"text":"So, we're saying that the\nfront side is the one that's"},"762":{"dur":1,"text":"showing at the moment."},"764":{"dur":1,"text":"Now we need to-- queries,\nlike the fronts and the backs."},"766":{"dur":0,"text":"So we've got\nfront=document.query selector"},"767":{"dur":0,"text":"front."},"776":{"dur":2,"text":"I'm having a bad typing day, and\nanybody who watches this show"},"779":{"dur":5,"text":"often will know that every day\nis a bad typing day for Paul."},"784":{"dur":1,"text":"Front and back."},"785":{"dur":1,"text":"OK."},"787":{"dur":2,"text":"So we've got the\nfront and the back."},"789":{"dur":1,"text":"And we need the buttons as well."},"791":{"dur":1,"text":"Well, actually, what\nwe're going to do"},"792":{"dur":1,"text":"is we're going to\ncreate a flip function."},"794":{"dur":0,"text":"And the reason we're\ngoing to do that"},"795":{"dur":2,"text":"is because we want to be\nable to call it on the API."},"797":{"dur":2,"text":"If you wanted to just grab the\ncard from somewhere outside"},"800":{"dur":2,"text":"and, say, just flip the card,\nwe should be able to do that."},"802":{"dur":2,"text":"And then the buttons inside--\nwe'll just get them--"},"804":{"dur":2,"text":"SURMA: That is the mindset\nof custom elements, right?"},"806":{"dur":2,"text":"That you expose the functions\nthat are supposedly API"},"809":{"dur":0,"text":"PAUL: Yeah."},"810":{"dur":2,"text":"SURMA: So, our cards-- our card\nis supposed to be flippable,"},"812":{"dur":1,"text":"so we give it a flip function."},"814":{"dur":1,"text":"PAUL: Document.querySelectorAll."},"820":{"dur":1,"text":"Button, for now."},"822":{"dur":5,"text":"And then we will say-- can you--\nyou do for each [INAUDIBLE]"},"827":{"dur":2,"text":"on a node list now."},"829":{"dur":2,"text":"I'll do array.from."},"831":{"dur":0,"text":"This._buttons."},"835":{"dur":1,"text":"SURMA: It's an\ninteresting remark,"},"836":{"dur":1,"text":"I think, you did\ndocument.querySelectorAll,"},"838":{"dur":3,"text":"but, since you have all\nthe sides of the card--"},"842":{"dur":1,"text":"actually you could use\nthis query selector"},"844":{"dur":1,"text":"and not traverse\nthe entire document."},"845":{"dur":0,"text":"PAUL: Oh."},"846":{"dur":0,"text":"No, no, no."},"847":{"dur":1,"text":"You're quite right, actually."},"848":{"dur":2,"text":"I fully intended to\ndo that, and I just--"},"851":{"dur":3,"text":"it was a brain\nproblem moment for me"},"854":{"dur":2,"text":"there, where I just didn't get\nit quite right, so thank you."},"856":{"dur":2,"text":"SURMA: For the people who just\njoined us, or maybe joined us"},"859":{"dur":0,"text":"just now, welcome."},"860":{"dur":0,"text":"This is Supercharged."},"861":{"dur":1,"text":"We're doing a 3D Card Flip."},"862":{"dur":2,"text":"We're going to have a card,\nand when you click it,"},"865":{"dur":2,"text":"it's going to flip over, and\nyou can see the backside."},"867":{"dur":1,"text":"And that's actually pretty\nunusual on the web, which"},"869":{"dur":0,"text":"is why we've been using it."},"870":{"dur":2,"text":"And we are going to be using\nthe web animations API."},"872":{"dur":4,"text":"We're going to be using lots\nof CSS, and JavaScripts,"},"876":{"dur":0,"text":"and custom elements."},"877":{"dur":1,"text":"So if you're interested\nin that, join us!"},"879":{"dur":2,"text":"And watch Paul make mistakes."},"881":{"dur":1,"text":"PAUL: Yay!"},"883":{"dur":4,"text":"So we're going to do--\nso what I've got here"},"888":{"dur":3,"text":"is I'm just kind of\nstepping through the buttons"},"891":{"dur":3,"text":"and just saying when you,\nyou know, when we click"},"895":{"dur":2,"text":"on a button, we want to\ncall the flip code, which"},"898":{"dur":2,"text":"is going to be this here."},"900":{"dur":4,"text":"So let me just drop a\ndebugger statement in there,"},"904":{"dur":4,"text":"so that when we click, we know\nthat that's doing its job."},"908":{"dur":2,"text":"We'll have to wait and see\nwhether the other side does"},"910":{"dur":2,"text":"its job, but that, for\nnow, is doing its job."},"913":{"dur":1,"text":"So we actually have\nto figure out what"},"914":{"dur":2,"text":"it involves to do the flip."},"917":{"dur":1,"text":"Do we have any\nattached and detached."},"918":{"dur":3,"text":"Actually, I should be\ndoing that in here."},"922":{"dur":0,"text":"SURMA: Probably."},"923":{"dur":0,"text":"PAUL: Yeah."},"924":{"dur":1,"text":"So, I--"},"925":{"dur":1,"text":"SURMA: Do you know\nwhat kind of things--"},"927":{"dur":2,"text":"I never can quite remember if\nyou can attach event listener"},"930":{"dur":2,"text":"before you attach\nit to the Dom and--"},"932":{"dur":0,"text":"PAUL: Well, it works."},"933":{"dur":2,"text":"But I think, for\ncleanliness sake,"},"935":{"dur":5,"text":"you'd normally want to do this\nkind of, sort of, attaching"},"941":{"dur":2,"text":"and detaching to the point\nwhere you can put on listeners"},"943":{"dur":3,"text":"and take them off, probably."},"946":{"dur":1,"text":"So, I mean, I will\nput it there for now."},"948":{"dur":1,"text":"And I should have a\ncorresponding detached,"},"950":{"dur":1,"text":"but I'm going to leave\nit, just for now,"},"952":{"dur":1,"text":"in the interest of time."},"953":{"dur":0,"text":"Right."},"954":{"dur":3,"text":"So flipping the card--\nso we've got an animation"},"958":{"dur":0,"text":"that we need to do."},"959":{"dur":5,"text":"Const sideOne= and this is--\nthis is the-- where the fun"},"965":{"dur":1,"text":"stuff is about to happen."},"967":{"dur":7,"text":"Because we have to,\nfirst of all, all right."},"974":{"dur":2,"text":"Put it this way,\nto do the 3D, we're"},"977":{"dur":2,"text":"going to actually have to\nput perspective on here."},"979":{"dur":2,"text":"Now, anybody who's\nlooked at this in the--"},"982":{"dur":1,"text":"SURMA: Has been\nconfused by this."},"983":{"dur":2,"text":"PAUL: Yeah, you put--\nyou measure perspective"},"986":{"dur":3,"text":"in pixels, which is this\nkind of virtual camera."},"989":{"dur":0,"text":"Yeah."},"990":{"dur":2,"text":"PAUL: How much time have\nyou spent looking at this?"},"992":{"dur":1,"text":"Enough to be confused?"},"993":{"dur":2,"text":"SURMA: I think-- I\nthink I understood,"},"996":{"dur":2,"text":"but I have not used it yet,\nso I might as well be wrong."},"998":{"dur":1,"text":"PAUL: This is going to be fun."},"999":{"dur":0,"text":"OK."},"1000":{"dur":1,"text":"So we've got a\nperspective of 500 pixels."},"1002":{"dur":2,"text":"Basically, one way\nto remember this"},"1004":{"dur":2,"text":"is the smaller the\nvalue, the more extreme"},"1006":{"dur":1,"text":"the 3D motion is\ngoing to appear."},"1008":{"dur":2,"text":"As the prospective\nvalue gets bigger,"},"1010":{"dur":2,"text":"you get, sort of,\nless distortion."},"1012":{"dur":1,"text":"And 400 pixels for\nsomething like this--"},"1014":{"dur":2,"text":"SURMA: It gets more isometric--\nit almost looks like--"},"1016":{"dur":1,"text":"PAUL: Yeah, that almost more--"},"1018":{"dur":0,"text":"PAUL: Yeah."},"1019":{"dur":2,"text":"Basically it's to\ndo with how much--"},"1022":{"dur":2,"text":"when something's rotated\nand the size that it is,"},"1025":{"dur":2,"text":"how much it's going to get\nshrunk or stretched by--"},"1027":{"dur":2,"text":"SURMA: So, basically, if you\nhave a small perspective value,"},"1030":{"dur":1,"text":"you get this\nfisheye look, right?"},"1031":{"dur":2,"text":"PAUL: Yeah, you just get\nmore extreme 3D motion."},"1034":{"dur":2,"text":"And 400 pixels is,\ntypically 500 to 1000"},"1037":{"dur":1,"text":"is normally a good\nplace to start, just"},"1038":{"dur":0,"text":"for a lot of content."},"1039":{"dur":1,"text":"It's a place to start,"},"1041":{"dur":1,"text":"SURMA: And this is where\nliterally magic numbers"},"1043":{"dur":3,"text":"Nobody has yet explained to\nme why these numbers are good."},"1046":{"dur":3,"text":"PAUL: It's because it will be\ndependent on how far back you"},"1050":{"dur":2,"text":"push the thing, and how big\nthe thing is that you're"},"1053":{"dur":2,"text":"pushing, as well, in zed space."},"1055":{"dur":2,"text":"So, because the\nkind of size of card"},"1058":{"dur":1,"text":"it is, 400 pixels is\nprobably going to be OK."},"1060":{"dur":2,"text":"Now, what we actually\nhave to do is,"},"1063":{"dur":3,"text":"we're going to have to push\nthe cards back in zed space."},"1066":{"dur":1,"text":"Because what we're going to do\nis, we're going to have them,"},"1068":{"dur":1,"text":"Well, in order for\nthem to come forward,"},"1070":{"dur":2,"text":"they've got to be\nat the back first."},"1073":{"dur":3,"text":"SURMA: Also, if you lose track\nat any point, that is fine."},"1076":{"dur":4,"text":"The code is going to be, when\nwe get it up later, on our UI"},"1080":{"dur":1,"text":"element samples repository."},"1081":{"dur":1,"text":"We're going to link to\nit in the description."},"1083":{"dur":2,"text":"The video is going to be up as\na video-on-demand on our YouTube"},"1085":{"dur":0,"text":"channel, as well."},"1086":{"dur":2,"text":"If you're not subscribed,\nyou should be subscribed."},"1088":{"dur":1,"text":"So, click the\nSubscribe button below."},"1090":{"dur":0,"text":"PAUL: Cool."},"1091":{"dur":1,"text":"So sideOne."},"1093":{"dur":1,"text":"I'm calling it sideOne\nbecause, depending"},"1095":{"dur":3,"text":"on which side is actually going\nto be the one that we flip,"},"1098":{"dur":1,"text":"as in the one that\nis at the front"},"1099":{"dur":2,"text":"of that particular moment,\nis the one that we actually"},"1102":{"dur":1,"text":"So we're just going to\nhave sideOne and sideTwo,"},"1104":{"dur":1,"text":"and we'll hot-swap,\ndepending on which"},"1105":{"dur":1,"text":"side is actually facing it."},"1106":{"dur":1,"text":"Anyway, so we're going\nto have a transform."},"1108":{"dur":3,"text":"Now, the transform\nis going to start"},"1111":{"dur":3,"text":"at-- we're going to say when\nwe translate whichever it is,"},"1114":{"dur":3,"text":"translit and translateZ, zed."},"1118":{"dur":1,"text":"We're going to start\nwith -200 pixels."},"1120":{"dur":2,"text":"So we're going to push\nit back in 200 pixels."},"1122":{"dur":3,"text":"And it's going to have\na rotation of 0 degrees."},"1125":{"dur":0,"text":"OK."},"1126":{"dur":3,"text":"So it's basically pushed back\nin zed, and it's got 0 degrees."},"1129":{"dur":1,"text":"So it's not rotated at all."},"1130":{"dur":3,"text":"The problem is, right now,\nif I were to-- in fact,"},"1133":{"dur":2,"text":"let me just drop\nthat transform:on."},"1136":{"dur":2,"text":"SURMA: Just to explain\nthis array a little bit,"},"1138":{"dur":1,"text":"this is the beauty of\nthe web animations API"},"1140":{"dur":3,"text":"because you're using--\nyou're basically declaring"},"1144":{"dur":3,"text":"an array of CSS values."},"1147":{"dur":2,"text":"And those get transitioned\nfrom one element to the next."},"1149":{"dur":2,"text":"PAUL: Yeah, we're definitely\ngoing to cover all that."},"1152":{"dur":1,"text":"You see what happened there."},"1154":{"dur":4,"text":"When I actually just applied\nthat translateZ value, that zed"},"1158":{"dur":2,"text":"value, to the front,\nyeah, you can see"},"1161":{"dur":1,"text":"that it got scaled down, right?"},"1162":{"dur":2,"text":"So without it there,\nso now we actually"},"1165":{"dur":2,"text":"have to scale it back up, so\nthat it doesn't look small,"},"1168":{"dur":1,"text":"Because we don't\nwant to be, kind"},"1169":{"dur":2,"text":"of coding it at 260 by\n380, and then going,"},"1172":{"dur":3,"text":"but actually, it's only\n185.71, blah, blah, blah."},"1175":{"dur":1,"text":"That's not going to work for us."},"1177":{"dur":1,"text":"What we actually\nwant it to do is,"},"1178":{"dur":2,"text":"we want it to appear\nas it was originally."},"1180":{"dur":2,"text":"So, do you know\nhow you calculate,"},"1182":{"dur":2,"text":"sir, the scale factor\nthat you require?"},"1188":{"dur":1,"text":"SURMA: No."},"1190":{"dur":1,"text":"PAUL: I wondered if you\nwould because I-- I--"},"1192":{"dur":1,"text":"SURMA: I-- I-- I--\ncould probably--"},"1193":{"dur":2,"text":"I would claim that I would\nbe able to work it out,"},"1196":{"dur":1,"text":"but I can't do it in my head."},"1197":{"dur":2,"text":"PAUL: It's basically,\nit's in the spec."},"1199":{"dur":2,"text":"It's this one-liner that's\nactually in the spec."},"1201":{"dur":0,"text":"SURMA: Oh, really?"},"1202":{"dur":0,"text":"PAUL: Yeah"},"1203":{"dur":2,"text":"PAUL: Yeah, and if you read\nthrough it, it will tell you."},"1205":{"dur":1,"text":"SURMA: I thought it would,\nlike, have to do like--"},"1207":{"dur":1,"text":"with the camera angle, and--"},"1208":{"dur":4,"text":"PAUL: It's-- No, it's the scale\nvalue that you require is--"},"1213":{"dur":1,"text":"it will be, it's\nthe perspective."},"1215":{"dur":3,"text":"So in this case it\nwould be 500 over,"},"1218":{"dur":2,"text":"and then 500 minus\nwhatever the distance."},"1221":{"dur":2,"text":"So, it would be minus 200,\nso it's just plus 200, right?"},"1223":{"dur":1,"text":"So, 500 over that."},"1225":{"dur":2,"text":"That's how far-- that's how\nmuch it's been scaled down."},"1227":{"dur":1,"text":"SURMA: I will have\nto check that later."},"1229":{"dur":1,"text":"PAUL: So that you-- I know."},"1230":{"dur":1,"text":"That's how much of it\nhas been scaled down."},"1232":{"dur":4,"text":"But you-- because-- so\nif we did that value--"},"1236":{"dur":1,"text":"SURMA: Yeah."},"1237":{"dur":2,"text":"PAUL: If we do\nthat, it's not .71,"},"1240":{"dur":1,"text":"right, is what it currently is."},"1241":{"dur":1,"text":"So, in order to\naccount for that,"},"1243":{"dur":2,"text":"we actually have to do\n1 over all that lot."},"1245":{"dur":3,"text":"So it has to be 1.4 scaled\nup, to kind of reverse it."},"1249":{"dur":2,"text":"SURMA: Which [INAUDIBLE] is\nalmost at the square root of 2."},"1251":{"dur":0,"text":"PAUL: There you go."},"1252":{"dur":4,"text":"So, we can do that instead."},"1257":{"dur":1,"text":"Would actually do it."},"1258":{"dur":1,"text":"Now I'm hard-coding\nthese values."},"1260":{"dur":2,"text":"Again, you wouldn't\ndo it in for-reals"},"1262":{"dur":2,"text":"because you probably want to\nmake this totally dynamic."},"1265":{"dur":2,"text":"But we can say, and\nwe can transfer that"},"1267":{"dur":2,"text":"across to a template\nstrength, and we can say scale"},"1270":{"dur":1,"text":"and then we'll do that."},"1271":{"dur":0,"text":"OK."},"1272":{"dur":2,"text":"So this is going to be--\nthis is our starting point."},"1274":{"dur":1,"text":"So it's to be scaled back\nup, but it's actually"},"1276":{"dur":1,"text":"pushed back at 200 pixels."},"1277":{"dur":1,"text":"Then, what we want\nto do is, we want"},"1279":{"dur":4,"text":"to bring it forward\nto say -100 pixels."},"1283":{"dur":2,"text":"We don't want to bring it up to\nzero because half of the card"},"1286":{"dur":1,"text":"will disappear\nwhen we rotate it."},"1287":{"dur":1,"text":"We want to leave\nenough space for it"},"1288":{"dur":0,"text":"SURMA: Yeah, because\nflipping is going on."},"1289":{"dur":1,"text":"And we want the\nentire card to flip."},"1291":{"dur":2,"text":"So that's why we are doing\nthis whole dance, where we're"},"1293":{"dur":3,"text":"pushing back, but don't want\nyou to think that it's actually"},"1297":{"dur":0,"text":"going backwards."},"1298":{"dur":2,"text":"So then we're going to\nflip it, so-- or -100."},"1301":{"dur":1,"text":"We're going to flip\nit over 180 degrees,"},"1302":{"dur":1,"text":"and then the last\nthing we need to do"},"1304":{"dur":3,"text":"is we need to push it\nback down to 200, like so."},"1307":{"dur":2,"text":"So these are the kind of\nkey frames of our animation."},"1310":{"dur":0,"text":"Does that make sense?"},"1311":{"dur":2,"text":"Is everybody happy so\nfar on the live stream?"},"1313":{"dur":2,"text":"And is everybody not\nterrified of that."},"1315":{"dur":1,"text":"I don't think they will be."},"1316":{"dur":2,"text":"They're a smart bunch."},"1319":{"dur":0,"text":"Right."},"1320":{"dur":0,"text":"SURMA: Good so far."},"1321":{"dur":0,"text":"So that's the sideOne."},"1322":{"dur":2,"text":"now sideTwo is going to\nbe the back of the card,"},"1324":{"dur":2,"text":"and it is pretty much\ngoing to be the same thing,"},"1326":{"dur":3,"text":"except, at the moment,\nit's already at 180 degrees"},"1330":{"dur":1,"text":"because it's got its\nback to us, if you like."},"1332":{"dur":1,"text":"And so we need to\nrotate it around"},"1333":{"dur":2,"text":"from there to 360 degrees."},"1336":{"dur":1,"text":"Basically back to\nzero, but we want"},"1338":{"dur":1,"text":"to go in the same\ndirection, so we'll"},"1339":{"dur":2,"text":"take it up from 180 to 360."},"1342":{"dur":2,"text":"This, hopefully, should sort us."},"1344":{"dur":1,"text":"Now, what we can do\nis, we can switch,"},"1346":{"dur":2,"text":"based on what the\ncurrent side is."},"1349":{"dur":2,"text":"So, case is that it's\nFlipCard.sides.front."},"1354":{"dur":3,"text":"So, if this is\nthe front card, we"},"1357":{"dur":4,"text":"are going to say\nthis.front.animate,"},"1362":{"dur":2,"text":"and we're going to\ngive it the sideOne."},"1365":{"dur":3,"text":"And we're going to have to make\nsome timing data in a second."},"1368":{"dur":2,"text":"Whoops-a-daisy."},"1371":{"dur":1,"text":"Same goes for the back."},"1372":{"dur":2,"text":"We want to use sideTwo\nfor that, with the timing."},"1375":{"dur":1,"text":"And we see it's\ncomplaining because timing"},"1376":{"dur":2,"text":"doesn't exist yet."},"1379":{"dur":0,"text":"Also--"},"1380":{"dur":1,"text":"SURMA: Let's create it."},"1384":{"dur":2,"text":"PAUL: Default. Because it's\nprobably going to want that."},"1387":{"dur":2,"text":"We can throw a new error."},"1390":{"dur":2,"text":"SURMA: Well, if that happens,\nsomething really did go wrong."},"1392":{"dur":1,"text":"PAUL: Unknown side\nis where I'm going."},"1393":{"dur":0,"text":"SURMA: Like the\ngood old days when"},"1394":{"dur":1,"text":"you have enums and suddenly--"},"1395":{"dur":1,"text":"PAUL: Yeah, something\ngoes really, really,"},"1397":{"dur":1,"text":"very strangely wrong."},"1398":{"dur":1,"text":"So we need to do the back."},"1399":{"dur":1,"text":"So at the back of\nthe card, we're"},"1401":{"dur":4,"text":"going to do sideTwo\nthere, and sideOne."},"1405":{"dur":0,"text":"OK."},"1406":{"dur":3,"text":"So this, we just now need\nsome timing information here."},"1410":{"dur":3,"text":"Oh, It doesn't like it\nbecause I'm throwing."},"1413":{"dur":0,"text":"There you go."},"1414":{"dur":4,"text":"So, timing-- const timing\nis-- it's an object."},"1418":{"dur":1,"text":"And we're going to say\nduration, and we'll"},"1420":{"dur":1,"text":"do it slowly at first."},"1421":{"dur":1,"text":"We'll do it for,\nlike, 3000, so that's"},"1422":{"dur":3,"text":"three seconds Iterations--\nwe'll set it at one."},"1426":{"dur":1,"text":"Easing, we need some\nof that, so we'll"},"1428":{"dur":3,"text":"say, ease-in-out, so that\nwe get a nice easing on it."},"1432":{"dur":1,"text":"And then we need a fill."},"1433":{"dur":2,"text":"And the reason we need a fill\nis at the end of this animation,"},"1435":{"dur":2,"text":"we don't want it to snap\nback to the first frame."},"1437":{"dur":1,"text":"We want it to hold\non the final frame."},"1439":{"dur":3,"text":"So, fill:forwards, which is\nthe correct keyword for that."},"1443":{"dur":2,"text":"SURMA: So this should look\nlike-- all these keywords"},"1445":{"dur":1,"text":"should look very\nfamiliar [INAUDIBLE]"},"1447":{"dur":1,"text":"than CSS animations."},"1448":{"dur":0,"text":"PAUL: Yeah."},"1449":{"dur":1,"text":"SURMA: Which is\nexactly the point."},"1450":{"dur":3,"text":"So basically what the\n.animate call does,"},"1453":{"dur":3,"text":"is it takes an array of\nCSS property dictionaries,"},"1457":{"dur":3,"text":"and it will animate from one\ndictionary to the next one"},"1460":{"dur":2,"text":"and to the next, until it has\ngone through the entire array."},"1462":{"dur":3,"text":"So you can basically define\na sequence of movements,"},"1466":{"dur":2,"text":"and they will be executed as one\nanimation, very smoothly and--"},"1468":{"dur":1,"text":"PAUL: Exactly."},"1470":{"dur":2,"text":"And, so let's-- what we're\ngoing to do is I'm just going"},"1472":{"dur":1,"text":"to remove that transform\nthat I put there."},"1474":{"dur":3,"text":"All being well, goes\nup, flips, goes back."},"1478":{"dur":0,"text":"SURMA: Look at that."},"1479":{"dur":1,"text":"PAUL: We actually\nhave now a card flip."},"1480":{"dur":2,"text":"Now, I don't like\nthe timing of it"},"1482":{"dur":2,"text":"because if we just bring it\ndown a little bit faster,"},"1485":{"dur":2,"text":"or a little bit-- yeah."},"1488":{"dur":1,"text":"So, it's OK."},"1489":{"dur":2,"text":"SURMA: Most of the time is\nspent in lifting up and down,"},"1492":{"dur":1,"text":"and flip itself, it's very--"},"1493":{"dur":3,"text":"PAUL: Yeah, and also it feels\nluggy to get to the flip point."},"1497":{"dur":2,"text":"The interaction that you\nalways want with these things"},"1499":{"dur":3,"text":"is, kind of, do the thing that\nthe user actually kind of asked"},"1503":{"dur":1,"text":"you to do as quickly as you can."},"1504":{"dur":1,"text":"So, what we want\nto do is we want"},"1505":{"dur":2,"text":"to front-load this animation\nso that coming up forward"},"1508":{"dur":2,"text":"is actually going\nto happen faster."},"1510":{"dur":2,"text":"Get into the flip, and\nthen come back down slower."},"1512":{"dur":7,"text":"So, what we can do here is do\nan offset inside the object."},"1520":{"dur":3,"text":"And you put in a value between\n0 and 1, and so on, 0.15,"},"1523":{"dur":2,"text":"it's going to, basically,\nnormally, if you don't put it,"},"1525":{"dur":5,"text":"it will be 00.25, 0.5, and 0.75."},"1531":{"dur":2,"text":"No, it wouldn't, it would\nbe 0033, 66, and then 1."},"1533":{"dur":2,"text":"SURMA: So, you\nhave the, whatever"},"1536":{"dur":3,"text":"the [INAUDIBLE] is, the\nstart is CLO, the end is one."},"1539":{"dur":2,"text":"And you can define the start\npoint of all the substeps."},"1541":{"dur":0,"text":"PAUL: Yes."},"1542":{"dur":1,"text":"By putting in this\noffset value, which"},"1544":{"dur":1,"text":"is a value between 0 and 1."},"1545":{"dur":1,"text":"So I'm going to do\nan offset of 0.15,"},"1547":{"dur":1,"text":"for when it's coming\nforward, and I'm"},"1548":{"dur":3,"text":"going to set it to\nsay offsets 0.65"},"1552":{"dur":5,"text":"here, for when we are\nat the flip point."},"1557":{"dur":2,"text":"So, we spend half of\nour time, rather than"},"1559":{"dur":1,"text":"a third of our time,\nwe're going to spend"},"1561":{"dur":1,"text":"half of our time\nflipping the card over."},"1563":{"dur":1,"text":"So, hopefully, it's\njust a touch slower."},"1565":{"dur":2,"text":"Let's see how that looks."},"1567":{"dur":1,"text":"Yeah."},"1568":{"dur":1,"text":"So that comes up quickly."},"1572":{"dur":0,"text":"SURMA: Yeah."},"1573":{"dur":0,"text":"I'm just-"},"1574":{"dur":1,"text":"PAUL: You know how\nto multitask, right?"},"1575":{"dur":1,"text":"How's it going in there?"},"1576":{"dur":3,"text":"SURMA: We got some questions,\nand people sharing links"},"1580":{"dur":2,"text":"and answering questions for\nme already, which is amazing."},"1583":{"dur":2,"text":"Thanks for everybody\nwho's helping out."},"1585":{"dur":0,"text":"Looking good."},"1586":{"dur":0,"text":"SURMA: Really good."},"1587":{"dur":2,"text":"PAUL: So what I've done is\njust by-- finish typing,"},"1589":{"dur":1,"text":"and then I can\ntalk to you, dude."},"1591":{"dur":0,"text":"PAUL: You good?"},"1592":{"dur":0,"text":"You good?"},"1593":{"dur":1,"text":"You good?"},"1594":{"dur":1,"text":"So what I've done is,\nI've used the offset,"},"1596":{"dur":3,"text":"and now, it's actually a\nlittle bit, sort of, slower."},"1600":{"dur":2,"text":"So, they're kind of\nlifting up faster."},"1602":{"dur":1,"text":"SURMA: Other things\nin the array keep"},"1603":{"dur":1,"text":"the same default,\nother than the last one"},"1605":{"dur":1,"text":"is still zero point--\noh, you just changed it."},"1607":{"dur":2,"text":"PAUL: Yeah, I've changed\nthese, so it's basically,"},"1609":{"dur":0,"text":"this is happening."},"1610":{"dur":1,"text":"The card's going\nforward by 0.15."},"1612":{"dur":2,"text":"It's taking half of\nthe available time, 0.5"},"1614":{"dur":3,"text":"if you like, to do the flip,\nso the flip feels slower,"},"1617":{"dur":5,"text":"and then push back, like we\nhad it before, from 0.65 to 1."},"1623":{"dur":2,"text":"Coming forward is 0.15, and\nit gets 0.35 to push back."},"1625":{"dur":3,"text":"So, the slow-down at the\nend is more strongly felt."},"1629":{"dur":3,"text":"But if you hadn't\npassed in the 0.65,"},"1633":{"dur":2,"text":"it would have still have\na default value of--"},"1635":{"dur":1,"text":"PAUL: If you divided the\navailable time, which"},"1637":{"dur":2,"text":"would be 0.85 between\nthese two frames,"},"1639":{"dur":1,"text":"which, you can play\nwith these numbers"},"1641":{"dur":2,"text":"and just try to get\ndifferent feels."},"1643":{"dur":1,"text":"It's also affected\nby your easing,"},"1645":{"dur":2,"text":"as well, because it's going\nto try and kind of figure out"},"1648":{"dur":1,"text":"that kind of stuff."},"1649":{"dur":1,"text":"SURMA: Question on the side."},"1650":{"dur":2,"text":"What do we use to build\nfor ES6-- we use nothing."},"1653":{"dur":1,"text":"PAUL: We currently do not."},"1654":{"dur":3,"text":"SURMA: We use everything that is\navailable in the current Chrome"},"1657":{"dur":1,"text":"Stable, I think?"},"1658":{"dur":1,"text":"PAUL: Yeah, unless you're\nrunning in Canary today."},"1660":{"dur":1,"text":"But yeah, Chrome\nStable, I believe,"},"1661":{"dur":3,"text":"has all of these same things."},"1665":{"dur":1,"text":"One of things we\nsay on the repo is"},"1667":{"dur":2,"text":"that if you're planning\nto use this code,"},"1670":{"dur":1,"text":"or something like\nit, you'd obviously"},"1671":{"dur":3,"text":"need to transpile it,\nor do something with it."},"1675":{"dur":2,"text":"But our goal here is\npartly to sort of show"},"1677":{"dur":1,"text":"some of these new\nthings, and is partly"},"1679":{"dur":4,"text":"to choose the kind of correct\nthing that we think for the job"},"1684":{"dur":1,"text":"that we're doing,\nin which case, this"},"1685":{"dur":1,"text":"is actually a really good\nuse for web animations."},"1687":{"dur":1,"text":"And it's a really good\nuse for custom elements."},"1688":{"dur":2,"text":"So, we're kind of taking\nadvantage of both of those."},"1691":{"dur":2,"text":"But in a production setting, as\nSurma said right at the start,"},"1694":{"dur":1,"text":"you probably have to do some--"},"1695":{"dur":2,"text":"PAUL: dancing, to make sure it's\ndoing the right thing for you."},"1698":{"dur":1,"text":"Right."},"1699":{"dur":0,"text":"All good."},"1700":{"dur":1,"text":"We're actually\ndoing really well."},"1701":{"dur":1,"text":"But what we need to\ndo is at the end,"},"1703":{"dur":4,"text":"so, well the thing\nis, at the moment,"},"1707":{"dur":1,"text":"when we click it\nthe second time,"},"1709":{"dur":1,"text":"it goes back to the first side."},"1710":{"dur":3,"text":"So, for temporary, and\nwe'll come back to this."},"1714":{"dur":3,"text":"And we're just going\nto set the side."},"1717":{"dur":7,"text":"If the side is currently\nSCFlipCard.sides.front--"},"1725":{"dur":1,"text":"if it's the front of the\ncard that we've seen,"},"1727":{"dur":3,"text":"then the side is now\ngoing to be .sides.back."},"1734":{"dur":4,"text":"Otherwise, it's going\nto be front, again."},"1738":{"dur":0,"text":"So, this--"},"1739":{"dur":1,"text":"SURMA:I love these\nkind of expressions."},"1740":{"dur":1,"text":"They always feel so redundant."},"1742":{"dur":1,"text":"PAUL: So now we know\nwe can basically--"},"1744":{"dur":2,"text":"you can see how we're\nactually card-flipping"},"1746":{"dur":3,"text":"SURMA: We already have a\npretty thing going on there."},"1749":{"dur":1,"text":"PAUL: This is really good fun."},"1751":{"dur":1,"text":"It's so much fun to\nkeep tapping that."},"1752":{"dur":1,"text":"SURMA: I want to do it."},"1754":{"dur":1,"text":"It actually works."},"1755":{"dur":0,"text":"PAUL: It does work."},"1756":{"dur":0,"text":"SURMA: It's amazing."},"1757":{"dur":4,"text":"PAUL: Now here's something that,\nif you've not seen Rob Dodson's"},"1761":{"dur":2,"text":"alley-casts yet, it's\na brilliant show, very"},"1764":{"dur":1,"text":"new on the channel."},"1765":{"dur":2,"text":"And one of the things he\ntalked about in, I think,"},"1767":{"dur":4,"text":"the first proper episode,\nwas the inert property, which"},"1771":{"dur":2,"text":"basically, at the moment,\nthese two buttons,"},"1774":{"dur":3,"text":"for flipping the card,\nboth sides of the card,"},"1777":{"dur":2,"text":"you'd only see one\nat once, right?"},"1779":{"dur":2,"text":"And so you'd want to\nkind of say to whichever"},"1781":{"dur":2,"text":"one's the backside\nof the card, you"},"1784":{"dur":1,"text":"shouldn't be tabable right now."},"1785":{"dur":0,"text":"You--"},"1786":{"dur":1,"text":"SURMA: Type tab to both."},"1787":{"dur":1,"text":"The front side button\nand the back, and you"},"1789":{"dur":1,"text":"wouldn't even know\nwhere the tab focus"},"1790":{"dur":1,"text":"is, when it's on the backside."},"1792":{"dur":2,"text":"But when you press Enter, the\nbutton would still get clicked."},"1794":{"dur":1,"text":"PAUL: So if I do\ndocuments.active element."},"1798":{"dur":1,"text":"So, this is not going to help."},"1800":{"dur":0,"text":"PAUL: Yeah but you--"},"1801":{"dur":0,"text":"SURMA: Parent?"},"1802":{"dur":1,"text":"Element parent?"},"1803":{"dur":2,"text":"PAUL: Parent, parent,\nYeah, let's do that."},"1806":{"dur":4,"text":"So, for example, here, I had\nit as-- it was the front."},"1810":{"dur":3,"text":"But if I tab again,\nit's the back."},"1813":{"dur":0,"text":"SURMA: So it has focus."},"1814":{"dur":2,"text":"We can't see it, but if somebody\npressed Enter, or had a screen"},"1817":{"dur":3,"text":"reader, he would hear things\nthat are not even there."},"1820":{"dur":1,"text":"We [INAUDIBLE]"},"1821":{"dur":2,"text":"PAUL: Exactly we want to kind\nof-- we want to handle that."},"1824":{"dur":3,"text":"So, inert is a thing,\nthere's a polyfill."},"1827":{"dur":4,"text":"I've gone ahead and actually\nadded it into this folder,"},"1831":{"dur":3,"text":"so we're just going to\npop this in, like so."},"1835":{"dur":3,"text":"And what we'll do is, in\nthe card-flipping code here,"},"1838":{"dur":2,"text":"SURMA: People are being snarky\nabout you using an ENUM and not"},"1841":{"dur":1,"text":"just a Boolean for\nwhich side is in--"},"1843":{"dur":1,"text":"PAUL: Yeah, OK."},"1844":{"dur":0,"text":"Fair enough."},"1845":{"dur":1,"text":"SURMA: I mean\ntechnically, this could"},"1846":{"dur":2,"text":"be-- it's the more\nextensible approach, when"},"1849":{"dur":2,"text":"you want to have a flippable\ncube, at some point,"},"1851":{"dur":0,"text":"PAUL: Yeah who knows?"},"1852":{"dur":2,"text":"SURMA: Definitely a valid point,\nwe could have used a Boolean"},"1855":{"dur":2,"text":"and have all of this logic\nbe a little bit simpler,"},"1857":{"dur":2,"text":"but in this case, I guess\nit's more explicit and more"},"1859":{"dur":0,"text":"extensible"},"1860":{"dur":2,"text":"PAUL: Yeah, you\ncould, and I actually"},"1862":{"dur":1,"text":"like the readability\nof saying, this"},"1864":{"dur":1,"text":"is the frontside\nIt's the backside."},"1865":{"dur":1,"text":"But, you're right, if\nit was a Boolean, then"},"1867":{"dur":2,"text":"we could say this\nside is not this side."},"1870":{"dur":1,"text":"Which would flip\nthat immediately,"},"1871":{"dur":3,"text":"and that would also be\nperfectly-- a reasonable thing"},"1874":{"dur":0,"text":"to do."},"1875":{"dur":3,"text":"So I'm going to start by\nsaying this.back.inert,"},"1879":{"dur":2,"text":"because I've added in\nthe inert polyfill."},"1882":{"dur":1,"text":"It's true."},"1883":{"dur":1,"text":"On the front--"},"1884":{"dur":2,"text":"SURMA: I'll suggest to\nslap ourself on the back."},"1887":{"dur":3,"text":"The thing that Rob Dodson\nfixed with his inert polyfill,"},"1890":{"dur":3,"text":"in that alley-cast\nvideo, was our site map,"},"1893":{"dur":0,"text":"one of our very first--"},"1894":{"dur":1,"text":"PAUL: We're already slapping\nourselves on the back,"},"1896":{"dur":1,"text":"so much as actually\nhaving our work corrected."},"1897":{"dur":1,"text":"SURMA: I tried to\nframe it nicely here,"},"1899":{"dur":1,"text":"to make us sound good."},"1900":{"dur":3,"text":"Man, you fixed our site map\nwas in terms of exability, not"},"1904":{"dur":0,"text":"good."},"1905":{"dur":2,"text":"PAUL: So we're going to\nsay the front is not inert."},"1907":{"dur":3,"text":"The back is inert, for now, and\nthen, obviously, at this point,"},"1911":{"dur":1,"text":"we can pretty much\nswap those over."},"1912":{"dur":4,"text":"So the front is now inert,\nand the back is not."},"1916":{"dur":4,"text":"And here, the front is\ninert, and the back-- sorry,"},"1921":{"dur":1,"text":"the front is not\ninert, and the back is."},"1922":{"dur":1,"text":"So, you know,\nagain, you probably"},"1924":{"dur":2,"text":"could tidy this code up,\nand it is very repetitive,"},"1927":{"dur":3,"text":"so there would be ways to\nresolve this, I'm sure."},"1930":{"dur":5,"text":"But it does mean that we\nhave that, blah,blah blah."},"1936":{"dur":3,"text":"For example, do that, and then\nif I go back in and tab again,"},"1940":{"dur":2,"text":"you see, we don't we don't go\nthrough to the back element."},"1942":{"dur":3,"text":"So, it's basically totaling the\navailability of those elements"},"1946":{"dur":3,"text":"very easily for us, is a\nbrilliant little thing,"},"1949":{"dur":1,"text":"is the inert property."},"1951":{"dur":2,"text":"I would love to see this\nbecome part of the platform,"},"1953":{"dur":2,"text":"personally, because I think\nit just makes these things so"},"1956":{"dur":1,"text":"much more obvious."},"1957":{"dur":1,"text":"The other thing we\nprobably want to do,"},"1959":{"dur":1,"text":"as well, is we want to\nsay, this.back.focus."},"1963":{"dur":1,"text":"We want to actually\nmake sure that we"},"1965":{"dur":3,"text":"focused the correct part of\nthe card because, you know--"},"1969":{"dur":2,"text":"SURMA: I think you switched\nthose the wrong way around."},"1971":{"dur":0,"text":"PAUL: You know, if\nyou're in the back--"},"1972":{"dur":2,"text":"PAUL: So we're bringing\nyou back to the-- in order"},"1975":{"dur":3,"text":"for that to work, we actually\nhave to set a tab index to -1."},"1979":{"dur":2,"text":"So it's not naturally tabable,\nbut it needs a tab index"},"1981":{"dur":1,"text":"in order for focus to work."},"1983":{"dur":1,"text":"SURMA: In case you\ndidn't understand it,"},"1984":{"dur":1,"text":"watch Rob Dodson's episode."},"1986":{"dur":2,"text":"PAUL: Yeah, and also there's\nthe Udacity course as well."},"1989":{"dur":2,"text":"So that's well worth\ntaking, as well."},"1991":{"dur":1,"text":"So we're doing really well."},"1992":{"dur":2,"text":"All I want to do now,\nI say all I want to do,"},"1994":{"dur":1,"text":"is I want to add some shadows."},"1996":{"dur":3,"text":"And that's going to be fun."},"1999":{"dur":1,"text":"And I can't decide,\ndo they want us"},"2001":{"dur":2,"text":"to do the bit that doesn't\nperform well first?"},"2004":{"dur":1,"text":"Or would they like us\nto jump to the one,"},"2005":{"dur":1,"text":"the bit that performs well."},"2007":{"dur":2,"text":"There's a question\nfor the live stream."},"2009":{"dur":1,"text":"SURMA: I'm going to make\na call for them here,"},"2011":{"dur":2,"text":"and we want to see the\nlaggy version first."},"2014":{"dur":2,"text":"PAUL: OK, well, it's going to\nbe hard to do the laggy version"},"2016":{"dur":2,"text":"without a phone, but\nI will put it up,"},"2019":{"dur":3,"text":"and then we'll talk about\nwhy this will lag on a phone."},"2022":{"dur":0,"text":"OK."},"2023":{"dur":1,"text":"So, I'll do that."},"2024":{"dur":1,"text":"So what we need is,\nwe need two shadows."},"2026":{"dur":1,"text":"SURMA: Speaking of,\nI think, in Canary,"},"2027":{"dur":2,"text":"we now have landed\nCPU throttling."},"2030":{"dur":0,"text":"PAUL: OK."},"2031":{"dur":1,"text":"That might do enough."},"2032":{"dur":2,"text":"In fact, I tell you what,\nbefore we even get into that,"},"2035":{"dur":1,"text":"let me show you this."},"2037":{"dur":1,"text":"Paint flashing."},"2038":{"dur":1,"text":"So, every time we\nrepaint the page,"},"2039":{"dur":1,"text":"you see this paint flashing."},"2041":{"dur":1,"text":"SURMA: Remember this button."},"2042":{"dur":0,"text":"It's very helpful."},"2043":{"dur":3,"text":"PAUL: So what I want to do\nis, just come off this here."},"2047":{"dur":3,"text":"If you see this there,\nwe see a little bit--"},"2050":{"dur":1,"text":"we see some paint flashing here."},"2052":{"dur":0,"text":"OK."},"2053":{"dur":2,"text":"Because of the button."},"2056":{"dur":3,"text":"But other than that, the cards\nitself, they're not actually--"},"2059":{"dur":2,"text":"SURMA: There's an initial paint,\nand then the entire animation"},"2062":{"dur":1,"text":"finishes without a\nrepaint, which is good."},"2064":{"dur":1,"text":"Which is what we want."},"2065":{"dur":3,"text":"PAUL: The other thing is, that\nif we did document.hideface,"},"2069":{"dur":1,"text":"I can do it this way."},"2070":{"dur":4,"text":"If I just grab the\ncard, and say $0.flip."},"2075":{"dur":0,"text":"There we go."},"2076":{"dur":2,"text":"You see this,\nright at the start,"},"2078":{"dur":1,"text":"where we go to be\non an animation."},"2080":{"dur":2,"text":"So, what we can do,\nis since we know"},"2082":{"dur":3,"text":"we're going to be animating,\nthat part will change,"},"2085":{"dur":1,"text":"transform."},"2087":{"dur":2,"text":"SURMA: So what happened\nthere is that the card--"},"2089":{"dur":2,"text":"that the browser didn't know\nthat we were going to animate"},"2092":{"dur":2,"text":"this because we didn't tell\nit, so we rasterized it"},"2094":{"dur":1,"text":"onto the background."},"2095":{"dur":2,"text":"But once the animation\nstarts, it gets its own layer."},"2098":{"dur":1,"text":"So it has to repaint once."},"2099":{"dur":1,"text":"PAUL: Well, interestingly,\nwe are still"},"2100":{"dur":3,"text":"seeing-- I'm still seeing this,\nwhere it is still painting."},"2104":{"dur":1,"text":"So there's a bit of a\nmystery there for me."},"2106":{"dur":1,"text":"SURMA: Huh."},"2107":{"dur":1,"text":"PAUL: I have a window."},"2109":{"dur":2,"text":"Just let me just set the\nbuttons to display:none."},"2112":{"dur":3,"text":"See if that helps."},"2115":{"dur":1,"text":"They're still doing it."},"2116":{"dur":1,"text":"Interesting Ah."},"2118":{"dur":3,"text":"It's because of the\ninert stuff, I think."},"2121":{"dur":3,"text":"Let's just try switching\nout inert for a second,"},"2124":{"dur":2,"text":"and seeing whether that\nnot's doing anything for us."},"2127":{"dur":0,"text":"There we are."},"2128":{"dur":0,"text":"SURMA: Interesting."},"2129":{"dur":2,"text":"So there's something\nto be aware of there."},"2132":{"dur":2,"text":"Now that we've actually--\nI'll put the inert stuff"},"2134":{"dur":1,"text":"I still think it's worth\nhaving, and I still think we'll"},"2136":{"dur":0,"text":"get away it."},"2137":{"dur":2,"text":"I don't think It'd be a\nperformance issue in reality."},"2139":{"dur":1,"text":"But I just wanted to show this."},"2141":{"dur":3,"text":"That right now, this card\nanimation is not painting."},"2144":{"dur":0,"text":"OK?"},"2145":{"dur":2,"text":"SURMA: So, with little\nchange, we taught the browser,"},"2147":{"dur":2,"text":"keep this on its own\nlayer at all times."},"2149":{"dur":1,"text":"You can start\nanimating immediately,"},"2151":{"dur":1,"text":"without having to\nwait for the browser"},"2152":{"dur":2,"text":"to put it on its own layer\nand then do transforms."},"2155":{"dur":2,"text":"also going to do a timeline\nrecording over here."},"2158":{"dur":2,"text":"Let me just switch off the\npaint flashing [INAUDIBLE]."},"2160":{"dur":1,"text":"But I'm going to\nswitch it off anyway."},"2162":{"dur":1,"text":"I'm going to flip\nthe card again."},"2164":{"dur":2,"text":"Just so that you can see\nwhat the timeline looks like."},"2166":{"dur":2,"text":"So this is the backface\nvisibility bit here."},"2169":{"dur":3,"text":"This is a well-known\noptimization, I suppose,"},"2172":{"dur":1,"text":"that Chrome does."},"2174":{"dur":4,"text":"When something big stops being\nbackface-visibility:hidden"},"2178":{"dur":0,"text":"doesn't it?"},"2179":{"dur":1,"text":"Now when it's got\nits back to us,"},"2180":{"dur":1,"text":"it doesn't actually get painted."},"2182":{"dur":2,"text":"It's when it comes\naround at 180 degrees,"},"2184":{"dur":3,"text":"Chrome says, ah, now isn't\na good time to paint this."},"2188":{"dur":2,"text":"So that's why we see that\nslight hitch in the middle."},"2190":{"dur":2,"text":"But it's fast enough that\nwe still actually get away"},"2193":{"dur":1,"text":"We don't really notice\nit on the way through."},"2194":{"dur":2,"text":"But it's worth noticing that\nit's actually happening there."},"2197":{"dur":0,"text":"Main thread."},"2198":{"dur":2,"text":"It couldn't be any quieter\non the main thread,"},"2200":{"dur":0,"text":"SURMA: Really, really good."},"2201":{"dur":1,"text":"PAUL: There's just\nnothing going on."},"2203":{"dur":1,"text":"SURMA: At a comfortable 60 fps."},"2204":{"dur":2,"text":"PAUL: We're at a 50 fps\nhere because of the screen"},"2206":{"dur":2,"text":"So you'll notice that we're\ngetting roughly 20 frames"},"2209":{"dur":2,"text":"So this 50 frames a second is\nby design to be super clear."},"2212":{"dur":1,"text":"We're capturing\ntoday at 15 frames"},"2214":{"dur":1,"text":"a second, not the\nusual 60, and you"},"2215":{"dur":1,"text":"see that Chrome's\nadapted it slightly."},"2217":{"dur":1,"text":"SURMA: As you can see,\nthere's loads of white space"},"2218":{"dur":1,"text":"in between your frame bar."},"2220":{"dur":2,"text":"So we could do a lot\nmore work per frame."},"2222":{"dur":1,"text":"PAUL: There's nothing,\nthere's nothing doing."},"2224":{"dur":1,"text":"So, I just wanted\nto kind of point"},"2226":{"dur":2,"text":"that out before we got into\ndoing the shadow stuff."},"2228":{"dur":0,"text":"Right."},"2229":{"dur":1,"text":"So now we need to shadow."},"2230":{"dur":2,"text":"Now, I am going to\nswitch back on the inerts"},"2232":{"dur":2,"text":"as well, just because I\ndon't want to lose that."},"2235":{"dur":2,"text":"I remember from\nmy school lessons"},"2237":{"dur":1,"text":"that there's the thing\ncalled the umbra, which"},"2239":{"dur":1,"text":"is the, kind of the\ndarker shadow underneath."},"2241":{"dur":2,"text":"And there's the kind of softer\nshadow, which is the penumbra."},"2243":{"dur":2,"text":"So we're going to have\nan umbra, like so."},"2246":{"dur":3,"text":"And we're going to have\na penumbra, like so."},"2250":{"dur":3,"text":"SURMA: Or, as the Germans call\nit, schatten und halbschatten."},"2253":{"dur":1,"text":"PAUL: There you go, you see?"},"2255":{"dur":0,"text":"I love it."},"2256":{"dur":2,"text":"You were telling me, what did\nyou think CSS would be called?"},"2259":{"dur":1,"text":"SURMA: If you were to\ntranslate CSS to German,"},"2261":{"dur":4,"text":"I think it would be\ncalled [SPEAKING GERMAN],"},"2265":{"dur":1,"text":"which I think is\na brilliant word."},"2266":{"dur":1,"text":"PAUL: I mean, that's\njust-- I mean,"},"2268":{"dur":2,"text":"I've got no chance of either\nremembering it or pronouncing"},"2270":{"dur":1,"text":"it correctly, but\nwhen I hear it,"},"2271":{"dur":2,"text":"I mean, I'm just\ngoing to call it CSS."},"2274":{"dur":1,"text":"So, good."},"2275":{"dur":0,"text":"Right."},"2276":{"dur":3,"text":"What we need to do, let's\nstart with the umbra."},"2279":{"dur":3,"text":"Let's sc-card umbra."},"2282":{"dur":2,"text":"And we'll do the penumbra\nas well, a little bit."},"2285":{"dur":1,"text":"SURMA: Sounds like\na cocktail to me."},"2286":{"dur":1,"text":"PAUL: Does it?"},"2288":{"dur":2,"text":"Sounds like a shadow to me."},"2290":{"dur":1,"text":"Width:100%."},"2292":{"dur":2,"text":"Height:100%."},"2294":{"dur":1,"text":"Height:100%."},"2296":{"dur":1,"text":"And then we'll do background."},"2300":{"dur":1,"text":"There we are."},"2302":{"dur":2,"text":"Black background, and\nwe're going to say,"},"2304":{"dur":2,"text":"position:absolute."},"2307":{"dur":1,"text":"Top:0."},"2309":{"dur":0,"text":"Left:0."},"2310":{"dur":1,"text":"SURMA: So, the first\nquestion from you"},"2311":{"dur":4,"text":"was going to be, like, why\nnot just use box shadow."},"2316":{"dur":0,"text":"So, yes."},"2317":{"dur":0,"text":"It is a fair question."},"2318":{"dur":1,"text":"So, the box shadow\nis going to give us"},"2320":{"dur":4,"text":"a problem that we will want\nto animate this shadow."},"2324":{"dur":2,"text":"Because the further it gets\naway from the background,"},"2327":{"dur":3,"text":"the more we want to have\na blurry kind of shadow."},"2330":{"dur":3,"text":"The problem with that is that\nyou have to do that box shadow."},"2333":{"dur":2,"text":"I have to create that box\nshadow on every frame."},"2335":{"dur":1,"text":"And, as we just\nshowed, we're currently"},"2337":{"dur":1,"text":"not painting on every frame."},"2338":{"dur":2,"text":"All we're doing is just--\nwe're taking textures,"},"2341":{"dur":1,"text":"and we're moving them around."},"2342":{"dur":1,"text":"And we don't want to\nrepaint those textures."},"2344":{"dur":2,"text":"Changing box shadow will\nchange those textures."},"2346":{"dur":1,"text":"SURMA: So, repaint\non every frame,"},"2348":{"dur":3,"text":"and you will most likely be very\nmuch below our 60 or 50 fps."},"2352":{"dur":1,"text":"So, we don't want to do that."},"2354":{"dur":4,"text":"So, OK."},"2358":{"dur":2,"text":"So I'm wondering\nwhy my button has"},"2360":{"dur":1,"text":"stopped working\nbecause I did have"},"2362":{"dur":1,"text":"buttons that worked before."},"2364":{"dur":3,"text":"You made them display:none\nand used the console."},"2368":{"dur":2,"text":"PAUL: Except that\nI-- display:none."},"2370":{"dur":1,"text":"There we are."},"2372":{"dur":0,"text":"That'll work."},"2373":{"dur":0,"text":"Right."},"2374":{"dur":3,"text":"So we've got these two black\nbackground divs behind."},"2377":{"dur":2,"text":"I'm going to set the penumbra\nto display:none for now."},"2380":{"dur":2,"text":"I'm going to just work with\nthe umbra for a second."},"2382":{"dur":1,"text":"Display:none."},"2384":{"dur":1,"text":"OK."},"2385":{"dur":0,"text":"OK."},"2386":{"dur":1,"text":"So we've got this\nblack background"},"2387":{"dur":2,"text":"that's sitting underneath, which\ndoesn't look particularly good."},"2389":{"dur":0,"text":"OK?"},"2390":{"dur":0,"text":"SURMA: I would ship it."},"2391":{"dur":1,"text":"SURMA: And that's\nwhy I don't design."},"2393":{"dur":1,"text":"PAUL: Yes."},"2394":{"dur":0,"text":"Right."},"2395":{"dur":4,"text":"What we need to do,\nis we need to do, so."},"2399":{"dur":0,"text":"Box shadow."},"2400":{"dur":1,"text":"No, we're not going to\ndo that because that"},"2402":{"dur":1,"text":"What we might want to\ndo is, we might think,"},"2404":{"dur":1,"text":"ah, you know what I could do?"},"2405":{"dur":3,"text":"I could do a box shadow\nhere, and this would be fine."},"2408":{"dur":2,"text":"Or, what I'll actually do\nbecause I'm thinking really"},"2410":{"dur":3,"text":"would be nice, is\nwe'll do a WebKit blur."},"2414":{"dur":1,"text":"This WebKit filter in there."},"2415":{"dur":2,"text":"Filter, and then blur."},"2417":{"dur":0,"text":"And then 2 pixels."},"2418":{"dur":2,"text":"SURMA: So these are all\nthe CSS filters that CSS"},"2421":{"dur":2,"text":"lets you apply to elements."},"2423":{"dur":1,"text":"So you can blur out things."},"2424":{"dur":1,"text":"You can invert things."},"2426":{"dur":4,"text":"If you know what the other\nSPG filters are that you can--"},"2430":{"dur":1,"text":"PAUL: There's the\nsepia one is like--"},"2432":{"dur":2,"text":"SURMA: The base-- there is\na website out there that"},"2434":{"dur":1,"text":"recreated all the\nInstagram filters just"},"2436":{"dur":2,"text":"with this attribute, which I\nthought was really something."},"2439":{"dur":2,"text":"PAUL: So, I blurred it, and I've\ntransformed it down to pixels,"},"2442":{"dur":3,"text":"So, it's kind of, it looks\nlike kind of a box shadow,"},"2446":{"dur":3,"text":"kind of feeling thing there."},"2450":{"dur":3,"text":"But it's not really very\nnice because it's also"},"2453":{"dur":1,"text":"a bit too dark."},"2455":{"dur":2,"text":"So we'll bring the\nopacity down to say, 0.3."},"2457":{"dur":0,"text":"OK."},"2458":{"dur":1,"text":"So it gives us--\nnow you can see it."},"2459":{"dur":3,"text":"It's just that, you maybe\nhave to, kind of, look at it."},"2463":{"dur":1,"text":"You see when I do the\nanimation it's there."},"2465":{"dur":1,"text":"It's--"},"2466":{"dur":1,"text":"SURMA: Below the elements."},"2467":{"dur":1,"text":"PAUL: Below the elements."},"2468":{"dur":2,"text":"What we'll do,\ninside our code here,"},"2471":{"dur":1,"text":"so we've actually-- we\nhaven't got the umbra"},"2473":{"dur":2,"text":"and the penumbra picked out yet,\nso we're going to do that now."},"2475":{"dur":2,"text":"Let's do that."},"2478":{"dur":7,"text":"Umbra Is the umbra, and\nthe penumbra is like so."},"2488":{"dur":2,"text":"SURMA: The question\nthat we have is,"},"2491":{"dur":3,"text":"will containment help with\na painting lag, and I guess,"},"2494":{"dur":1,"text":"in this case, it won't."},"2495":{"dur":2,"text":"Because we are not\nactually fighting"},"2498":{"dur":1,"text":"against the bubbling of--"},"2499":{"dur":0,"text":"PAUL: Right."},"2500":{"dur":1,"text":"We're not, and we're\nactually-- what"},"2501":{"dur":3,"text":"we're fighting against is what's\nknown as a convolution filter"},"2505":{"dur":1,"text":"that we've got here."},"2506":{"dur":3,"text":"Blues require not looking--\nwhen you're figuring out"},"2510":{"dur":1,"text":"what the pixel\nshould be, you have"},"2511":{"dur":2,"text":"to look at one that\nyou have to look at"},"2513":{"dur":1,"text":"and you have to inspect."},"2514":{"dur":3,"text":"And so it makes it proportional\nto the amount of blur"},"2517":{"dur":0,"text":"that you've got."},"2518":{"dur":2,"text":"So if you got a blur\nof, like, 20 pixels,"},"2520":{"dur":2,"text":"that kernel around the pixel,\nthat one pixel that you're"},"2523":{"dur":1,"text":"trying to-- is quite large."},"2524":{"dur":1,"text":"And then, depending\non the algorithm,"},"2525":{"dur":1,"text":"SURMA: Averaging out\nthe environment around--"},"2527":{"dur":0,"text":"PAUL: And the\ndistribution, which"},"2528":{"dur":2,"text":"is the Gaussian distribution,\nhence the name Gaussian blur."},"2531":{"dur":5,"text":"But you're doing that per\nframe, per pixel of the shadow,"},"2536":{"dur":2,"text":"depending on how blurry\nyou've decided to make it."},"2538":{"dur":1,"text":"So this is a point\nat which, even"},"2540":{"dur":1,"text":"if you could contain\neverything else,"},"2541":{"dur":3,"text":"the sheer computational cost\nof doing that paint work, that"},"2545":{"dur":2,"text":"blurring work, that we just get\nto type one line of code, which"},"2548":{"dur":4,"text":"is WebKit filter, blur 2 pixels,\nor 12 pixels, or 20 pixels."},"2552":{"dur":2,"text":"But under the hood,\nthe browser is"},"2554":{"dur":2,"text":"having to do all this\nmath to try and get"},"2557":{"dur":2,"text":"to the actual blurriness."},"2559":{"dur":1,"text":"And that stuff we\nkind of want to bake."},"2561":{"dur":2,"text":"We don't want to be doing\nthat on every single frame."},"2563":{"dur":1,"text":"Anyway, right."},"2565":{"dur":4,"text":"So I wanted to,\nwith my shadow here."},"2569":{"dur":5,"text":"I'm going to say animate,\nand I'm going to do umbra,"},"2575":{"dur":1,"text":"and I'm going to do timing."},"2577":{"dur":0,"text":"And I'm--"},"2578":{"dur":2,"text":"SURMA: So, basically, giving\nthe same animation to the--"},"2580":{"dur":1,"text":"PAUL: Well. it will be."},"2582":{"dur":0,"text":"Penumbra."},"2583":{"dur":2,"text":"I have to define what\numbra and penumbra are,"},"2585":{"dur":2,"text":"and I'm just going to get\nrid of that for a second."},"2587":{"dur":3,"text":"So const, the umbra."},"2590":{"dur":1,"text":"SURMA: Or a very\nsimilar animation?"},"2592":{"dur":1,"text":"PAUL: Yeah, it's going\nto be very similar."},"2593":{"dur":2,"text":"Here, what we're actually going\nto do, we're going to set,"},"2596":{"dur":1,"text":"for the umbra and\nthe penumbra, we're"},"2597":{"dur":4,"text":"actually going to set\nbackface-visibility to visible."},"2601":{"dur":2,"text":"We want to make sure that\nwhen the shadow flips over,"},"2604":{"dur":2,"text":"it's still actually there."},"2606":{"dur":3,"text":"Because it's a shadow, and\nwe do that kind of stuff."},"2610":{"dur":3,"text":"So, here, what we're going to\ndo is we're actually just going"},"2613":{"dur":2,"text":"to go with a transform again."},"2615":{"dur":2,"text":"And what we want to do,\nis we want to rotate."},"2621":{"dur":3,"text":"You want, basically,\nto rotate 0 degrees."},"2624":{"dur":2,"text":"I'm not even going to\npush it back or forwards,"},"2627":{"dur":0,"text":"SURMA: Because\nit's on the ground."},"2628":{"dur":1,"text":"It's basically, yeah."},"2630":{"dur":1,"text":"So we're going to do that."},"2631":{"dur":0,"text":"But what we're\ngoing to do is we're"},"2632":{"dur":1,"text":"going to translate it down."},"2633":{"dur":3,"text":"So we're going to start with\na translate Y of 2, 2 pixels."},"2636":{"dur":1,"text":"So it's just a little\nbit below the cards,"},"2638":{"dur":2,"text":"so it just feels like it's\njust a little bit there,"},"2640":{"dur":1,"text":"rotated at zero degrees."},"2642":{"dur":4,"text":"And then what we're going\nto do is we're going to--"},"2646":{"dur":3,"text":"and we'll bring it down, say,\n62 pixels, and then back to 2."},"2649":{"dur":2,"text":"So it's going to come sliding\ndown, and then sliding back up."},"2652":{"dur":3,"text":"At halfway point, let\nus do it to 180 degrees."},"2656":{"dur":2,"text":"And we need our two\noffsets, as well,"},"2658":{"dur":1,"text":"because we want\nit to kind of copy"},"2660":{"dur":3,"text":"the behavior of the main card."},"2663":{"dur":1,"text":"SURMA: Yeah, it\nwouldn't be in sync--"},"2665":{"dur":1,"text":"would be weird\nwithout the offsets."},"2666":{"dur":0,"text":"PAUL: Correct."},"2667":{"dur":1,"text":"So, hopefully,\nwe're going to see"},"2668":{"dur":2,"text":"something that\nslides down, rotates,"},"2671":{"dur":1,"text":"and slides back up again."},"2672":{"dur":2,"text":"And that should, in\ntheory, work for us."},"2674":{"dur":1,"text":"OK let's try that and see."},"2675":{"dur":1,"text":"SURMA: [INAUDIBLE]."},"2677":{"dur":2,"text":"For the people who have\njoined us, welcome."},"2679":{"dur":3,"text":"You're now seeing\nthe first stage"},"2683":{"dur":2,"text":"of what we're trying to do,\nwhich is a 3-D flipping card."},"2686":{"dur":0,"text":"PAUL: OK."},"2687":{"dur":1,"text":"SURMA: Let's flipping it first."},"2688":{"dur":0,"text":"PAUL: No, it didn't work."},"2689":{"dur":0,"text":"SURMA: It actually does\nwork, but it's just"},"2690":{"dur":0,"text":"flipping the wrong way."},"2691":{"dur":0,"text":"SURMA: That's\nactually pretty good."},"2692":{"dur":2,"text":"PAUL: It's because I didn't\nput in the actual axis."},"2695":{"dur":3,"text":"I just said rotate, and so it\nassumed I meant on the z-axis,"},"2698":{"dur":0,"text":"actually."},"2699":{"dur":0,"text":"So, we'll do that."},"2700":{"dur":1,"text":"Let's try that again."},"2701":{"dur":0,"text":"OK."},"2702":{"dur":1,"text":"Now, see now we're talking."},"2703":{"dur":3,"text":"We're actually getting a nice\nlittle thing going on there."},"2707":{"dur":2,"text":"SURMA: And, when we\nenable repaint flashing."},"2710":{"dur":0,"text":"OK."},"2711":{"dur":3,"text":"When we enable repaint flashing,\nit's going to lie to us, OK?"},"2715":{"dur":1,"text":"Now, we've got-- I'll\ntell you what I need."},"2717":{"dur":1,"text":"SURMA: So you would\nthink this looks good."},"2718":{"dur":2,"text":"PAUL: I'm going to switch\noff the inert again, just so"},"2720":{"dur":1,"text":"that we get to see that."},"2722":{"dur":2,"text":"And we will get some\nfrom the box yet,"},"2724":{"dur":3,"text":"so let me just switch\noff the boxes again,"},"2728":{"dur":1,"text":"Just so that we\ncan see this bit,"},"2730":{"dur":2,"text":"and then we can talk about\nwhy this isn't actually"},"2732":{"dur":2,"text":"as good as it appears."},"2735":{"dur":1,"text":"OK."},"2736":{"dur":1,"text":"I've got to actually\nselect that element first."},"2738":{"dur":1,"text":"And sc-card."},"2740":{"dur":1,"text":"Console."},"2741":{"dur":0,"text":"OK."},"2742":{"dur":1,"text":"So, this is pretty much\nwhat we saw before."},"2744":{"dur":0,"text":"There we are?"},"2745":{"dur":2,"text":"SURMA: Now we have a flipping\ncard with a shadow, which--"},"2747":{"dur":0,"text":"PAUL: Is great."},"2748":{"dur":1,"text":"But we can make it\neven better, and I"},"2750":{"dur":1,"text":"think what we'll do\nis just temporarily,"},"2752":{"dur":3,"text":"we will do our penumbra now."},"2755":{"dur":2,"text":"So I'll do the\npenumbra stuff, which"},"2757":{"dur":4,"text":"is going to require-- so we get\nit with this particular code."},"2761":{"dur":2,"text":"And we will do this."},"2764":{"dur":2,"text":"And we're going to\nstart it off at zero."},"2767":{"dur":3,"text":"And we're going to blur\nit up to 12 pixels, OK?"},"2770":{"dur":3,"text":"And, over here, the penumbra\nwill take this little chunk"},"2774":{"dur":0,"text":"here."},"2775":{"dur":2,"text":"Call this penumbra."},"2777":{"dur":1,"text":"Penumbra and what\nwe're going to do"},"2779":{"dur":2,"text":"is we're going to do the\nexactly the same animation."},"2781":{"dur":1,"text":"Now, what we can\nalso do is we're"},"2783":{"dur":3,"text":"starting at an\nopacity of 0.3 here,"},"2786":{"dur":4,"text":"but we're going to--\nanimate this down to zero."},"2790":{"dur":2,"text":"I'm only doing 0.0,\nso the indentation"},"2792":{"dur":2,"text":"stays the same, or the\ndistance because I found"},"2795":{"dur":2,"text":"that really easier to read."},"2797":{"dur":1,"text":"Then I fade that\nout, the umbra out,"},"2798":{"dur":1,"text":"but we're going to\nfade in the penumbra."},"2800":{"dur":2,"text":"So it's not technically\ncorrect, but it kind of"},"2802":{"dur":1,"text":"should work for us."},"2803":{"dur":1,"text":"And I'm going to go from 0"},"2805":{"dur":1,"text":"SURMA: As we said,\nif it looks right--"},"2806":{"dur":1,"text":"PAUL: It is right."},"2808":{"dur":0,"text":"OK."},"2809":{"dur":1,"text":"So this is the penumbra--"},"2810":{"dur":1,"text":"SURMA: So what we're\ntrying to emulate here"},"2812":{"dur":1,"text":"is that when you\nhave a light source,"},"2814":{"dur":2,"text":"and something going\ntowards the light source,"},"2817":{"dur":1,"text":"the diffusion of the shadow--"},"2818":{"dur":1,"text":"PAUL: Yeah, it's like\nit feels blurrier."},"2820":{"dur":3,"text":"And what we're trying to do is\nwe're just fading between two,"},"2823":{"dur":3,"text":"between something with a 2-pixel\nblur and a 12-pixel blur."},"2827":{"dur":1,"text":"And I've slowed the\nanimation right down now."},"2828":{"dur":1,"text":"So hopefully, let\nme just switch off"},"2830":{"dur":2,"text":"the paint flashing in a sec,\nand see if it's actually"},"2832":{"dur":2,"text":"visually correct first."},"2835":{"dur":1,"text":"Or at least kind of\nvisually correct."},"2836":{"dur":4,"text":"Yeah, I've got to do my\nbutton on hiding stuff."},"2841":{"dur":2,"text":"That's my fault, and I keep\nforgetting that I'm doing that."},"2843":{"dur":0,"text":"OK."},"2844":{"dur":1,"text":"So you see how we get\nthat cross-fade between--"},"2846":{"dur":1,"text":"SURMA: Look, look at\nthe edges of the shadow."},"2848":{"dur":2,"text":"It becomes more blurry, but\nthe further the card lifts up,"},"2851":{"dur":1,"text":"it's exactly the effect\nthat we're looking for."},"2853":{"dur":1,"text":"PAUL: Let's slow it\ndown even more just"},"2854":{"dur":1,"text":"so that it's really obvious."},"2856":{"dur":3,"text":"So again, now across\nthat blurrier version,"},"2859":{"dur":4,"text":"and then back into the sharper\nversion as we go back down."},"2863":{"dur":2,"text":"The eye will notice that, even\nwhen the animation is fast,"},"2866":{"dur":1,"text":"the human eye will notice it."},"2867":{"dur":3,"text":"Hopefully, as well,\nwith the paint flashing."},"2870":{"dur":4,"text":"We're going to see, come\non, Paul, you can do it."},"2875":{"dur":2,"text":"[INAUDIBLE]"},"2877":{"dur":5,"text":"OK, with the paint flashing,\nwe're in a pretty good spot."},"2882":{"dur":2,"text":"OK, we're doing\npretty well here."},"2885":{"dur":2,"text":"Now, this is the bit where,\nhaving done all that work,"},"2887":{"dur":2,"text":"I'm about to tell you that\nthis is not actually very good."},"2890":{"dur":1,"text":"Let me show you why that is."},"2892":{"dur":1,"text":"Well, I'm not going to\nbe that easy to show you"},"2894":{"dur":2,"text":"why that is, other\nthan I'm going"},"2896":{"dur":3,"text":"to have to-- let's see if we can\nat least figure something out."},"2899":{"dur":1,"text":"The CPU throttling there."},"2901":{"dur":1,"text":"So let's try and\nsee what we get."},"2903":{"dur":1,"text":"So rendering--"},"2904":{"dur":1,"text":"SURMA: Let's try this."},"2905":{"dur":0,"text":"PAUL: And see what happens."},"2906":{"dur":1,"text":"So we're going to do\nour animation, like so."},"2908":{"dur":3,"text":"Now we're on a fast\ndesktop machine."},"2912":{"dur":3,"text":"Hopefully, down\nhere somewhere, you"},"2915":{"dur":2,"text":"can see the amount\nof time on the GPU"},"2918":{"dur":4,"text":"is actually,\noccasionally, quite hefty."},"2922":{"dur":1,"text":"SURMA: That is a\ngood amount of time"},"2923":{"dur":1,"text":"for a machine this powerful."},"2925":{"dur":2,"text":"PAUL: Yes, and the reason it\nis taking this long sometimes"},"2928":{"dur":2,"text":"and this is going to be worse\non something that doesn't"},"2931":{"dur":2,"text":"have a meaty GPU like a phone."},"2933":{"dur":3,"text":"The WebKit filters are\ndone later in the pipeline,"},"2937":{"dur":1,"text":"so we talked earlier\nabout the fact"},"2938":{"dur":1,"text":"that we're kind of\nbaking these textures."},"2940":{"dur":2,"text":"And these textures actually\nget sent over to the GPU"},"2943":{"dur":2,"text":"and then they get,\nbasically, put into boxes"},"2945":{"dur":1,"text":"and moved around the screen."},"2946":{"dur":1,"text":"And that's what the\ntransformers do,"},"2948":{"dur":1,"text":"which is moving\nthose boxes around."},"2949":{"dur":4,"text":"When you apply a WebKit\nfilter, we take those textures"},"2953":{"dur":2,"text":"at the end of the pipeline,\nand we do something"},"2956":{"dur":1,"text":"like a blur to them."},"2957":{"dur":2,"text":"So that blur is actually\nhappening GPU-side,"},"2960":{"dur":2,"text":"but it means that we can't\ndo any other instructions"},"2962":{"dur":2,"text":"to the GPU like, keep this\nanimation going, because it's"},"2965":{"dur":1,"text":"going well, I'm\nbusy doing that blur"},"2966":{"dur":1,"text":"that you just asked me to do."},"2968":{"dur":4,"text":"So we need to find another way\nto basically do this blurring."},"2972":{"dur":2,"text":"As I say, if you would,\nyou have to trust me."},"2975":{"dur":3,"text":"If I do, maybe even a low-end\ndevice to see if it will do it."},"2979":{"dur":2,"text":"SURMA: And I'm presuming this\nis knowledge we're really"},"2981":{"dur":1,"text":"CPU-bound, so we\nmight not see it--"},"2982":{"dur":1,"text":"PAUL: We might not see it here."},"2984":{"dur":1,"text":"SURMA: It still looks good."},"2985":{"dur":1,"text":"PAUL: Yeah, it still looks OK."},"2987":{"dur":1,"text":"It's something that\nassumes I did it on my own"},"2989":{"dur":1,"text":"and checked it on my phone."},"2990":{"dur":0,"text":"This."},"2991":{"dur":1,"text":"In fact, I was, like,\nyeah, this isn't good."},"2993":{"dur":0,"text":"OK."},"2994":{"dur":2,"text":"Let's jump to what we\ncan actually do instead."},"2997":{"dur":1,"text":"What we can actually\ndo instead is,"},"2998":{"dur":1,"text":"we want to bake\nsomething with a texture."},"3000":{"dur":1,"text":"Now we could go\n1998-style, as you"},"3002":{"dur":2,"text":"referred to it the other day,\nand we could make paintings."},"3004":{"dur":3,"text":"We could actually make a\ngraphic of a blurred box."},"3008":{"dur":1,"text":"SURMA: Basically,\npre-computer blur,"},"3009":{"dur":3,"text":"put it in an image from\nwhat it has capabilities"},"3012":{"dur":2,"text":"for transparency because\nwe need them for the edges."},"3015":{"dur":1,"text":"And we could use that."},"3016":{"dur":2,"text":"But, you know,we also live in\nthe time of responsiveness."},"3019":{"dur":1,"text":"SURMA: Different screen sizes."},"3020":{"dur":1,"text":"PAUL: So how are we\ngoing to do that."},"3022":{"dur":1,"text":"Well, I mean, there are options."},"3024":{"dur":1,"text":"You could use a border\nimage, and so on."},"3025":{"dur":0,"text":"SURMA: True."},"3026":{"dur":1,"text":"PAUL: That is going\nto work for you."},"3027":{"dur":3,"text":"What we've chosen to do\ntoday is actually to use SVG."},"3031":{"dur":2,"text":"Because SVG supports\nGaussian blur."},"3033":{"dur":4,"text":"And if we were to set\nthose umbra, penumbra dips"},"3038":{"dur":4,"text":"to use these SVG files,\nas their background,"},"3042":{"dur":1,"text":"those will get kind\nof baked as a texture."},"3044":{"dur":1,"text":"And then we will get\nexactly the same effect."},"3046":{"dur":1,"text":"We won't have the\nblur in the CSS--"},"3047":{"dur":1,"text":"SURMA: We're using\nthe same process."},"3049":{"dur":1,"text":"We are blurring a black square"},"3050":{"dur":0,"text":"PAUL: Right."},"3051":{"dur":1,"text":"SURMA: By re-using it\nat different points"},"3052":{"dur":0,"text":"in the pipeline."},"3053":{"dur":0,"text":"PAUL: Exactly."},"3054":{"dur":2,"text":"So let me just show you what one\nof these actually looks like."},"3056":{"dur":0,"text":"So--"},"3057":{"dur":0,"text":"SURMA: Before we\nstart, I found that we"},"3058":{"dur":1,"text":"have an interesting\nquestion, I thought."},"3060":{"dur":2,"text":"How was the flipping element\naffecting its surrounding"},"3062":{"dur":0,"text":"elements?"},"3063":{"dur":1,"text":"PAUL: It won't."},"3064":{"dur":1,"text":"SURMA: That's the\nbeauty of transforms."},"3066":{"dur":3,"text":"PAUL: Transforms don't change\nthe actual layout position,"},"3069":{"dur":0,"text":"if you see what I mean."},"3070":{"dur":3,"text":"They're not moving, they\njust-- they look like they"},"3073":{"dur":1,"text":"are, if that makes sense."},"3074":{"dur":2,"text":"SURMA: So, we layout--\neach browser layouts,"},"3077":{"dur":1,"text":"all the browsers\nlayout their elements,"},"3078":{"dur":1,"text":"and then the\ntransforms can apply,"},"3080":{"dur":3,"text":"purely on a post-effect basis."},"3083":{"dur":0,"text":"PAUL: Yeah."},"3084":{"dur":1,"text":"SURMA: So if you say\nscale, it will get,"},"3086":{"dur":2,"text":"the image that has been rendered\nalready will get scaled."},"3088":{"dur":0,"text":"PAUL: Yeah."},"3089":{"dur":2,"text":"And then they might get\nrepainted at the end."},"3091":{"dur":0,"text":"This is a true--"},"3092":{"dur":0,"text":"I got it."},"3093":{"dur":1,"text":"PAUL: It is a key\npointer, though."},"3094":{"dur":1,"text":"Sometimes if you do a scale\nat the end of the scale,"},"3096":{"dur":1,"text":"the browser will\ngo, well, now I need"},"3097":{"dur":2,"text":"to kind of make that image\nbigger, for example, so it"},"3099":{"dur":0,"text":"doesn't look blurry."},"3100":{"dur":1,"text":"So there is some\nsmartness here, but"},"3102":{"dur":3,"text":"in this particular\nsituation, we should be fine."},"3106":{"dur":3,"text":"So umbra, and our penumbra, you\ncan see what that looks like."},"3109":{"dur":3,"text":"I'm going to open that,\nand reveal and find that,"},"3112":{"dur":3,"text":"and then I was going to drag\nthat all the way down here"},"3115":{"dur":1,"text":"into Canary."},"3116":{"dur":1,"text":"So this is what it looks like."},"3118":{"dur":1,"text":"This is pretty much the\nsame thing we actually"},"3120":{"dur":4,"text":"got from the CSS blur filter."},"3124":{"dur":2,"text":"So let's see how we\nget on with that."},"3126":{"dur":1,"text":"What we're going\nto do, though, is"},"3127":{"dur":1,"text":"we're going to switch across."},"3129":{"dur":1,"text":"So we need to go\nback to our CSS,"},"3130":{"dur":5,"text":"and we are going to get\nrid of the background."},"3136":{"dur":1,"text":"There, we don't want that."},"3137":{"dur":1,"text":"We don't want the blurs."},"3138":{"dur":1,"text":"We definitely don't want those."},"3140":{"dur":2,"text":"But everything else can actually\nstay the same, for now-ish."},"3142":{"dur":2,"text":"What we're going to do is we're\ngoing to set background:url."},"3145":{"dur":2,"text":"And we're going to say images,\nand this one is the umbra.svg."},"3150":{"dur":1,"text":"Downside."},"3152":{"dur":3,"text":"Center, center, no repeat."},"3156":{"dur":0,"text":"OK."},"3157":{"dur":2,"text":"I'm going to say the\nsame for the penumbra"},"3159":{"dur":2,"text":"SURMA: Shouldn't there\nalso be a contain?"},"3162":{"dur":2,"text":"PAUL: Well, I mean, this\nis the thing at the moment."},"3164":{"dur":1,"text":"I set to 100% width and height."},"3166":{"dur":1,"text":"They don't warrant\nthe rest to be"},"3167":{"dur":1,"text":"set to 100% width and height."},"3169":{"dur":2,"text":"Again, I've hard-coded\nthese values."},"3171":{"dur":1,"text":"You can do this in\na responsive manner,"},"3173":{"dur":2,"text":"but we'll just do it like\na hard-coded version today,"},"3175":{"dur":3,"text":"just to, you know,\nget us through."},"3178":{"dur":5,"text":"So, the actual width of the\numbra in the svg is 270 by 390."},"3184":{"dur":2,"text":"So what we'll do is we'll\ngo back and we'll set this"},"3186":{"dur":4,"text":"to width:270 pixels."},"3191":{"dur":1,"text":"Height, did I say 390?"},"3192":{"dur":0,"text":"I think I did."},"3193":{"dur":0,"text":"SURMA: Question\non the side, which"},"3194":{"dur":1,"text":"is probably interesting to you."},"3195":{"dur":3,"text":"We call it a card flip, but\nshouldn't we be using flip?"},"3199":{"dur":1,"text":"PAUL: We don't need to."},"3200":{"dur":3,"text":"So, flip is a really\ngood technique"},"3204":{"dur":2,"text":"when you don't know the\ntransforms ahead of time."},"3206":{"dur":1,"text":"PAUL: We've been able to\nhard-code these transforms"},"3208":{"dur":2,"text":"because we know the card\nis going from one side,"},"3210":{"dur":1,"text":"and it's rotating 180 degrees."},"3212":{"dur":2,"text":"SURMA: So we know from 0 degrees\nto 180, if it changes sides,"},"3214":{"dur":2,"text":"and we don't know the size\nof the screen or anything"},"3216":{"dur":1,"text":"like that would get involved?"},"3218":{"dur":1,"text":"That's the second flip comes in."},"3219":{"dur":1,"text":"When you don't know the\ntransforms ahead of time,"},"3221":{"dur":1,"text":"you would use a\ntechnique like flip."},"3223":{"dur":2,"text":"We know those ahead of time,\nso we shouldn't try and make"},"3225":{"dur":3,"text":"it more complicated\nthan it needs to be."},"3228":{"dur":1,"text":"So that's 270 by 390."},"3230":{"dur":2,"text":"Now the problem there\nis that the card itself"},"3232":{"dur":3,"text":"is 260 by 380, which means\nwe have to position this top"},"3236":{"dur":2,"text":"and left by 5 pixels,\nminus 5 pixels."},"3239":{"dur":1,"text":"Top, minus 5 pixels."},"3240":{"dur":2,"text":"Left, minus 5 pixels."},"3243":{"dur":2,"text":"And that will now\nposition that correctly."},"3245":{"dur":2,"text":"Same is going to hold\ntrue for the penumbra,"},"3248":{"dur":1,"text":"except that it's going\nto be even bigger."},"3249":{"dur":1,"text":"It's 330 by 450."},"3251":{"dur":2,"text":"SURMA: Do we need\nposition:relative or something?"},"3253":{"dur":2,"text":"PAUL: No, we are\nposition:absolute."},"3256":{"dur":3,"text":"So 330 by 450."},"3259":{"dur":3,"text":"And so it was, what\nwas it, 260, so that"},"3262":{"dur":2,"text":"is 70, which is 35 pixels."},"3265":{"dur":3,"text":"So we minus 35 pixels, I\nthink, in both directions."},"3268":{"dur":2,"text":"All being well."},"3271":{"dur":0,"text":"SURMA: I trust you."},"3272":{"dur":0,"text":"PAUL: All right."},"3273":{"dur":1,"text":"SURMA: I say that."},"3275":{"dur":4,"text":"PAUL: So all being well, now,\nif that works, there we go."},"3280":{"dur":4,"text":"We actually have-- it doesn't\nlook, visually, any different."},"3284":{"dur":3,"text":"But the umbra is\nbacked by this SVG,"},"3288":{"dur":4,"text":"and the penumbra is backed\nby this SVG over here."},"3292":{"dur":2,"text":"And I'm going to\nswitch back on my inert"},"3295":{"dur":5,"text":"as well, so that I\ndon't forget to do that."},"3301":{"dur":6,"text":"And, basically, just record."},"3307":{"dur":2,"text":"Yeah, I'll do it at slow\nspeed, just so that there"},"3310":{"dur":3,"text":"are plenty of frames to go up."},"3314":{"dur":1,"text":"There you go."},"3316":{"dur":2,"text":"Still completely quiet."},"3318":{"dur":2,"text":"Totally quiet."},"3320":{"dur":2,"text":"Nothing doing."},"3322":{"dur":2,"text":"SURMA: Now, it will also\nwork on a device that"},"3325":{"dur":3,"text":"doesn't have a beefy GPU."},"3328":{"dur":2,"text":"PAUL: This will\nwork, everywhere."},"3331":{"dur":1,"text":"The only other last\ncouple bits and pieces"},"3332":{"dur":2,"text":"that I'd like to do for a\nlittle bit of tidiness's sake,"},"3335":{"dur":3,"text":"is we flip the side immediately."},"3338":{"dur":1,"text":"But we really probably\nonly want to do that"},"3340":{"dur":1,"text":"at the end of the animation."},"3342":{"dur":2,"text":"So what we can do here\nis, we can do an onfinish."},"3344":{"dur":2,"text":"This returns the-- I\nbelieve, in the future,"},"3347":{"dur":2,"text":"this will start to return\na promise, but for today,"},"3349":{"dur":2,"text":"SURMA: They are reworking\nthe API, aren't they?"},"3351":{"dur":0,"text":"PAUL: Yeah."},"3352":{"dur":2,"text":"Onfinish equals, and\nthen it's a function."},"3357":{"dur":3,"text":"And we could bounce this\nout to its own onfinish,"},"3360":{"dur":2,"text":"but I don't think we need to."},"3363":{"dur":4,"text":"And the other thing I think I'd\nprobably want to do, this.lock."},"3367":{"dur":1,"text":"I think I want to\nlock it while we're"},"3369":{"dur":2,"text":"in the middle of the\nflipping-over animation."},"3371":{"dur":3,"text":"So this locked is false."},"3375":{"dur":2,"text":"And it's, when it\nis there, when it is"},"3378":{"dur":1,"text":"finishing it's also unlocked."},"3379":{"dur":2,"text":"And then at the start of\nthe flipping animation--"},"3382":{"dur":2,"text":"SURMA: So this was basically\nmeant you just that are just"},"3384":{"dur":1,"text":"violently clicking"},"3385":{"dur":0,"text":"PAUL: Yeah"},"3386":{"dur":0,"text":"SURMA: There are multiple\nanimations in it,"},"3387":{"dur":0,"text":"it seems like--"},"3388":{"dur":1,"text":"PAUL: It, you know, you\ncould figure out ways,"},"3390":{"dur":1,"text":"I'm sure, if it's locked."},"3391":{"dur":2,"text":"We're just going to return\nearly so that we don't do that."},"3393":{"dur":3,"text":"So you can't basically cause us\nto go lots and lots of times."},"3397":{"dur":0,"text":"We just speeded up."},"3398":{"dur":1,"text":"Actually, no, let\nme just check it."},"3400":{"dur":1,"text":"It actually works."},"3401":{"dur":2,"text":"So, not with a zero."},"3404":{"dur":1,"text":"Go to the console."},"3405":{"dur":1,"text":"So we select the card."},"3407":{"dur":3,"text":"And we can say flip, and if\nI can't see, now you see,"},"3410":{"dur":1,"text":"that's still broken."},"3412":{"dur":3,"text":"So, all being well."},"3416":{"dur":2,"text":"Now ignoring me until it\nreaches the other side."},"3418":{"dur":1,"text":"And at the end of\nthe animation, it"},"3420":{"dur":2,"text":"should unlock, so that we\ncan now call flip again,"},"3422":{"dur":0,"text":"and it will go back up."},"3423":{"dur":1,"text":"So we're actually sort\nof protecting ourselves"},"3425":{"dur":2,"text":"from that kind of brokenness\nthat we just saw there."},"3428":{"dur":2,"text":"SURMA: Something I always\nforget in the first iteration"},"3430":{"dur":3,"text":"of my code, and then I wonder\nwhy people start using it."},"3433":{"dur":2,"text":"PAUL: And saying, it's broken."},"3435":{"dur":4,"text":"SURMA: These violently clicking\nusers always breaking my stuff."},"3439":{"dur":0,"text":"PAUL: OK."},"3440":{"dur":0,"text":"So there we are."},"3441":{"dur":0,"text":"You see?"},"3442":{"dur":1,"text":"Tada."},"3443":{"dur":3,"text":"We have a flippable,\n3D-flippable card."},"3447":{"dur":1,"text":"Why don't we, just for\nfun, because I think"},"3449":{"dur":2,"text":"we have a few minutes left."},"3451":{"dur":4,"text":"Let's do axis equals--\nI'm going to do random,"},"3455":{"dur":4,"text":"but let's see what we get\nhere, Because this should work."},"3460":{"dur":1,"text":"In fact, let me,\nyeah, let's do this."},"3461":{"dur":1,"text":"Let's do it this way."},"3463":{"dur":2,"text":"When we need to do the\nattribute of data collection,"},"3466":{"dur":2,"text":"and after this, I will actually\nadd some of that code back in."},"3468":{"dur":7,"text":"But we're going to say this.axis\nequals this.get attribute."},"3476":{"dur":1,"text":"Attribute."},"3477":{"dur":4,"text":"Axis, or default it to\nthe x-axis, for example."},"3482":{"dur":0,"text":"OK."},"3483":{"dur":2,"text":"SURMA: I'm assuming you're going\nto define how the card flips."},"3485":{"dur":1,"text":"PAUL: Yeah."},"3487":{"dur":2,"text":"If the axis equals--\nLet me do it"},"3490":{"dur":4,"text":"to uppercase as opposed to\nupper case equals random."},"3495":{"dur":2,"text":"We'll just choose one at random."},"3497":{"dur":6,"text":"So, this.axis equals\nmath.random is greater than 0.5."},"3503":{"dur":1,"text":"We'll do the y-axis."},"3504":{"dur":2,"text":"Otherwise, we'll do the x-axis."},"3507":{"dur":1,"text":"OK?"},"3509":{"dur":2,"text":"So, you might be wondering,\nwhat is he doing here?"},"3512":{"dur":4,"text":"Well, we've chosen, at this\npoint, to always do a rotate y."},"3516":{"dur":2,"text":"Well, we can just\nselect all these now."},"3518":{"dur":1,"text":"No, I'll tell you what we'll do."},"3519":{"dur":0,"text":"For rotate y."},"3520":{"dur":0,"text":"There we are."},"3524":{"dur":0,"text":"There we go."},"3525":{"dur":3,"text":"And we'll do this.axis."},"3529":{"dur":2,"text":"And for these ones here,\nwhere we didn't actually"},"3531":{"dur":2,"text":"have them set, we're\ngoing have to, yeah,"},"3534":{"dur":1,"text":"I was wondering if that\nwas going to happen."},"3535":{"dur":4,"text":"Sometimes, when you\ndo them multi quotes"},"3540":{"dur":3,"text":"SURMA: [INAUDIBLE] are a little\nbit iffy, in my experience."},"3543":{"dur":0,"text":"PAUL: It can be, yes."},"3544":{"dur":2,"text":"And sometimes, you get\nthis kind of situation"},"3546":{"dur":1,"text":"where you have to do a\nlittle bit of tidying up."},"3548":{"dur":0,"text":"SURMA: Yeah."},"3549":{"dur":2,"text":"PAUL: But all the\nsame, because I set it"},"3551":{"dur":2,"text":"to random, hopefully, they--"},"3554":{"dur":0,"text":"PAUL: There you go."},"3555":{"dur":2,"text":"We've got one that\nflips an x here."},"3558":{"dur":2,"text":"If I refresh, we got\none that flips in y."},"3560":{"dur":2,"text":"It's almost like it decided\nto help me out there,"},"3562":{"dur":2,"text":"and didn't do, like,\n10 in a row in x."},"3564":{"dur":1,"text":"So there you go."},"3566":{"dur":3,"text":"Now you see that code just\nworks there for whatever axis we"},"3569":{"dur":1,"text":"want, and we can\nchange the perspective,"},"3571":{"dur":1,"text":"we can change the--\nwe can figure out--"},"3572":{"dur":0,"text":"SURMA: Can you give\nit more attributes,"},"3573":{"dur":1,"text":"like, how far should\nthe card lift up."},"3575":{"dur":0,"text":"PAUL: Yeah."},"3576":{"dur":0,"text":"[INTERPOSING VOICES]"},"3580":{"dur":2,"text":"PAUL: We've hard-coded the\nduration to be what it is."},"3582":{"dur":1,"text":"We can-- why not?"},"3584":{"dur":0,"text":"Let's just do this."},"3585":{"dur":1,"text":"Let this.duration."},"3587":{"dur":2,"text":"We have the time, I think."},"3590":{"dur":1,"text":"I hope everybody's\nenjoying this."},"3591":{"dur":2,"text":"Thank you so much\nfor joining us."},"3593":{"dur":2,"text":"It's lovely to\nhave you all here."},"3596":{"dur":6,"text":"I'm going to say parseInt\nthat and this is the axis"},"3603":{"dur":2,"text":"is going to be duration?"},"3605":{"dur":1,"text":"No, that one shouldn't be."},"3606":{"dur":2,"text":"That should remain as this.axis."},"3609":{"dur":4,"text":"It's going to ask for\na duration attribute."},"3613":{"dur":11,"text":"And [INAUDIBLE] if is none,\nthis.duration this.duration"},"3624":{"dur":0,"text":"equals--"},"3625":{"dur":1,"text":"SURMA: Whenever you're\nhandling user input,"},"3627":{"dur":3,"text":"and attributes are, in this\ncase, user input, validate it."},"3630":{"dur":0,"text":"PAUL: Yeah, absolutely."},"3631":{"dur":0,"text":"SURMA: Golden rule."},"3632":{"dur":1,"text":"PAUL: So, we're going\nto basically ask"},"3634":{"dur":1,"text":"for the duration\nattribute or we're"},"3635":{"dur":1,"text":"going to default it to 800."},"3636":{"dur":7,"text":"And so we can do that,\nthere's now duration=3000."},"3644":{"dur":2,"text":"SURMA: So now, we can have\na three second card flip."},"3647":{"dur":1,"text":"PAUL: In a random access."},"3648":{"dur":1,"text":"SURMA: That felt\nlike three seconds."},"3649":{"dur":0,"text":"PAUL: There you go."},"3650":{"dur":0,"text":"SURMA: Well done, Paul!"},"3651":{"dur":0,"text":"PAUL: There you go."},"3652":{"dur":2,"text":"So, Thank you so much for\neverybody-- and for everybody"},"3655":{"dur":1,"text":"that's tuned in live."},"3656":{"dur":3,"text":"Obviously, if you're watching\nthis on-demand, as it were,"},"3659":{"dur":0,"text":"welcome."},"3660":{"dur":1,"text":"I hope you've enjoyed this."},"3661":{"dur":1,"text":"SURMA: If you just\njoined, you're late."},"3662":{"dur":0,"text":"PAUL: Yeah."},"3663":{"dur":0,"text":"Yeah."},"3664":{"dur":2,"text":"Now, next time it's normally\nETC plus one or 2 o'clock."},"3667":{"dur":2,"text":"SURMA: If you didn't know\nthat we were going to be live,"},"3669":{"dur":1,"text":"subscribe to this\nYouTube channel."},"3671":{"dur":1,"text":"Follow us on Twitter."},"3672":{"dur":2,"text":"We announce this ahead\nof time and a few minutes"},"3675":{"dur":3,"text":"before we go live, so,\nno excuse next time."},"3678":{"dur":0,"text":"PAUL: OK."},"3679":{"dur":1,"text":"The code will go up,\nonce I get it up,"},"3680":{"dur":2,"text":"as soon as humanly\npossible, once I've"},"3682":{"dur":2,"text":"had a little bit of\nadditional tidy up."},"3685":{"dur":2,"text":"And, I guess, we will\ncatch you next time."},"3688":{"dur":1,"text":"SURMA: See ya."}}