{"0":{"dur":3,"text":"[MUSIC PLAYING]"},"5":{"dur":2,"text":"ROBIN GLEN: Thanks for\nthe introduction, Monica."},"7":{"dur":2,"text":"Just so everyone\nknows that I blitzed"},"9":{"dur":2,"text":"through this in 13 minutes,\n91 slides in rehearsal."},"12":{"dur":1,"text":"And that's where\nthey said just--"},"13":{"dur":0,"text":"[WHOOSH]"},"14":{"dur":0,"text":"--cool it down."},"15":{"dur":1,"text":"So hi."},"16":{"dur":2,"text":"My name is Robin Glen, and\nyou can find me on Twitter."},"19":{"dur":2,"text":"And I'm going to talk about\na journey from components"},"22":{"dur":2,"text":"to applications."},"25":{"dur":1,"text":"We've been where we are."},"26":{"dur":2,"text":"And if I say to you\nthat I'm from the Big L,"},"29":{"dur":1,"text":"you all know what I mean, right?"},"30":{"dur":0,"text":"AUDIENCE: London."},"31":{"dur":3,"text":"ROBIN GLEN: That's Llandeilo."},"34":{"dur":4,"text":"But I work here in\nLondon, or the Little L,"},"39":{"dur":2,"text":"as we call it in Llandeilo."},"41":{"dur":2,"text":"And work for a company called\nYoox Net-A-Porter Group."},"43":{"dur":2,"text":"We're an online luxury retailer."},"46":{"dur":1,"text":"We have multiple\nwebsites focusing"},"48":{"dur":3,"text":"on luxury brands on ecommerce."},"51":{"dur":6,"text":"This time last year, I sat where\nyou guys are in Polymer Summit."},"58":{"dur":2,"text":"Not here, in Amsterdam."},"60":{"dur":1,"text":"But we were showing\noff our first Polymer"},"62":{"dur":4,"text":"release, which is the product\ndetails page on Net-a-Porter."},"67":{"dur":3,"text":"I want to show you this so I\ncould just link you to a talk"},"70":{"dur":2,"text":"So if you're interested,\nthere's a previous talk"},"73":{"dur":2,"text":"me and a developer\nand Yoox designer"},"75":{"dur":1,"text":"did about how we took\nit to production."},"77":{"dur":2,"text":"So if you're interested\nin reading about that,"},"79":{"dur":2,"text":"you can do it there."},"82":{"dur":2,"text":"I want to talk about\nwhy web components,"},"84":{"dur":1,"text":"but I want to take\na different stance"},"85":{"dur":2,"text":"and not talk about\nit as a technologist"},"88":{"dur":0,"text":"or sort of developer."},"89":{"dur":2,"text":"But I want to talk about it from\na design and Yoox perspective."},"95":{"dur":3,"text":"So previously, our\ndesign team, they"},"99":{"dur":1,"text":"would submit this\nfor a sign off."},"100":{"dur":1,"text":"So they would design a page."},"102":{"dur":1,"text":"This is an example\nof a listing page."},"103":{"dur":2,"text":"And they're part of the\ncompany to get a sign off,"},"105":{"dur":1,"text":"so we could go\nahead and build it."},"107":{"dur":3,"text":"What they found was the comments\ncould be quite subjective."},"110":{"dur":1,"text":"People were like, OK,\nwe like this here,"},"112":{"dur":2,"text":"but maybe we'll change this H1."},"114":{"dur":2,"text":"And then what you get\nis, well, bottlenecks,"},"117":{"dur":3,"text":"but design inconsistencies."},"120":{"dur":2,"text":"So what they wanted to do\nwas move towards a design"},"123":{"dur":2,"text":"pattern coined by Brad Frost\ncalled atomic design, where you"},"126":{"dur":2,"text":"build in small atoms, and\nthen a collection of atoms"},"128":{"dur":2,"text":"become a molecule, a\ncollection of molecules"},"131":{"dur":1,"text":"become an organism."},"132":{"dur":2,"text":"And they wanted to move\ntowards this pattern"},"134":{"dur":2,"text":"so they could eliminate\nthese bottlenecks,"},"137":{"dur":2,"text":"but also get consistency\nacross their designs."},"139":{"dur":1,"text":"So they were looking\nto get something"},"141":{"dur":2,"text":"like this signed off instead,\nso a collection of components."},"144":{"dur":1,"text":"And that's what they\nwould get signed off."},"146":{"dur":1,"text":"And then when they want\nto build something,"},"148":{"dur":3,"text":"they would just structure\na few of these together."},"151":{"dur":2,"text":"So this led us, the\ndesign and Yoox team,"},"153":{"dur":2,"text":"to come up with this concept\ncalled atomic components."},"156":{"dur":1,"text":"So we wanted to\nmove the front end"},"158":{"dur":1,"text":"to align with a\nnew design pattern"},"160":{"dur":2,"text":"that the back end was doing."},"162":{"dur":2,"text":"So I wanted to go over\nthe principles-- sorry."},"164":{"dur":3,"text":"I want to go over the\nprinciples of atomic components."},"168":{"dur":2,"text":"First of all is\nstandardizing the rhetoric."},"170":{"dur":2,"text":"So what I mean by\nthat is the front end"},"172":{"dur":3,"text":"team, the Yoox, the design,\nall the way to the API teams"},"176":{"dur":2,"text":"are talking about the same\nthing in the same way."},"179":{"dur":3,"text":"What this helps us do is\nget better understanding"},"182":{"dur":3,"text":"of each other's problems,\npromote collaboration, but then"},"185":{"dur":2,"text":"instead of thinking in\nlike technology problems,"},"188":{"dur":3,"text":"we think in customer\nfocus problems."},"191":{"dur":2,"text":"The next is granular thinking."},"194":{"dur":2,"text":"So we want to break everything\ndown to its finite point."},"196":{"dur":1,"text":"There's a talk that\nApple say, which"},"198":{"dur":1,"text":"is using the simple sticks."},"199":{"dur":5,"text":"You just break everything\ndown into its smallest piece."},"204":{"dur":2,"text":"So using those\nprinciples, I'm going"},"207":{"dur":1,"text":"to talk you through an\nactual component, which"},"209":{"dur":1,"text":"is called nap product summary."},"210":{"dur":1,"text":"I'm going to use these\nprinciples to build"},"212":{"dur":2,"text":"this component up together."},"214":{"dur":2,"text":"So the first part\nis the nucleus."},"217":{"dur":2,"text":"As a designer and\na developer, you've"},"219":{"dur":2,"text":"probably used this point\nwhere you break things down,"},"221":{"dur":1,"text":"like what's on the page."},"223":{"dur":2,"text":"So first of all,\nthere's product image."},"226":{"dur":2,"text":"We've got a badge, which\nidentifies what type of product"},"229":{"dur":7,"text":"it is, designer name, product\ndescription, and price."},"236":{"dur":2,"text":"Those are just the\nprimitives of this component"},"239":{"dur":3,"text":"that we need to build it."},"242":{"dur":1,"text":"So next thing, we layer\nsome more stuff on."},"244":{"dur":1,"text":"So let's look at states."},"245":{"dur":2,"text":"This component will\nhave some states."},"248":{"dur":1,"text":"The first is a skeleton state."},"249":{"dur":3,"text":"This is the preloaded state,\nbefore the product data has"},"252":{"dur":1,"text":"come back or it's\nrendered completely,"},"254":{"dur":2,"text":"this is how it will look."},"257":{"dur":1,"text":"And then you have\na loaded state,"},"258":{"dur":3,"text":"which is the next state on top."},"261":{"dur":1,"text":"So next thing is interactions."},"263":{"dur":1,"text":"So now we're starting\nto build interactions"},"265":{"dur":1,"text":"into the component."},"266":{"dur":2,"text":"So the most basic\none is the link."},"269":{"dur":2,"text":"So it generates a\nSEO-friendly URL"},"272":{"dur":2,"text":"for the href of where this\nproduct will take you."},"275":{"dur":3,"text":"Next is some kind of\ninteraction on hover or tap."},"278":{"dur":2,"text":"So it's like a rollover state\nto show two different product"},"281":{"dur":0,"text":"imagery."},"284":{"dur":1,"text":"We're going to build on again."},"285":{"dur":2,"text":"And we're going to have\nsome behaviors and rules."},"288":{"dur":2,"text":"So we've got behavior for\nif the image is broken."},"290":{"dur":2,"text":"For some reason, the image\nhasn't been uploaded."},"292":{"dur":2,"text":"We don't want the\nstandard broken image."},"295":{"dur":1,"text":"So we style it up a bit."},"296":{"dur":3,"text":"We also use responsive images\nusing image source set."},"299":{"dur":1,"text":"So that's another behavior."},"301":{"dur":2,"text":"And we use schema tags to\nidentify what the product is."},"304":{"dur":3,"text":"I'm going to go into that\nin more detail later."},"307":{"dur":1,"text":"So [? it's at ?] another one."},"309":{"dur":2,"text":"So testing, it's really\nimportant for the component"},"311":{"dur":1,"text":"to be tested."},"312":{"dur":2,"text":"And so we can abstract\nsome of the complexity away"},"314":{"dur":1,"text":"from the end testing."},"316":{"dur":1,"text":"So we do a couple\ndifferent types of tests."},"317":{"dur":1,"text":"We do unit tests."},"319":{"dur":2,"text":"This is just to make\nsure that the product"},"322":{"dur":3,"text":"is working how we expect it to."},"326":{"dur":1,"text":"So does the product\nbehave how we expect it"},"327":{"dur":1,"text":"to when we run these\ntests on source"},"329":{"dur":4,"text":"labs for multiple\nbrowser operations?"},"333":{"dur":2,"text":"We also do SEO tests."},"336":{"dur":2,"text":"SEO tests are to-- sorry."},"338":{"dur":2,"text":"Can I have a glass of water?"},"341":{"dur":3,"text":"SEO tests are just to make\nsure that the product looks"},"344":{"dur":4,"text":"exactly how we think it does\nfor rich media snippets."},"349":{"dur":2,"text":"Finally is visual testing."},"351":{"dur":2,"text":"So what we do is with\na level of tolerance,"},"354":{"dur":1,"text":"we test across\ndifferent browsers"},"356":{"dur":2,"text":"just to make sure that\nthe product looks the same"},"358":{"dur":1,"text":"on every single browser."},"359":{"dur":0,"text":"Sorry about this."},"365":{"dur":1,"text":"So that's all testing done."},"366":{"dur":1,"text":"Next is documentation."},"368":{"dur":3,"text":"Documentation is really\nimportant for our consumers"},"371":{"dur":3,"text":"and our other clients\nto adopt this component."},"375":{"dur":3,"text":"So self documenting using\nthe Polymer standards,"},"379":{"dur":1,"text":"it's also got a demo."},"380":{"dur":1,"text":"So how do you use\nthis component?"},"385":{"dur":1,"text":"Versioning."},"386":{"dur":3,"text":"So we add versioning,\nso different consumers"},"389":{"dur":3,"text":"can change the component, but\nthen subscribe to the changes"},"392":{"dur":0,"text":"when they want."},"396":{"dur":3,"text":"Sorry, next is monitoring."},"399":{"dur":1,"text":"Sorry."},"400":{"dur":0,"text":"Next is monitoring."},"401":{"dur":1,"text":"Does this component\nneed some way"},"402":{"dur":1,"text":"of registering how it's\nperforming in the wild?"},"407":{"dur":2,"text":"And then all of those\ntogether make an atom."},"409":{"dur":1,"text":"So you can see this\nonion skin, in effect,"},"411":{"dur":1,"text":"of all the different\nthings that we"},"413":{"dur":1,"text":"want to apply to the\ncomponent building up,"},"415":{"dur":3,"text":"and you abstract\ncomplexity away."},"418":{"dur":4,"text":"So using these principles,\nlet's build something."},"423":{"dur":3,"text":"I am nowhere near brave enough\nto do this in front of you,"},"426":{"dur":5,"text":"so Blue Peter style,\nhere's one I built earlier."},"431":{"dur":1,"text":"And this repo is\navailable in Open,"},"433":{"dur":2,"text":"so if anyone wants to check\nthis out and apply this work"},"436":{"dur":2,"text":"that I've done, feel free."},"438":{"dur":1,"text":"The repo's there."},"439":{"dur":2,"text":"My GitHub is thearegee,\nso you can get it."},"442":{"dur":4,"text":"So we're going to build a\nsimple product component."},"446":{"dur":2,"text":"So the Net-a-Porter\none I showed,"},"448":{"dur":3,"text":"but we've just\nremoved a few parts."},"452":{"dur":1,"text":"This is going to\nbe code-heavy here."},"454":{"dur":2,"text":"This is how you would\nuse the component."},"456":{"dur":1,"text":"There's a product attribute."},"458":{"dur":2,"text":"And that has a\nstringified bit of JSON."},"461":{"dur":1,"text":"And that's the data\ncontract for that component,"},"463":{"dur":3,"text":"that everything that it\nneeds is inside there."},"466":{"dur":1,"text":"I don't expect you\nto understand it all,"},"468":{"dur":2,"text":"but this is how you line\nup with your back end teams"},"470":{"dur":2,"text":"to make sure that you\nget this data through."},"472":{"dur":0,"text":"So here's the template."},"473":{"dur":1,"text":"This is how you would use it."},"475":{"dur":4,"text":"You can see there's a bunch\nof product.image, or different"},"479":{"dur":1,"text":"product attributes\nthat are just being"},"481":{"dur":2,"text":"passed through from the\nattribute we've previously"},"483":{"dur":1,"text":"seen."},"485":{"dur":4,"text":"But I want to focus on one\nspecifically, which is price."},"490":{"dur":2,"text":"You can see that we\nnever pass price through."},"492":{"dur":2,"text":"So let's look about\nhow this works."},"494":{"dur":3,"text":"Price is a property, but\nit's a computed property,"},"498":{"dur":2,"text":"which means it's going to get\ngenerated before the component"},"500":{"dur":1,"text":"actually gets rendered."},"502":{"dur":2,"text":"So you can see a simple\nprivate method there."},"504":{"dur":1,"text":"Compute localized\nprice, you pass it"},"506":{"dur":1,"text":"to product price and the locale."},"508":{"dur":3,"text":"Let's have a look\nat how that works."},"511":{"dur":1,"text":"So here's a simple method."},"513":{"dur":0,"text":"It's private."},"514":{"dur":1,"text":"It's documented at the top."},"515":{"dur":3,"text":"This is how you-- if you want\nthe self-documenting code,"},"518":{"dur":2,"text":"if you write like this,\nyou'll get it all for free."},"521":{"dur":1,"text":"So what does it do?"},"522":{"dur":1,"text":"It's basically just\nreturning the price,"},"523":{"dur":2,"text":"but using locale string\nto put the currency,"},"526":{"dur":1,"text":"and depending on\nthe country, where"},"527":{"dur":3,"text":"you put the comma or full stop."},"531":{"dur":2,"text":"So that's what that\nmethod's doing."},"533":{"dur":2,"text":"Let's look about how we\nmight go about testing this."},"535":{"dur":2,"text":"And we do two different\ntypes of testing."},"538":{"dur":3,"text":"The first, we'll\ncall it a unit test."},"541":{"dur":3,"text":"So we use web component\ntester, as you've probably"},"544":{"dur":1,"text":"heard people talk about today."},"545":{"dur":1,"text":"And we also use\nfixtures to stamp"},"547":{"dur":2,"text":"that in the DOM to make\nsure it's clean every time"},"549":{"dur":0,"text":"we run a test."},"550":{"dur":1,"text":"And what we're\nactually testing here"},"551":{"dur":4,"text":"is recalling the private\nmethod, subbing some data there,"},"556":{"dur":2,"text":"and just making sure it\nworks how we expect it to."},"558":{"dur":2,"text":"So it's like this\nis a unit test."},"560":{"dur":3,"text":"The next type of test,\nhowever, is a component test."},"563":{"dur":3,"text":"This is to see does it\nwork inside the component?"},"566":{"dur":2,"text":"Is the component doing what\nit's expected to look like?"},"569":{"dur":2,"text":"So you can see here, we're\ndoing a simple assertion, again,"},"571":{"dur":0,"text":"using fixture."},"572":{"dur":2,"text":"But the assertion is\nchecking the text content"},"575":{"dur":2,"text":"inside the selector making\nsure it's the right value."},"577":{"dur":3,"text":"And we're using this element\ndollar dollar notation."},"581":{"dur":1,"text":"And the reason we do\nthat is, if you just"},"582":{"dur":3,"text":"did a query selector\ndirectly, when you try and run"},"586":{"dur":2,"text":"these tests in Shadow DOM, it\ncan't pass the shadow boundary,"},"589":{"dur":1,"text":"so it will fail."},"590":{"dur":0,"text":"So we use that."},"591":{"dur":3,"text":"It's part of the shorthand for\nPolymer DOM just to inspect."},"595":{"dur":2,"text":"The next is structured data."},"597":{"dur":5,"text":"So structured data is a way of\nidentifying what a product is,"},"602":{"dur":2,"text":"what it looks\nlike, so Google can"},"604":{"dur":1,"text":"come along and see what it is."},"606":{"dur":1,"text":"There's a link there\nto a product schema,"},"607":{"dur":3,"text":"so that how you\nmark up a product."},"611":{"dur":2,"text":"And basically, the two\nminimum things you need to do"},"613":{"dur":2,"text":"is you need to say,\nhey, this is a product,"},"615":{"dur":1,"text":"and this is the name."},"617":{"dur":2,"text":"And then, you can pass this\nto Google structured data"},"619":{"dur":2,"text":"testing tool, and it\nwill validate it for you"},"621":{"dur":0,"text":"like it's done here."},"622":{"dur":2,"text":"Is that correct?"},"625":{"dur":3,"text":"So what we need to do first\nis put on the host attribute"},"628":{"dur":1,"text":"that it's a product."},"629":{"dur":1,"text":"So this is all this is doing."},"631":{"dur":2,"text":"The host attributes inside\nyour Polymer constructor"},"634":{"dur":2,"text":"will allow you to do this."},"636":{"dur":3,"text":"The next is we're going to\nmark the name as the name"},"639":{"dur":1,"text":"with this item prop."},"640":{"dur":2,"text":"We're just saying property name\nis the name of the product."},"646":{"dur":4,"text":"So we want to be able to do\nthis at CI level, though, right?"},"650":{"dur":1,"text":"We want to run these\ntests of automation."},"651":{"dur":2,"text":"We don't just copy and paste\ninto Google structured data"},"654":{"dur":2,"text":"So there's a module\nhere that we created"},"656":{"dur":2,"text":"that will act as a proxy\nand do that for you."},"658":{"dur":2,"text":"So if you want to automate\nthis testing, you can."},"661":{"dur":2,"text":"So again, it's on my GitHub\nAnd If you get that repo,"},"663":{"dur":0,"text":"you can do it."},"664":{"dur":3,"text":"And I'll just explain\nquickly how it works."},"667":{"dur":2,"text":"So this bit of code, when\nyou're setting up your tests,"},"670":{"dur":2,"text":"you grab the entire outer HTML."},"672":{"dur":2,"text":"And you're going to pass it into\nthis method that's basically"},"675":{"dur":3,"text":"going to proxy a call off to the\nAPI, return you back some JSON"},"678":{"dur":1,"text":"that you can run\nsome assertions on."},"680":{"dur":2,"text":"So you just need to\nget all of your HTML"},"682":{"dur":1,"text":"and pass it straight\ninto this module."},"684":{"dur":2,"text":"And then, you can\nrun some assertions."},"686":{"dur":3,"text":"So these assertions are\nsaying, are there any errors?"},"689":{"dur":1,"text":"Is it a product?"},"691":{"dur":2,"text":"Is the product name correct?"},"693":{"dur":3,"text":"It's now got automation\ntesting of rich snippets, which"},"696":{"dur":2,"text":"is awesome."},"699":{"dur":2,"text":"So we built a little component."},"701":{"dur":3,"text":"We're going to get\nto applications now."},"705":{"dur":2,"text":"So this is a simple\nlist and application."},"707":{"dur":1,"text":"Again, built. It's on GitHub."},"709":{"dur":1,"text":"It's available for\nyou to check out."},"711":{"dur":1,"text":"It's got full automation tests."},"712":{"dur":1,"text":"And you can play around with it."},"714":{"dur":0,"text":"It's pretty ugly."},"715":{"dur":2,"text":"But I just wanted to show\nyou some simple features"},"717":{"dur":2,"text":"that you can do."},"720":{"dur":1,"text":"So this is the template."},"722":{"dur":2,"text":"You can see it's got\na few subcomponents."},"724":{"dur":4,"text":"So we use an [? INA ?] [? jax ?]\nas a wrap around XHR requests."},"728":{"dur":1,"text":"We've got to think of\nproductless header,"},"730":{"dur":2,"text":"so that's just the\nname of the list,"},"732":{"dur":2,"text":"we've got pagination,\nwhich is the controls,"},"735":{"dur":1,"text":"and we've got a\nlist of products."},"737":{"dur":1,"text":"So you can see how we've broken\napart these subcomponents."},"739":{"dur":1,"text":"And each one of\nthese sub components"},"740":{"dur":1,"text":"can have their own\nlevels of test."},"742":{"dur":1,"text":"They can be tested in\nisolation, so you don't have"},"743":{"dur":1,"text":"to test everything together."},"745":{"dur":1,"text":"Just how you expect it to work."},"747":{"dur":2,"text":"Let's look through some\nof the things in here."},"749":{"dur":3,"text":"So we've got auto and\n[? INA ?] [? jax ?]."},"752":{"dur":2,"text":"What this will do is\nit will automatically"},"754":{"dur":1,"text":"make the XHR request for you."},"756":{"dur":2,"text":"And then, if you make a\nchange to the API call,"},"759":{"dur":3,"text":"it will, again,\nautomatically make that call."},"762":{"dur":0,"text":"So we've got url."},"763":{"dur":1,"text":"Again, I would just\nwant to look into this,"},"765":{"dur":0,"text":"because it's going\nto be important"},"766":{"dur":1,"text":"when I build up this structure."},"770":{"dur":1,"text":"Again, the computed\nstyle, and we're"},"771":{"dur":3,"text":"going to pass in products\nper page and page number."},"774":{"dur":4,"text":"The page number here is the key\npart that we're interested in."},"779":{"dur":2,"text":"So just picture this, and\nI'll build it all back up."},"781":{"dur":1,"text":"But just so you know,\nthis page number"},"783":{"dur":1,"text":"here is going to pagination."},"785":{"dur":2,"text":"And it's got to curly\nbrackets, which means"},"787":{"dur":1,"text":"it's got two-way data binding."},"789":{"dur":1,"text":"And that's, again, going\nto be really important when"},"790":{"dur":1,"text":"we build up this application."},"794":{"dur":1,"text":"So let's look at some\nof the components."},"795":{"dur":3,"text":"The header one, all it's\ndoing is generating the title."},"799":{"dur":1,"text":"So I'm not going\nto go into that."},"800":{"dur":1,"text":"But the one below is pagination,\nwhich I've just tried"},"802":{"dur":1,"text":"to highlight for you there."},"803":{"dur":3,"text":"So let's look into\nthat component."},"806":{"dur":1,"text":"So what's it got?"},"808":{"dur":3,"text":"It's got some buttons--\nPrevious, Next."},"811":{"dur":3,"text":"It's got a description to\ntell you what page you're on."},"814":{"dur":2,"text":"And then on the buttons, we've\ngot some on click events."},"817":{"dur":1,"text":"And let's look into those."},"822":{"dur":4,"text":"So we're going to\ncall pagination next."},"827":{"dur":2,"text":"So when we click it, we're\ngoing to set page number,"},"829":{"dur":1,"text":"and we're just going\nto increment it by 1."},"831":{"dur":1,"text":"So that's what we're doing."},"832":{"dur":1,"text":"We're just saying, hey,\nwhen we click that,"},"834":{"dur":3,"text":"update the page number\nby 1, and that's it."},"838":{"dur":1,"text":"So what does that do?"},"840":{"dur":2,"text":"Page numbers got this\nnotify property on."},"842":{"dur":2,"text":"So I know that there was a\ndata flow talk yesterday,"},"844":{"dur":2,"text":"so people might be kind\nof aware of this now."},"847":{"dur":2,"text":"So this notify's just going\nto say, hey I've changed."},"849":{"dur":2,"text":"Alert my parent that\nsomething's happened."},"855":{"dur":1,"text":"So now let's look at the list."},"860":{"dur":4,"text":"The list here is a\ncollection of products,"},"865":{"dur":1,"text":"but it's in a DOM repeat."},"866":{"dur":3,"text":"So what we're going to do is we\nget an array of products back,"},"870":{"dur":2,"text":"and we're going to iterate\nthrough each one of those,"},"872":{"dur":2,"text":"and pass them into our\nsimple product components."},"874":{"dur":3,"text":"So we have that big\nstringified JSON earlier."},"878":{"dur":1,"text":"What we're going to\ndo now is we're just"},"879":{"dur":2,"text":"going to pass this reference\ndirectly into that."},"885":{"dur":1,"text":"And this is called\nthe mediator pattern."},"887":{"dur":2,"text":"And I'm going to try\nand talk it through."},"889":{"dur":1,"text":"It's hard to\nunderstand, so I'm going"},"890":{"dur":1,"text":"to try and build it back up."},"891":{"dur":3,"text":"So in pagination, you hit Next."},"895":{"dur":2,"text":"It increments that page number."},"897":{"dur":1,"text":"That's alerting the\napplication above,"},"899":{"dur":2,"text":"so the applications wrapping\naround these two subcomponents."},"901":{"dur":4,"text":"So pagination tells application,\nhey, the page number's changed."},"906":{"dur":5,"text":"The page number's computed\nURL then automatically updates"},"911":{"dur":4,"text":"the API call, and [? INA ?]\n[? jax ?] on auto goes"},"915":{"dur":0,"text":"and makes the call."},"916":{"dur":2,"text":"So it's gone and made that\ncall, got some more data."},"919":{"dur":1,"text":"It's then pass it down\nto the application."},"921":{"dur":2,"text":"And then the application's\npassed it down to its children."},"923":{"dur":1,"text":"So you can see the\nlist would update."},"929":{"dur":1,"text":"So now we need some\nmore real-world stuff."},"931":{"dur":3,"text":"So we've added some pagination,\nbut our customers want to know,"},"935":{"dur":3,"text":"or our clients will know, hey,\nis anyone using pagination?"},"938":{"dur":1,"text":"Let's add some tracking."},"939":{"dur":2,"text":"So we can do that\nwith behaviors."},"942":{"dur":1,"text":"So what we're going\nto do is we're"},"943":{"dur":1,"text":"going to fire this\nevent pagination,"},"945":{"dur":3,"text":"and pass the page number."},"948":{"dur":1,"text":"Then in our\npagination component,"},"949":{"dur":1,"text":"we're going to\ninherit this behavior."},"951":{"dur":2,"text":"So we're going to add this\nbehavior called product"},"953":{"dur":1,"text":"tracking behavior."},"955":{"dur":1,"text":"So when you create\nbehavior-- I'm"},"956":{"dur":2,"text":"going to show you how\nyou do that here-- it's"},"959":{"dur":2,"text":"just another HTML import,\nand you define it like this."},"962":{"dur":2,"text":"So you're saying, OK, let's\ncreate a new behavior,"},"965":{"dur":1,"text":"add this property."},"966":{"dur":1,"text":"And inside there,\nwe'll have a listener."},"968":{"dur":3,"text":"And the listener is going\nto listen for pagination."},"971":{"dur":3,"text":"And when it gets it, it's going\nto fire track event pagination."},"977":{"dur":1,"text":"And here, there's\njust a simple example"},"979":{"dur":1,"text":"of how you could\nuse request idle"},"980":{"dur":2,"text":"call back to do some\nbeacon and pagination."},"983":{"dur":2,"text":"Paul Lewis has actually got\na great article on this."},"985":{"dur":1,"text":"It's linked in the\nGitHub, and it's here."},"987":{"dur":1,"text":"But it's how you use\nrequest idle call back"},"989":{"dur":1,"text":"now to track the analytics."},"994":{"dur":2,"text":"So using these principles,\nthat's all we had,"},"997":{"dur":2,"text":"these kind of patents, was\nhow we created our new listing"},"1000":{"dur":3,"text":"application, which is here."},"1003":{"dur":1,"text":"So this is currently\nbeing rolled out in beta"},"1005":{"dur":5,"text":"to a couple of few high-end\ncustomers who try out"},"1010":{"dur":1,"text":"specific products for us first."},"1012":{"dur":3,"text":"But if anyone wants to see it,\ncome and talk to me after this,"},"1015":{"dur":1,"text":"and I can show you it working."},"1017":{"dur":5,"text":"So I want to talk about\nspecific parts of this,"},"1023":{"dur":1,"text":"and look at how\nsome of them work,"},"1024":{"dur":2,"text":"and what we build on top of it."},"1027":{"dur":2,"text":"So this is a sample\nof the application."},"1030":{"dur":1,"text":"And I know there's\na lot of stuff,"},"1031":{"dur":1,"text":"so don't worry about\nreading what's there."},"1033":{"dur":1,"text":"But what I wanted\nto show you is it's"},"1035":{"dur":3,"text":"multiple components all broken\ndown on top of this one."},"1038":{"dur":2,"text":"So we have stuff\nfor errors, we have"},"1041":{"dur":3,"text":"stuff for certain customers\nand personalization,"},"1044":{"dur":2,"text":"we have things for load in\nstates, we have a [INAUDIBLE],"},"1047":{"dur":0,"text":"we have a header."},"1048":{"dur":2,"text":"All of these subcomponents\nbuild up this application."},"1051":{"dur":2,"text":"And each one is\ntested in isolation,"},"1053":{"dur":2,"text":"so you don't need to worry\nabout that complexity."},"1055":{"dur":3,"text":"It's all abstracted\naway from you."},"1059":{"dur":3,"text":"So I want to talk about some\nof the more exciting bits"},"1062":{"dur":2,"text":"in this application I\nthink are quite exciting."},"1065":{"dur":1,"text":"So the first thing\nis performance."},"1066":{"dur":3,"text":"So we try and adhere\nto the RAIL guidelines."},"1069":{"dur":1,"text":"And I want to focus\non a couple of things."},"1071":{"dur":1,"text":"I'm going to leave it\nrun, because it's actually"},"1073":{"dur":2,"text":"quite hard to talk when it's\nhappening, and show you,"},"1075":{"dur":1,"text":"and then I'll\nexplain the theory."},"1077":{"dur":1,"text":"It's a short GIF."},"1083":{"dur":1,"text":"So this is skeleton CSS."},"1084":{"dur":3,"text":"This is the loading\napproach that we took."},"1087":{"dur":2,"text":"So when there's no product\ndata, we want to show something."},"1090":{"dur":1,"text":"So we get something\non the screen"},"1091":{"dur":2,"text":"as quick as we can, but we\ndon't know what is going to be,"},"1094":{"dur":2,"text":"so we just scaffold\nout the page."},"1096":{"dur":2,"text":"And in testing, what we did is\nwe put this versus a spinner"},"1099":{"dur":2,"text":"with artificial latency,\nand showed it to customers."},"1101":{"dur":1,"text":"And people thought the\none with the spinner"},"1103":{"dur":1,"text":"was actually slower,\neven though it's"},"1105":{"dur":1,"text":"the same artificial latency."},"1106":{"dur":4,"text":"So it's just to get something\non screen as quick as we can."},"1111":{"dur":3,"text":"So the next one is pagination."},"1114":{"dur":2,"text":"I'll leave you watch, and then\ntry and explain what happens."},"1125":{"dur":1,"text":"So what we do is when\nwe're going forward,"},"1127":{"dur":2,"text":"we need to get product\ndata and load images."},"1130":{"dur":1,"text":"And we put a\nspinner only when it"},"1131":{"dur":4,"text":"takes more than 400 milliseconds\nbased on RAIL's guidelines."},"1136":{"dur":1,"text":"And what it's actually\ndoing as well,"},"1138":{"dur":1,"text":"it's spinner's\nonly there, and it"},"1139":{"dur":2,"text":"cares about the images that\nare in their user's viewport."},"1142":{"dur":2,"text":"So they don't care if the\nbottom image hasn't loaded."},"1144":{"dur":1,"text":"They only care about\nwhat they're looking at."},"1146":{"dur":2,"text":"So this spinner is based on the\npromise of the image loading"},"1149":{"dur":1,"text":"that's inside their viewport."},"1150":{"dur":3,"text":"And when they go back, you can\nsee that it's instantaneously"},"1154":{"dur":2,"text":"And so we don't show the\nspinner or any transition."},"1156":{"dur":1,"text":"It's just keep it going."},"1158":{"dur":3,"text":"Again, this is to adhere\nto the guidelines of RAIL."},"1165":{"dur":4,"text":"Next, I want to talk about\ntelemetry, or is it working?"},"1170":{"dur":3,"text":"If so, how well is it working?"},"1173":{"dur":3,"text":"If you've ever looked into\nthe web components Polyfill,"},"1177":{"dur":1,"text":"you'll see that it\nfires an event called"},"1178":{"dur":3,"text":"Web Components Ready when\nit's bootstrapped itself."},"1182":{"dur":1,"text":"You can actually\nlatch on to that,"},"1183":{"dur":2,"text":"and we do something that's\nquite clever with it"},"1186":{"dur":4,"text":"where we add an event listener\nfor Web Components Ready."},"1190":{"dur":5,"text":"When Web Components Ready\nhappens, we run this try catch."},"1195":{"dur":2,"text":"So we look for the component\nin the listing page,"},"1198":{"dur":1,"text":"and we look for this .is method."},"1200":{"dur":2,"text":"And the .is method, if the\nconstructor's been upgraded,"},"1202":{"dur":1,"text":"will become available."},"1204":{"dur":2,"text":"However, if it's\nnot available, it"},"1207":{"dur":1,"text":"will fail and throw this error."},"1208":{"dur":1,"text":"So what we're doing\nis we're saying,"},"1210":{"dur":1,"text":"how's that component\nbeing upgraded"},"1211":{"dur":2,"text":"to a Polymer component?"},"1213":{"dur":3,"text":"If it hasn't, let's\ncatch the error,"},"1216":{"dur":1,"text":"and then we beacon\nsome data back."},"1218":{"dur":2,"text":"We say, is Polymer defined?"},"1220":{"dur":2,"text":"Has the HTML import for\nthat component successfully"},"1223":{"dur":0,"text":"been imported?"},"1224":{"dur":3,"text":"And then this just allows\nus to like understand"},"1227":{"dur":1,"text":"what's happening in the wild."},"1228":{"dur":0,"text":"Is it working?"},"1229":{"dur":1,"text":"If it's not working,\nhow do we debug it?"},"1231":{"dur":2,"text":"When you move a lot of client,\nyou lose all of the logging"},"1233":{"dur":1,"text":"that you would\nhave got on server,"},"1235":{"dur":1,"text":"so you need to compensate\nfor that somehow."},"1237":{"dur":3,"text":"And this is one of\nthe ways we do it."},"1240":{"dur":4,"text":"Also, we do some API\navailability and performance"},"1244":{"dur":0,"text":"checks."},"1245":{"dur":2,"text":"So this is like,\nOK, did the API fail"},"1248":{"dur":1,"text":"when we tried to get products?"},"1249":{"dur":2,"text":"So you can see there's\nsome errors rates there."},"1252":{"dur":1,"text":"If it did fail, what's\nthe status code?"},"1254":{"dur":2,"text":"What was the reason\nthat that API failed?"},"1256":{"dur":1,"text":"And then we had\nsome API latency?"},"1258":{"dur":2,"text":"So it's like, how long did\nit take to make the API call"},"1260":{"dur":1,"text":"and come back?"},"1261":{"dur":1,"text":"And these are great\nas developers, right?"},"1263":{"dur":1,"text":"We can debug and\nwe can look and we"},"1265":{"dur":2,"text":"can delve deeper into what's\ngoing on with applications."},"1267":{"dur":3,"text":"But they're not great for our\nbusiness customers, our product"},"1271":{"dur":1,"text":"owners, who want to\nknow, how well is this"},"1272":{"dur":1,"text":"performing for our customers?"},"1274":{"dur":2,"text":"So we also have\nsome other metrics."},"1277":{"dur":2,"text":"So this is customer\nperformance metrics,"},"1279":{"dur":1,"text":"where it's more\ntailored about how"},"1280":{"dur":2,"text":"it's working for our customers."},"1283":{"dur":2,"text":"So the first one is\ntime to remove skeleton."},"1285":{"dur":1,"text":"So when you saw\nthe skeleton state,"},"1287":{"dur":2,"text":"and when the products come in,\nthat's how long it's taken."},"1290":{"dur":1,"text":"But not since you\nlanded on the page,"},"1292":{"dur":2,"text":"since the first network\nrequests came to our site,"},"1294":{"dur":3,"text":"it's rendered, painted, and\nthen removed that skeleton."},"1297":{"dur":1,"text":"How long is that taking?"},"1299":{"dur":2,"text":"So we can tell our\nproduct owners, OK, we"},"1301":{"dur":3,"text":"can say it's within like\nunder three seconds, three"},"1305":{"dur":3,"text":"seconds-ish that they will\nsee products from first run"},"1308":{"dur":0,"text":"land on that page."},"1309":{"dur":3,"text":"And then there's time to\nload paginated products."},"1313":{"dur":2,"text":"So this is when\nyou go, right, I've"},"1315":{"dur":2,"text":"clicked Next, I'm\nwaiting for the spinner,"},"1318":{"dur":0,"text":"and that's removed."},"1319":{"dur":1,"text":"And we can have metrics on that."},"1320":{"dur":3,"text":"It's how long it takes them."},"1323":{"dur":1,"text":"So the summary."},"1325":{"dur":1,"text":"I went a little bit fast."},"1326":{"dur":1,"text":"I'm sorry."},"1327":{"dur":1,"text":"Hope that all made sense."},"1328":{"dur":1,"text":"And there was a lot\nin there, but I just"},"1330":{"dur":2,"text":"want to kind of\nsummarize these things."},"1332":{"dur":2,"text":"Invest time into\nreusable, accessible,"},"1335":{"dur":1,"text":"tested, granular components."},"1337":{"dur":3,"text":"What that'll help you do\nis promote code re-use."},"1340":{"dur":2,"text":"Your developers will be\nable to find this code,"},"1342":{"dur":2,"text":"adopt it, and not reinvent\nthe wheel every time"},"1344":{"dur":0,"text":"you create something."},"1345":{"dur":2,"text":"This also helps for design\nand experience consistency,"},"1348":{"dur":3,"text":"so your site works and behaves\nthe same each and every time."},"1352":{"dur":2,"text":"It also allows you to\nabstract complexity"},"1354":{"dur":1,"text":"away from your applications."},"1356":{"dur":2,"text":"So because you've put all\nof this testing and effort"},"1358":{"dur":2,"text":"into these small\nlittle components,"},"1360":{"dur":4,"text":"your applications don't need\nto have as much coverage."},"1365":{"dur":2,"text":"Plug and play components\nstraight into your application,"},"1367":{"dur":2,"text":"so you can spend more time\non customer experience,"},"1370":{"dur":2,"text":"collecting and\nunderstanding customer"},"1372":{"dur":1,"text":"focused metrics, and\ndo the fun stuff."},"1374":{"dur":2,"text":"You don't want to reinvent\nthe wheel every single time."},"1376":{"dur":4,"text":"No one wants to write fetch or\nXHR requests multiple times."},"1380":{"dur":3,"text":"You can use that component\nand plug it straight in."},"1384":{"dur":2,"text":"I thought of a really nice\nway to like summarize this,"},"1386":{"dur":1,"text":"since we're in\nLondon as well, which"},"1388":{"dur":1,"text":"is if you look\nafter the pennies,"},"1389":{"dur":2,"text":"the pounds will look\nafter themselves."},"1392":{"dur":2,"text":"And thanks for listening."},"1394":{"dur":0,"text":"[INAUDIBLE] Robin."},"1395":{"dur":1,"text":"[APPLAUSE]"},"1396":{"dur":3,"text":"[MUSIC PLAYING]"}}