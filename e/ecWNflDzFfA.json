{"0":{"dur":4,"text":">> [MUSIC PLAYING]"},"11":{"dur":1,"text":"DAVID J. MALAN: All right."},"12":{"dur":2,"text":"This is CS50, and this\nis the start of week two."},"15":{"dur":3,"text":"So let us begin today with a bug."},"19":{"dur":1,"text":"A bug, of course, is a\nmistake in a program,"},"20":{"dur":1,"text":"and you'll get very\nfamiliar with this concept"},"22":{"dur":3,"text":"if you've never programmed\nbefore. pset0 and now pset1."},"26":{"dur":3,"text":"But let's consider something\na little simple at first."},"29":{"dur":2,"text":"This program here that I\nthrew together in advance,"},"32":{"dur":5,"text":"and I claim that this should print\n10 stars on the screen using printf,"},"37":{"dur":3,"text":"but it's apparently buggy in some way."},"41":{"dur":4,"text":">> Given that specification that\nit should print 10 stars,"},"45":{"dur":4,"text":"but it doesn't apparently, what\nwould you claim is the bug?"},"50":{"dur":1,"text":"Yeah?"},"52":{"dur":2,"text":"So it's an off by one error,\nand what do you mean by that?"},"60":{"dur":0,"text":"OK."},"69":{"dur":0,"text":"Excellent."},"70":{"dur":3,"text":"So we've specified a\nstart value of zero for i,"},"73":{"dur":4,"text":"and we've specified an n value of 10,\nbut we've used less than or equal to."},"78":{"dur":2,"text":"And the reason that this is two\ncharacters and not just one symbol,"},"81":{"dur":1,"text":"like in a math book,\nis that you don't have"},"82":{"dur":2,"text":"a way of expressing the\none character equivalent."},"84":{"dur":3,"text":">> So that means less than, but\nif you start counting at zero,"},"88":{"dur":3,"text":"but you count all the way\nup through and equal to 10,"},"91":{"dur":2,"text":"you're of course going to\ncount 11 things in total."},"94":{"dur":1,"text":"And so you're going to print 11 stars."},"95":{"dur":2,"text":"So what might be a fix for this?"},"97":{"dur":1,"text":"Yeah?"},"99":{"dur":4,"text":">> So just adjust the less than\nor equal to just be less than,"},"103":{"dur":2,"text":"and there's, I claim, perhaps\nanother solution, too."},"106":{"dur":0,"text":"What might else you do?"},"107":{"dur":1,"text":"Yeah?"},"108":{"dur":5,"text":">> So start equaling it to 1, and\nleave the less than or equal to."},"113":{"dur":2,"text":"And frankly I would claim\nthat, for a typical human,"},"116":{"dur":1,"text":"this is probably more straightforward."},"117":{"dur":2,"text":"Start counting at 1 and\ncount up through 10."},"120":{"dur":1,"text":"Essentially do what you mean."},"121":{"dur":2,"text":">> But the reality is in\nprogramming, as we've seen,"},"124":{"dur":3,"text":"computer scientists and programmers\ngenerally do start counting at zero."},"127":{"dur":1,"text":"And so that's fine once\nyou get used to it."},"129":{"dur":3,"text":"Your condition will generally\nbe something like less than."},"132":{"dur":2,"text":"So simply a logical\nerror that we could now"},"134":{"dur":3,"text":"fix and ultimately recompile\nthis and get just 10."},"137":{"dur":1,"text":">> Well how about this bug here?"},"139":{"dur":4,"text":"Here, again, I claim that I have\na goal of printing 10 stars--"},"144":{"dur":3,"text":"one per line this time, but it doesn't."},"148":{"dur":2,"text":"Before we propose what\nthe fix is, what does this"},"150":{"dur":3,"text":"print visually if I were to compile\nand run this program do you think?"},"154":{"dur":0,"text":"Yeah?"},"158":{"dur":2,"text":"So all the stars on the\nsame line is what I heard,"},"161":{"dur":1,"text":"and then the new line character."},"163":{"dur":0,"text":"So let's try that."},"164":{"dur":4,"text":"So make buggy-1, enter,\nand I see the clang command"},"168":{"dur":1,"text":"that we talked about last time."},"170":{"dur":5,"text":".\/buggy-1, and indeed I see all 10 stars\non the same line even though I claim"},"175":{"dur":3,"text":"in my specification just a comment atop\nthe code that I intended to do one per"},"178":{"dur":0,"text":"line."},"179":{"dur":1,"text":"But this looks right."},"180":{"dur":4,"text":">> Now line 15 it looks like I'm\nprinting a star, and then line 16"},"184":{"dur":2,"text":"it looks like I'm printing\na new line character,"},"186":{"dur":2,"text":"and they're both indented so\nI'm inside of the loop clearly."},"189":{"dur":4,"text":"So shouldn't I be doing star, new\nline, star, new line, star, new line?"},"193":{"dur":0,"text":"Yes?"},"198":{"dur":2,"text":">> Yeah, unlike a language like\nPython, if you're familiar,"},"201":{"dur":2,"text":"indentation doesn't\nmatter to the computer."},"203":{"dur":1,"text":"It only matters to the human."},"205":{"dur":4,"text":"So whereas here I've invented lines\n15 and 16-- that looks beautiful,"},"209":{"dur":1,"text":"but the computer doesn't care."},"211":{"dur":3,"text":"The computer cares about\nactually having curly braces"},"214":{"dur":1,"text":"around these lines of code."},"216":{"dur":3,"text":">> So that it's clear-- just like in\nScratch-- that those two lines of code"},"219":{"dur":0,"text":"should be executed."},"220":{"dur":3,"text":"Like one of those yellow Scratch puzzle\npieces again and again and again."},"224":{"dur":6,"text":">> So now if I re-run this\nprogram-- .\/buggy-2-- Hm."},"230":{"dur":0,"text":"I have an error now."},"231":{"dur":2,"text":"What did I forget to do?"},"234":{"dur":1,"text":"Yeah, so I didn't compile it."},"235":{"dur":1,"text":"So make buggy-2."},"236":{"dur":3,"text":"No such file because I didn't\nactually compile the second version."},"239":{"dur":5,"text":"So now interesting\nundeclared variable-- not 2."},"244":{"dur":0,"text":"We're doing 1."},"245":{"dur":5,"text":"Make buggy-1-- .\/buggy-1-- and now\neach of them is on the same line."},"251":{"dur":2,"text":">> Now there is an exception to\nthis supposed claim of mine"},"253":{"dur":1,"text":"that you need these curly braces."},"255":{"dur":4,"text":"When is it actually OK-- if you've\nnoticed in section or textbooks--"},"260":{"dur":1,"text":"to omit the curly braces?"},"262":{"dur":0,"text":"Yeah?"},"266":{"dur":2,"text":"When there's only one\nline of code that you"},"268":{"dur":3,"text":"want to be associated with the\nloop as in our first example."},"272":{"dur":3,"text":"It is perfectly legitimate\nto omit the curly braces"},"276":{"dur":3,"text":"just as sort of a convenience\nfrom the compiler to you."},"280":{"dur":0,"text":"Yeah?"},"283":{"dur":1,"text":"Would it be considered a style error?"},"285":{"dur":3,"text":"We would promote-- as in CS50\nstyle guide, the URL for which"},"289":{"dur":2,"text":"is in pset1-- that always\nuse the curly braces."},"291":{"dur":1,"text":"Certainly if you're new to programming."},"293":{"dur":3,"text":"The reality is we're not\ngoing to prohibit you"},"296":{"dur":1,"text":"from doing these conveniences."},"298":{"dur":2,"text":"But if you're just getting\ninto the swing of things,"},"300":{"dur":3,"text":"absolutely just always use the curly\nbraces until you get the hang of it."},"304":{"dur":0,"text":">> All right."},"305":{"dur":2,"text":"So that then was a bug."},"307":{"dur":1,"text":"At least in something fairly simple."},"309":{"dur":2,"text":"And yet you might think this\nis fairly rudimentary, right?"},"311":{"dur":2,"text":"This is sort of the first week\nof looking at the language"},"313":{"dur":1,"text":"like, see your bugs therein."},"314":{"dur":2,"text":"But the reality these are\nactually representative"},"317":{"dur":3,"text":"of some pretty frightening problems\nthat can arise in the real world."},"320":{"dur":3,"text":">> So some of you might recall\nif you follow tech news,"},"323":{"dur":2,"text":"or maybe even caught\nwind of this in February"},"325":{"dur":3,"text":"of this past year that Apple had\nmade a bit of a mistake in both iOS,"},"329":{"dur":1,"text":"the operating system on\ntheir phones, and also"},"331":{"dur":2,"text":"Mac OS, the operating system\non their desktops and laptops."},"334":{"dur":2,"text":"And you saw such headlines as this."},"336":{"dur":4,"text":"And thereafter, Apple\npromised to fix this bug,"},"341":{"dur":4,"text":"and very quickly did fix it in iOS,\nbut then ultimately fixed it in Mac OS"},"345":{"dur":0,"text":"as well."},"346":{"dur":3,"text":">> Now none of these headlines alone really\nreveal what the underlying problem was,"},"350":{"dur":5,"text":"but the bug was ultimately reduced to\na bug in SSL, secure sockets layer."},"355":{"dur":1,"text":"And long story short,\nthis is the software"},"357":{"dur":3,"text":"that our browsers and other\nsoftware used to do what?"},"364":{"dur":2,"text":">> If I said that SSL is\ninvolved, whenever you"},"366":{"dur":7,"text":"visit a URL that starts with HTTPS,\nwhat then might SSL be related to?"},"373":{"dur":0,"text":"Encryption."},"374":{"dur":1,"text":"So we'll talk about\nthis in the coming days."},"376":{"dur":2,"text":"Encryption, the art of\nscrambling information."},"378":{"dur":3,"text":">> But long story short, Apple\nsometime ago had made a mistake"},"382":{"dur":3,"text":"in their implementation of SSL, the\nsoftware that ultimately implements"},"385":{"dur":4,"text":"URLs like HTTPS or max\nconnections there too."},"390":{"dur":2,"text":"The result of which is that your\nconnections could potentially"},"392":{"dur":1,"text":"be intercepted."},"393":{"dur":3,"text":"And your connections were\nnot necessarily encrypted"},"397":{"dur":3,"text":"if you had some bad guy in between\nyou and the destination website who"},"400":{"dur":1,"text":"knew how to take advantage of this."},"402":{"dur":2,"text":">> Now Apple ultimately posted\na fix for this finally,"},"405":{"dur":1,"text":"and the description\nof their fix was this."},"406":{"dur":2,"text":"Secure transport failed to validate\nthe authenticity of the connection."},"409":{"dur":3,"text":"The issue was addressed by\nrestoring missing validation steps."},"412":{"dur":4,"text":">> So this is a very hand wavy explanation\nfor simply saying that we screwed up."},"417":{"dur":3,"text":"There is literally one\nline of code that was buggy"},"420":{"dur":4,"text":"in their implementation of SSL, and\nif you go online and search for this"},"425":{"dur":2,"text":"you can actually find\nthe original source code."},"427":{"dur":4,"text":"For instance, this is a screen shot of\njust a portion of a fairly large file,"},"431":{"dur":4,"text":"but this is a function apparently called\nSSL verify sign server key exchange."},"435":{"dur":1,"text":"And it takes a bunch of\narguments and inputs."},"437":{"dur":2,"text":"And we're not going to focus\ntoo much on the minutia there,"},"440":{"dur":4,"text":"but if you focus on the code inside\nof that topmost function-- let's"},"444":{"dur":1,"text":"zoom in on that."},"445":{"dur":2,"text":"You might already suspect\nwhat the error might"},"448":{"dur":3,"text":"be even if you have no idea\nultimately what you're looking at."},"451":{"dur":4,"text":"There's kind of an anomaly\nhere, which is what?"},"455":{"dur":3,"text":">> Yeah, I don't really like\nthe look of two goto fails."},"458":{"dur":3,"text":"Frankly, I don't really know what goto\nfail means, but having two of them"},"462":{"dur":2,"text":"That just kind of rubs me\nintellectually the wrong way,"},"465":{"dur":3,"text":"and indeed if we zoom in on\njust those lines, this is C."},"468":{"dur":3,"text":">> So a lot of Apple's code\nis itself written in C,"},"472":{"dur":3,"text":"and this apparently\nis really equivalent--"},"475":{"dur":3,"text":"not to that pretty indentation\nversion, but if you recognize the fact"},"479":{"dur":3,"text":"that there's no curly braces, what\nApple really wrote was code that looks"},"482":{"dur":0,"text":"like this."},"483":{"dur":3,"text":"So I've zoomed out and I just\nfixed the indentation in the sense"},"487":{"dur":3,"text":"that if there's no curly braces, that\nsecond goto fail that's in yellow"},"490":{"dur":1,"text":"is going to execute no matter what."},"492":{"dur":3,"text":"It's not associated with\nthe if condition above it."},"495":{"dur":4,"text":">> So even again, if you don't quite\nunderstand what this could possibly"},"499":{"dur":3,"text":"be doing, know that each of these\nconditions-- each of these lines"},"503":{"dur":2,"text":"is a very important step\nin the process of checking"},"506":{"dur":2,"text":"if your data is in fact encrypted."},"508":{"dur":3,"text":"So skipping one of these\nsteps, not the best idea."},"511":{"dur":3,"text":">> But because we have this\nsecond goto fail in yellow,"},"514":{"dur":2,"text":"and because once we\nsort of aesthetically"},"516":{"dur":3,"text":"move it to the left where it\nlogically is at the moment, what"},"520":{"dur":2,"text":"does this mean for the line\nof code below that second goto"},"523":{"dur":3,"text":"fail would you think?"},"526":{"dur":2,"text":"It's always going to be skipped."},"528":{"dur":3,"text":"So gotos are generally frowned upon\nfor reasons we won't really go into,"},"532":{"dur":2,"text":"and indeed in CS50 we tend not\nto teach this statement goto,"},"534":{"dur":3,"text":"but you can think of goto\nfail as meaning go jump"},"538":{"dur":1,"text":"to some other part of the code."},"539":{"dur":3,"text":">> In other words jump over\nthis last line altogether,"},"543":{"dur":4,"text":"and so the result of this stupid\nsimple mistake that was just"},"547":{"dur":2,"text":"a result of probably someone\ncopying and pasting one too"},"550":{"dur":3,"text":"many times was that the entire\nsecurity of iOS and Mac OS"},"554":{"dur":4,"text":"was vulnerable to interception\nby bad guys for quite some time."},"558":{"dur":1,"text":"Until Apple finally fixed this."},"559":{"dur":3,"text":">> Now if some of you are actually\nrunning old versions of iOS or Mac OS,"},"563":{"dur":4,"text":"you can go to gotofail.com which\nis a website that someone set up"},"567":{"dur":1,"text":"to essentially determine\nprogrammatically"},"569":{"dur":1,"text":"if your computer is still vulnerable."},"570":{"dur":2,"text":"And frankly, if it is,\nit's probably a good idea"},"573":{"dur":3,"text":"to update your phone or\nyour Mac at this point."},"576":{"dur":3,"text":"But there, just testament to just how\nan appreciation of these lower level"},"580":{"dur":2,"text":"details and fairly\nsimple ideas can really"},"582":{"dur":2,"text":"translate into decisions\nand problems that"},"584":{"dur":2,"text":"affected-- in this case--\nmillions of people."},"587":{"dur":1,"text":">> Now a word on administration."},"589":{"dur":1,"text":"Section will start this coming Sunday."},"590":{"dur":2,"text":"You will receive an email by the\nweekend about section, at which point"},"593":{"dur":1,"text":"the resectioning process\nwill begin if you've"},"595":{"dur":1,"text":"realized you now have\nsome new conflicts."},"596":{"dur":3,"text":"So this happens every year, and we\nwill accommodate in the days to come."},"600":{"dur":2,"text":">> Office hours-- do keep an\neye on this schedule here."},"602":{"dur":2,"text":"Changes a little bit this week,\nparticularly the start time"},"605":{"dur":3,"text":"and the location, so do consult\nthat before heading to office hours"},"608":{"dur":1,"text":"any of the next four nights."},"609":{"dur":3,"text":"And now a word on assessment,\nparticularly as you dive into problem"},"612":{"dur":1,"text":"sets one and beyond."},"614":{"dur":2,"text":">> So per the specification,\nthese are generally"},"617":{"dur":3,"text":"the axes along which\nwe evaluate your work."},"620":{"dur":2,"text":"Scope refers to what\nextent your code implements"},"623":{"dur":2,"text":"the features required\nby our specification."},"625":{"dur":2,"text":"In other words, how much of\na piece set did you bite off."},"628":{"dur":2,"text":"Did you do a third of it,\na half of it, 100% of it."},"630":{"dur":2,"text":"Even if it's not correct,\nhow much did you attempt?"},"633":{"dur":2,"text":"So that captures the level\nof effort and the amount"},"635":{"dur":2,"text":"to which you bit off the\nproblem set's problems."},"638":{"dur":2,"text":">> Correctness-- this one, to\nwhat extent, is your code"},"640":{"dur":2,"text":"consistent with our\nspecifications and free of bugs."},"643":{"dur":1,"text":"So does it work correctly?"},"644":{"dur":3,"text":"If we give it some input, does it\ngive us the output that we expect?"},"648":{"dur":3,"text":"Design-- now this is the first of\nthe particularly qualitative ones,"},"652":{"dur":3,"text":"or the ones that require human judgment."},"656":{"dur":3,"text":"And indeed, this is why we have a staff\nof so many teaching fellows and course"},"659":{"dur":0,"text":"assistants."},"660":{"dur":3,"text":"To what extent is your\ncode written well?"},"663":{"dur":2,"text":">> And again this is a very\nqualitative assessment"},"665":{"dur":3,"text":"that will work with you on\nbi-directionally in the weeks to come."},"669":{"dur":2,"text":"So that when you get not\nonly numeric scores, but also"},"672":{"dur":4,"text":"a written scores, or typed feedback,\nor written feedback in English words."},"676":{"dur":2,"text":"That's what we'll use to drive you\ntoward actually writing better code."},"679":{"dur":3,"text":"And in lecture and section, we'll try\nto point out-- as often as we can--"},"683":{"dur":3,"text":"what makes a program not only\ncorrect and functionally good,"},"686":{"dur":1,"text":"but also well designed."},"688":{"dur":3,"text":"The most efficient it could be, or\neven the most beautiful it can be."},"691":{"dur":1,"text":">> Which leads us to style."},"693":{"dur":3,"text":"Style ultimately is\nan aesthetic judgment."},"696":{"dur":1,"text":"Did you choose good\nnames for your variables?"},"698":{"dur":1,"text":"Have you indented your code properly?"},"700":{"dur":3,"text":"Does it look good, and therefore,\nis it easy for another human being"},"704":{"dur":2,"text":"to read your respective\nof its correctness."},"706":{"dur":3,"text":">> Now generally per the syllabus, we score\nthese things on a five point scale."},"710":{"dur":3,"text":"And let me hammer home the point\nthat a three is indeed good."},"713":{"dur":1,"text":"Very quickly do folks\nstart doing arithmetic."},"715":{"dur":2,"text":"When they get a three out of\nfive on correctness for some pset"},"718":{"dur":3,"text":"and they think damn, I going to 60%\nwhich is essentially a D or an E."},"722":{"dur":1,"text":">> That's not the way we\nthink of these numbers."},"723":{"dur":2,"text":"A three is indeed good, and what we\ngenerally expect at the beginning"},"726":{"dur":2,"text":"of the term is that if you're getting\na bunch of three's-- maybe a couple"},"729":{"dur":2,"text":"of fairs, a couple of fours-- or\na couple twos, a couple of fours--"},"732":{"dur":1,"text":"that's a good place to start."},"733":{"dur":2,"text":"And so long as we see an\nupward trajectory over time,"},"736":{"dur":2,"text":"you're in a particularly good place."},"738":{"dur":2,"text":">> The formula we use to\nweight things is essentially"},"740":{"dur":1,"text":"this per the syllabus,\nwhich just means that we"},"742":{"dur":2,"text":"give more weight to correctness."},"744":{"dur":3,"text":"Because it's very often correctness\nthat takes the most time."},"747":{"dur":0,"text":"Trust me now."},"748":{"dur":2,"text":"You will find-- at least\nin one pset-- that you"},"751":{"dur":5,"text":"spend 90% of your time\nworking on 10% of the problem."},"756":{"dur":2,"text":">> And everything sort of works\nexcept for one or two bugs,"},"759":{"dur":2,"text":"and those are the bugs that\nkeep you up late at night."},"761":{"dur":1,"text":"Those are the ones that\nsort of escape you."},"763":{"dur":2,"text":"But after sleeping on it,\nor attending office hours"},"765":{"dur":3,"text":"or asking questions online, is\nwhen you get to that 100% goal,"},"768":{"dur":1,"text":"and that's why we weight\ncorrectness the most."},"770":{"dur":3,"text":"Design a little less, and\nstyle a little less than that."},"774":{"dur":1,"text":"But keep in mind-- style\nis perhaps the easiest"},"776":{"dur":2,"text":"of these to bite off\nas per the style guide."},"778":{"dur":2,"text":">> And now, a more serious\nnote on academic honesty."},"781":{"dur":3,"text":"CS50 has the unfortunate distinction of\nbeing the largest producer of Ad Board"},"785":{"dur":2,"text":"cases almost every year historically."},"787":{"dur":3,"text":"This is not because students cheat in\nCS50 any more so than any other class,"},"791":{"dur":2,"text":"but because by nature of the work,\nthe fact that it's electronic,"},"793":{"dur":2,"text":"the fact that we look for it, and\nthe fact we are computer scientists,"},"796":{"dur":3,"text":"I can say we are unfortunately\nvery good at detecting it."},"800":{"dur":2,"text":">> So what does this mean in real terms?"},"802":{"dur":2,"text":"So it, per the syllabus,\nthe course's philosophy"},"804":{"dur":3,"text":"really does boil down to be reasonable."},"808":{"dur":3,"text":"There is this line between\ndoing one's work on your own"},"811":{"dur":2,"text":"and getting a little bit of\nreasonable help from a friend,"},"814":{"dur":3,"text":"and outright doing that work for your\nfriend, or sending him or her your code"},"818":{"dur":3,"text":"so that he or she can simply\ntake or borrow it out right."},"821":{"dur":2,"text":"And that crosses the line\nthat we drawn in the class."},"823":{"dur":1,"text":">> See, the syllabus\nultimately for the lines"},"825":{"dur":2,"text":"that we draw as being reasonable\nand unreasonable behavior,"},"828":{"dur":1,"text":"but it really does boil\ndown to the essence"},"830":{"dur":3,"text":"of your work needing to\nbe your own in the end."},"833":{"dur":2,"text":"Now with that said,\nthere is a heuristic."},"836":{"dur":2,"text":"Because as you might imagine--\nfrom office hours and the visuals"},"838":{"dur":2,"text":"and the videos we've\nshown thus far-- CS50"},"841":{"dur":3,"text":"is indeed meant to be as collaborative\nand as cooperative and as social"},"844":{"dur":1,"text":"as possible."},"846":{"dur":2,"text":"As collaborative as it is rigorous."},"848":{"dur":2,"text":">> But with this said, the heuristic,\nas you'll see in the syllabus,"},"851":{"dur":1,"text":"is that when you're having some problem."},"852":{"dur":3,"text":"You have some bug in your code that you\ncan't solve, it is reasonable for you"},"856":{"dur":1,"text":"to show your code to someone else."},"858":{"dur":3,"text":"A friend even in the class, a friend\nsitting next to you at office hours,"},"861":{"dur":1,"text":"or a member of the staff."},"862":{"dur":3,"text":"But they may not show their code to you."},"865":{"dur":1,"text":">> In other words, an\nanswer to your question--"},"867":{"dur":2,"text":"I need help-- is not oh, here's my code."},"869":{"dur":2,"text":"Take a look at this and\ndeduce from it what you will."},"872":{"dur":2,"text":"Now, of course, there's\na way clearly to game"},"874":{"dur":3,"text":"this system whereby I'll show you\nmy code before having a question."},"877":{"dur":2,"text":"You show me my your code\nbefore having a question."},"880":{"dur":5,"text":"But see the syllabus again for the\nfiner details of where this line is."},"885":{"dur":4,"text":">> Just to now paint the picture and\nshare as transparently as possible"},"890":{"dur":2,"text":"where we are at in recent years,\nthis is the number of Ad Board cases"},"893":{"dur":2,"text":"that CS50 has had over\nthe past seven years."},"896":{"dur":2,"text":"With 14 cases this most recent fall."},"898":{"dur":2,"text":"In terms of the students involved,\nit was 20 some odd students"},"901":{"dur":1,"text":"this past fall."},"902":{"dur":3,"text":"There was a peak of 33\nstudents some years ago."},"905":{"dur":3,"text":"Many of whom are unfortunately\nno longer here on campus."},"908":{"dur":4,"text":">> Students involved as a percentage of the\nclass has historically ranged from 0%"},"913":{"dur":4,"text":"to 5.3%, which is only to say\nthis is annually a challenge."},"917":{"dur":3,"text":"And toward that end, what\nwe want to do is convey one"},"920":{"dur":3,"text":"that we dd-- just FYI-- compare at\na fairness to those students who"},"924":{"dur":2,"text":"are following the line accordingly."},"926":{"dur":3,"text":"We do compare all current\nsubmissions against all past missions"},"929":{"dur":1,"text":"from the past many years."},"930":{"dur":2,"text":">> We know too how to Google around\nand find code repositories"},"933":{"dur":2,"text":"online, discussion forums\nonline, job sites online."},"936":{"dur":5,"text":"If a student can find it, we can surely\nfind it as much as we regretfully do."},"941":{"dur":3,"text":"So what you'll see in the syllabus\nthough is this regret clause."},"945":{"dur":2,"text":"I can certainly\nappreciate, and we all has"},"947":{"dur":3,"text":"staff having done the course like\nthis, or this one itself over time,"},"950":{"dur":3,"text":"certainly know what it's like when\nlife gets in the way when you have"},"953":{"dur":2,"text":"some late night deadline--\nnot only in this class,"},"956":{"dur":2,"text":"but another-- when you're\ncompletely exhausted, stressed out,"},"958":{"dur":1,"text":"have an inordinate number\nof other things to do."},"960":{"dur":3,"text":"You will make at some point in\nlife certainly a bad, perhaps late"},"963":{"dur":0,"text":"night decision."},"964":{"dur":1,"text":">> So per the syllabus,\nthere is this clause,"},"966":{"dur":4,"text":"such that if within 72 hours of making\nsome poor decision, you own up to it"},"970":{"dur":2,"text":"and reach out to me and\none of the course's heads"},"972":{"dur":1,"text":"and we will have a conversation."},"974":{"dur":1,"text":"We will handle things\ninternally in hopes"},"976":{"dur":2,"text":"of it becoming more of a\nteaching moment or life lesson,"},"978":{"dur":3,"text":"and not something with\nparticularly drastic ramifications"},"982":{"dur":2,"text":"as you might see on these charts here."},"984":{"dur":1,"text":">> So that's a very serious tone."},"986":{"dur":3,"text":"Let us pause for just a few\nseconds to break the tension."},"989":{"dur":4,"text":">> [MUSIC PLAYING]"},"1037":{"dur":2,"text":">> DAVID J. MALAN: All right,\nso how was that for a segue?"},"1040":{"dur":1,"text":"To today's primary topics."},"1042":{"dur":1,"text":"The first of which is abstraction."},"1043":{"dur":3,"text":"Another of which is going to be the\nrepresentation of data, which frankly"},"1046":{"dur":4,"text":"is a really dry way of saying how can we\ngo about solving problems and thinking"},"1051":{"dur":1,"text":"about solving problems?"},"1053":{"dur":4,"text":"So you've seen in Scratch, and you've\nseen perhaps already in pset1 with C"},"1057":{"dur":2,"text":"that you not only can use\nfunctions, like printf,"},"1059":{"dur":2,"text":"that other people in\nyears past wrote for you."},"1062":{"dur":2,"text":"You can also write your own functions."},"1065":{"dur":3,"text":">> And even though you might not have\ndone this in C, and frankly in pset1"},"1068":{"dur":3,"text":"you don't really need to write your\nown function because the problem--"},"1071":{"dur":2,"text":"while perhaps daunting at\nfirst glance-- you'll see"},"1073":{"dur":3,"text":"can ultimately be solved with\nnot all that many lines of code."},"1077":{"dur":3,"text":"But with that said, in terms\nof writing your own function,"},"1081":{"dur":2,"text":"realize that C does give\nyou this capability."},"1083":{"dur":3,"text":">> I'm going to go in today's source code,\nwhich is available already online,"},"1086":{"dur":3,"text":"and I'm going to go ahead and open\nup a program called function 0.C,"},"1090":{"dur":3,"text":"and in function zero\nwe'll see a few things."},"1094":{"dur":4,"text":"In first lines 18 through\n23 is my main function."},"1099":{"dur":3,"text":"And now that we're beginning to read\ncode that we're not writing on the fly,"},"1102":{"dur":2,"text":"but instead I've written in advance\nor that you in a problem set"},"1105":{"dur":2,"text":"might receive having\nbeen written in advance."},"1107":{"dur":2,"text":"A good way to start\nreading someone else's code"},"1110":{"dur":1,"text":"is look for the main function."},"1111":{"dur":3,"text":"Figure out where that entry\npoint is to running the program,"},"1114":{"dur":2,"text":"and then follow it logically from there."},"1116":{"dur":3,"text":">> So this program apparently prints\nyour name followed by a colon."},"1120":{"dur":2,"text":"We then use GetString\nfrom the CS50 library"},"1122":{"dur":3,"text":"to get a string, or a word or phrase\nfrom the user at the keyboard."},"1126":{"dur":2,"text":"And then there's this\nthing here-- PrintName."},"1128":{"dur":3,"text":">> Now PrintName is not a\nfunction that comes with C."},"1131":{"dur":1,"text":"It's not in standard io.h."},"1132":{"dur":2,"text":"It's not in CS50.h."},"1135":{"dur":2,"text":"It's rather in the same file."},"1137":{"dur":3,"text":"Notice if I scroll down\na bit-- lines 25 to 27--"},"1141":{"dur":4,"text":"it's just a pretty way of commenting\nyour code using the stars and slashes."},"1145":{"dur":1,"text":"This is a multi-line\ncomment, and this is just"},"1147":{"dur":3,"text":"my description in blue of\nwhat this function does."},"1150":{"dur":3,"text":">> Because in lines 28 through 31,\nI've written a super simple function"},"1154":{"dur":1,"text":"whose name is PrintName."},"1156":{"dur":3,"text":"It takes how many\narguments would you say?"},"1159":{"dur":5,"text":"So one argument-- because there's one\nargument listed inside the parentheses."},"1165":{"dur":1,"text":"The type of which is String."},"1167":{"dur":3,"text":"Which is to say PrintName\nis like this black box"},"1170":{"dur":2,"text":"or function that takes\nas input a string."},"1172":{"dur":2,"text":">> And the name of that String\nconveniently will be Name."},"1175":{"dur":2,"text":"Not S, not N, but Name."},"1177":{"dur":3,"text":"So what does PrintName do?"},"1181":{"dur":1,"text":"It's nice simple."},"1182":{"dur":3,"text":"Just as one line of code for\nthe printf, but apparently it"},"1185":{"dur":2,"text":"prints out \"Hello,\" so and so."},"1187":{"dur":2,"text":"Where the so and so\ncomes from the argument."},"1190":{"dur":2,"text":">> Now this is not a huge innovation here."},"1192":{"dur":4,"text":"Really, I've taken a program that could\nhave been written with one line of code"},"1196":{"dur":3,"text":"by putting this up here,\nand changed it to something"},"1200":{"dur":4,"text":"that involves some six or seven or so\nlines of code all the way down here."},"1204":{"dur":3,"text":">> But it's the practicing of a\nprinciple known as abstraction."},"1208":{"dur":4,"text":"Kind of encapsulating inside of a new\nfunction that has a name, and better"},"1212":{"dur":2,"text":"yet that name literally\nsays what it does."},"1214":{"dur":2,"text":"I mean printf-- that's not\nparticularly descriptive."},"1216":{"dur":2,"text":"If I want to create a\npuzzle piece, or if I"},"1218":{"dur":2,"text":"want to create a function\nthat prints someone's name,"},"1221":{"dur":2,"text":"the beauty of doing this\nis that I can actually"},"1223":{"dur":3,"text":"give that function a name\nthat describes what it does."},"1227":{"dur":2,"text":">> Now it takes in an input that\nI've arbitrarily called name,"},"1229":{"dur":2,"text":"but that too is wonderfully descriptive\ninstead of being a little more"},"1232":{"dur":3,"text":"generic like S. And\nvoid, for now, just means"},"1236":{"dur":2,"text":"that this function doesn't\nhand me back anything."},"1238":{"dur":2,"text":"It's not like GetString that\nliterally hands me back a string"},"1241":{"dur":2,"text":"like we did with the pieces of paper\nwith your classmates last week,"},"1243":{"dur":2,"text":"but rather it just has a side effect."},"1245":{"dur":2,"text":"It prints something to the screen."},"1248":{"dur":5,"text":">> So at the end of the day, if I\ndo make function-0, .\/function-0,"},"1253":{"dur":1,"text":"we'll see that it asks for my name."},"1255":{"dur":2,"text":"I type David, and it types out my name."},"1258":{"dur":2,"text":"If I do it again with Rob,\nit's going to say \"Hello, Rob.\""},"1261":{"dur":3,"text":"So a simple idea, but perhaps\nextrapolate from this mentally"},"1264":{"dur":2,"text":"that as your programs get\na little more complicated,"},"1266":{"dur":3,"text":"and you want to write a chunk of\ncode and call that code-- invoke"},"1270":{"dur":2,"text":"that code-- by some descriptive\nname like PrintName,"},"1273":{"dur":2,"text":"C does afford us this capability."},"1275":{"dur":2,"text":">> Here's another simple example."},"1277":{"dur":5,"text":"For instance, if I open up a\nfile from today called return.c,"},"1282":{"dur":1,"text":"notice what I've done here."},"1284":{"dur":2,"text":"Most of this main function is printf."},"1286":{"dur":4,"text":"I first arbitrarily initialize a\nvariable called x to the number 2."},"1290":{"dur":3,"text":"I then print out \"x is now\n%i\" passing in the value of x."},"1294":{"dur":1,"text":"So I'm just saying what it is."},"1295":{"dur":1,"text":">> Now I'm just boldly\nclaiming with printf."},"1297":{"dur":4,"text":"I am cubing that value x, and I'm\ndoing so by calling a function"},"1302":{"dur":3,"text":"called cube passing\nin x as the argument,"},"1305":{"dur":3,"text":"and then saving the output\nin the variable itself, x."},"1309":{"dur":2,"text":"So I'm clobbering the value of x."},"1311":{"dur":2,"text":"I'm overriding the\nvalue of x with whatever"},"1313":{"dur":3,"text":"the result of calling\nthis cube function is."},"1316":{"dur":3,"text":"And then I just print out some\nfluffy stuff here saying what I did."},"1319":{"dur":2,"text":">> So what then is cube?"},"1321":{"dur":1,"text":"Notice what's fundamentally\ndifferent here."},"1323":{"dur":2,"text":"I've given the function\na name as before."},"1325":{"dur":2,"text":"I've specified a name for an argument."},"1328":{"dur":3,"text":"This time it's called n instead of name,\nbut I could call it anything I want."},"1331":{"dur":1,"text":"But this is different."},"1332":{"dur":1,"text":"This thing on the left."},"1334":{"dur":2,"text":"Previously it was what keyword?"},"1336":{"dur":1,"text":"Now it's obviously int."},"1338":{"dur":2,"text":">> So what's perhaps the take away?"},"1340":{"dur":3,"text":"Whereas void signifies sort of\nnothingness, and that was the case."},"1344":{"dur":1,"text":"PrintName returned nothing."},"1345":{"dur":1,"text":"It did something, but\nit didn't hand me back"},"1347":{"dur":2,"text":"something that I could put on the\nleft hand side of an equal sign"},"1350":{"dur":1,"text":"like I've done here on line 22."},"1352":{"dur":4,"text":">> So if I say into on line 30,\nwhat's that probably implying"},"1356":{"dur":1,"text":"about what cube does for me?"},"1358":{"dur":2,"text":"Yeah?"},"1361":{"dur":1,"text":"It returns an integer."},"1362":{"dur":2,"text":"So it hands me back, for\ninstance, a piece of paper"},"1364":{"dur":1,"text":"on which it has written the answer."},"1366":{"dur":3,"text":"2 cubed, or 3 cubed, or 4\ncubed-- whatever I passed in,"},"1370":{"dur":1,"text":"and how did I implement this?"},"1371":{"dur":3,"text":"Well, just n times n times n\nis how I might cube a value."},"1374":{"dur":2,"text":"So again, super simple\nidea, but demonstrative"},"1377":{"dur":2,"text":"now how we can write functions\nthat actually had us back"},"1380":{"dur":2,"text":"values that might be of interest."},"1382":{"dur":3,"text":">> Let's look at one last example\nhere called function one."},"1385":{"dur":2,"text":"In this example, it starts\nto get more compelling."},"1388":{"dur":3,"text":"So in function one, this\nprogram-- notice ultimately"},"1392":{"dur":2,"text":"calls a function called GetPositiveInt."},"1394":{"dur":2,"text":"GetPositiveInt is not a\nfunction in the CS50 library,"},"1397":{"dur":2,"text":"but we decided we\nwould like it to exist."},"1400":{"dur":4,"text":">> So if we scroll down later in the file,\nnotice how I went about implementing"},"1404":{"dur":2,"text":"get positive int, and I\nsay it's more compelling"},"1406":{"dur":2,"text":"because this is a decent\nnumber of lines of code."},"1408":{"dur":1,"text":"It's not just a silly\nlittle toy program."},"1410":{"dur":3,"text":"It's actually got some error checking\nand doing something more useful."},"1413":{"dur":4,"text":">> So if you've not seen the walkthrough\nvideos that we have embedded in pset1,"},"1418":{"dur":3,"text":"know that this is a type of\nloop in C, similar in spirit"},"1422":{"dur":1,"text":"to the kinds of things Scratch can do."},"1424":{"dur":2,"text":"And do says do this."},"1426":{"dur":1,"text":"Print this out."},"1427":{"dur":4,"text":"Then go ahead and get n--\nget an int and store it in n,"},"1431":{"dur":3,"text":"and keep doing this again and again and\nagain so long as n is less than one."},"1435":{"dur":2,"text":">> So n is going to be less than one\nonly if the human's not cooperating."},"1438":{"dur":3,"text":"If he or she is typing\nin 0 or -1 or -50,"},"1441":{"dur":2,"text":"this loop is going to keep\nexecuting again and again."},"1444":{"dur":2,"text":"And ultimately notice, I\nsimply return the value."},"1447":{"dur":2,"text":"So now we have a function\nthat would've been nice"},"1449":{"dur":4,"text":"if CS50 would implement in\nCS50.h and CS50.c for you,"},"1454":{"dur":2,"text":"but here we can now\nimplement this ourselves."},"1456":{"dur":2,"text":">> But two comments on some key details."},"1459":{"dur":5,"text":"One-- why did I declare int\nn, do you think, on line 29"},"1464":{"dur":2,"text":"instead of just doing\nthis here, which is"},"1467":{"dur":1,"text":"more consistent with\nwhat we did last week?"},"1468":{"dur":0,"text":"Yeah?"},"1474":{"dur":0,"text":"A good thought."},"1475":{"dur":1,"text":"So if we were to put it\nhere, it's as though we"},"1477":{"dur":2,"text":"keep declaring it again and again."},"1479":{"dur":2,"text":"That in and of itself is\nnot problematic, per se,"},"1482":{"dur":1,"text":"because we only need\nthe value once and then"},"1483":{"dur":1,"text":"we're going to get a new one anyway."},"1485":{"dur":0,"text":"Yeah?"},"1492":{"dur":0,"text":">> Close."},"1493":{"dur":5,"text":"So because I've declared n on\nline 29 outside of the loop,"},"1499":{"dur":2,"text":"it's accessible throughout\nthis entire function."},"1501":{"dur":4,"text":"Not the other functions because\nn is still inside of these curly"},"1505":{"dur":1,"text":"braces here."},"1506":{"dur":1,"text":"So-- sure."},"1512":{"dur":1,"text":"So this is even more to the point."},"1514":{"dur":4,"text":"If we instead declared\nn right here on line 32,"},"1518":{"dur":3,"text":"it's problematic because guess\nwhere else I need to access it?"},"1522":{"dur":3,"text":"On line 34, and the\nsimple rule of thumb is"},"1525":{"dur":4,"text":"that you can only use a variable\ninside of the most recent curly braces"},"1530":{"dur":1,"text":"in which you declared it."},"1531":{"dur":3,"text":">> Unfortunately, line 34\nis one line too late,"},"1535":{"dur":3,"text":"because I've already closed\nthe curly brace on line 33"},"1538":{"dur":2,"text":"that corresponds to the\ncurly brace on line 30."},"1541":{"dur":2,"text":"And so this is a way of saying\nthat this variable int is scoped,"},"1544":{"dur":2,"text":"so to speak, to only inside\nof those curly braces."},"1546":{"dur":1,"text":"It just doesn't exist outside of them."},"1548":{"dur":2,"text":">> So indeed, if I do this\nwrong, let me save the code"},"1551":{"dur":1,"text":"as it is-- incorrectly written."},"1553":{"dur":4,"text":"Let me go ahead and do make\nfunction-1, and notice-- error."},"1557":{"dur":5,"text":"Use of undeclared identifier n\non line 35, which is right here."},"1563":{"dur":1,"text":"And if we scroll up\nfurther, another one."},"1565":{"dur":3,"text":"Use of undeclared\nidentifier n on line 34."},"1568":{"dur":2,"text":">> So the compiler, Clang,\nis noticing that it just"},"1571":{"dur":2,"text":"doesn't exist even though\nclearly it's there visually."},"1573":{"dur":2,"text":"So a simple fix is declaring it there."},"1576":{"dur":2,"text":">> Now let me scroll to\nthe top of the file."},"1578":{"dur":2,"text":"What jumps out at you as\nbeing a little different"},"1581":{"dur":1,"text":"from the stuff we looked at last week?"},"1583":{"dur":3,"text":"Not only do I have name, not only do\nI have some sharp includes up top,"},"1586":{"dur":2,"text":"I have something I'm\ncalling a prototype."},"1589":{"dur":6,"text":"Now that looks awfully similar to what\nwe just saw a moment ago on line 27."},"1596":{"dur":3,"text":">> So let's infer from a different\nerror message why I've done this."},"1599":{"dur":2,"text":"Let me go ahead and\ndelete these lines there."},"1602":{"dur":2,"text":"And so we know nothing about prototype."},"1604":{"dur":1,"text":"Remake this file."},"1605":{"dur":1,"text":"Make function one."},"1606":{"dur":1,"text":"And now, damn, four errors."},"1608":{"dur":2,"text":"Let's scroll up to the first one."},"1610":{"dur":4,"text":">> Implicit declaration of function\nget positive int is invalid in C99."},"1615":{"dur":2,"text":"C99 just means the 1999\nversion of the language"},"1617":{"dur":1,"text":"C, which is what we're indeed using."},"1619":{"dur":1,"text":"So what does this mean?"},"1621":{"dur":4,"text":"Well C-- and more specifically C\ncompilers-- are pretty dumb programs."},"1625":{"dur":2,"text":"They only know what you've\ntold them, and that's"},"1627":{"dur":1,"text":"actually thematic from last week."},"1628":{"dur":3,"text":">> The problem is that if I go\nabout implementing name up here,"},"1632":{"dur":4,"text":"and I call a function called\nGetPositiveInt here on line 20,"},"1637":{"dur":4,"text":"that function technically doesn't\nexist until the compiler sees line 27."},"1642":{"dur":2,"text":"Unfortunately, the compiler is\ndoing things top, down, left, right,"},"1645":{"dur":4,"text":"so because it has not seen the\nimplementation of GetPositiveInt,"},"1649":{"dur":2,"text":"but it sees you trying\nto use it up here,"},"1652":{"dur":3,"text":"it's just going to bail-- yell at\nyou with an error message-- perhaps"},"1655":{"dur":2,"text":"cryptic, and not actually\ncompile the file."},"1658":{"dur":3,"text":">> So a so-called prototype up\nhere is admittedly redundant."},"1661":{"dur":5,"text":"Literally, I went down here and I copied\nand pasted this, and I put it up here."},"1667":{"dur":3,"text":"Void would be more proper, so we'll\nliterally copy and paste it this time."},"1671":{"dur":1,"text":"I literally copied and pasted it."},"1672":{"dur":1,"text":"Really just as like a bread crumb."},"1674":{"dur":1,"text":">> A little clue to the compiler."},"1676":{"dur":2,"text":"I don't know what this does\nyet, but I'm promising to you"},"1678":{"dur":1,"text":"that it will exist eventually."},"1680":{"dur":3,"text":"And that's why this line-- in\nline 16-- ends with a semicolon."},"1684":{"dur":1,"text":"It is redundant by design."},"1685":{"dur":0,"text":"Yes?"},"1691":{"dur":3,"text":">> If you didn't link your library\nto the-- oh, good question."},"1694":{"dur":2,"text":"Sharp includes header file inclusions."},"1697":{"dur":2,"text":"Need to be-- should almost\nalways be at the very top"},"1700":{"dur":3,"text":"of the file for a similar-- for\nexactly the same reason, yes."},"1703":{"dur":3,"text":"Because in standard\nio.h is literally a line"},"1706":{"dur":4,"text":"like this, but with the word printf, and\nwith its arguments and its return type."},"1710":{"dur":2,"text":"And so by doing sharp include up\nhere, what you're literally doing"},"1713":{"dur":3,"text":"is copying and pasting the contents\nof someone else wrote up top."},"1716":{"dur":3,"text":"Thereby cluing your code in to the\nfact that those functions do exist."},"1719":{"dur":0,"text":"Yeah?"},"1727":{"dur":0,"text":">> Absolutely."},"1728":{"dur":3,"text":"So a very clever and correct\nsolution would be, you know what?"},"1731":{"dur":2,"text":"I don't know what a\nprototype is, but I know"},"1733":{"dur":2,"text":"if I understand that C is just\ndumb and rethinks top to bottom."},"1736":{"dur":1,"text":"Well let's give it what it wants."},"1737":{"dur":3,"text":"Let's cut that code, paste it up\ntop, and now push main down below."},"1741":{"dur":1,"text":"This too would solve the problem."},"1743":{"dur":3,"text":">> But you could very easily come up with\na scenario in which A need to call B,"},"1747":{"dur":2,"text":"and maybe B calls back to A. This\nis something called recursion,"},"1750":{"dur":1,"text":"and we'll come back to that."},"1751":{"dur":2,"text":"And it may or may not be a good\nthing, but you can definitely"},"1753":{"dur":1,"text":"break this solution."},"1755":{"dur":2,"text":">> And moreover, I would\nclaim stylistically,"},"1757":{"dur":3,"text":"especially when your programs\nbecome this long and this long,"},"1760":{"dur":2,"text":"it's just super convenient\nto put main at the top"},"1763":{"dur":2,"text":"because it's the thing most\nprogrammers are going to care about."},"1765":{"dur":2,"text":"And so it's a little cleaner,\narguably, to do it the way"},"1768":{"dur":2,"text":"I originally did it\nwith a prototype even"},"1770":{"dur":3,"text":"though it looks a little\nredundant at first glance."},"1773":{"dur":0,"text":"Yeah?"},"1776":{"dur":1,"text":"Sorry, can you say it louder?"},"1785":{"dur":3,"text":">> If you switch the locations of the\nimplementation and the prototype?"},"1789":{"dur":1,"text":"So that's a good question."},"1791":{"dur":2,"text":"If you re-declare this down\nhere, let's see what happens."},"1793":{"dur":1,"text":"So if I put this down\nhere, you're saying."},"1797":{"dur":0,"text":"Oh, sorry."},"1798":{"dur":0,"text":"Louder?"},"1802":{"dur":2,"text":"Even louder."},"1804":{"dur":1,"text":"Would it invalidate the function?"},"1805":{"dur":3,"text":"You know, after all these years, I\nhave never put a prototype afterwards."},"1808":{"dur":4,"text":"So let's do make function-1\nafter doing that."},"1813":{"dur":1,"text":">> [MUTTERING]"},"1815":{"dur":1,"text":"DAVID J. MALAN: Oh, wait."},"1816":{"dur":1,"text":"We still have to put everything up top."},"1817":{"dur":3,"text":"So let's do this up here, if I'm\nunderstanding your question correctly."},"1821":{"dur":3,"text":"I'm putting everything, including\nthe prototype above main,"},"1824":{"dur":3,"text":"but I'm putting the prototype\nbelow the implementation."},"1828":{"dur":5,"text":">> So if I make one, I'm getting\nback an error-- unused variable n."},"1837":{"dur":0,"text":"Thank you."},"1838":{"dur":1,"text":"Let's see, we get rid of this."},"1839":{"dur":1,"text":"That's a different bug,\nso let's ignore that."},"1841":{"dur":2,"text":"Let's really quickly remake this."},"1843":{"dur":4,"text":">> OK, so data argument not\nused by format String"},"1848":{"dur":4,"text":"n-- oh, that's because\nI changed to these here."},"1852":{"dur":3,"text":"All right, we know what the answer\nis going to-- all right, here we go."},"1855":{"dur":4,"text":"Ah, thanks for the positive."},"1860":{"dur":2,"text":"All right, I will fix this code\nafter-- ignore this particular bug"},"1863":{"dur":4,"text":"since this was-- it works is the answer."},"1868":{"dur":3,"text":">> So it doesn't overwrite\nwhat you've just done."},"1871":{"dur":3,"text":"I suspect the compiler\nis written in such a way"},"1874":{"dur":3,"text":"that it is ignoring your prototype\nbecause the body, so to speak,"},"1878":{"dur":2,"text":"of the function has already\nbeen implemented higher up."},"1880":{"dur":2,"text":"I would have to actually consult\nthe manual of the compiler"},"1883":{"dur":2,"text":"to understand if there's any other\nimplication, but at first glance"},"1886":{"dur":3,"text":"just by trying and experimenting,\nthere seems to be no impact."},"1889":{"dur":1,"text":"Good question."},"1890":{"dur":2,"text":">> So let's forge ahead now, moving\naway from side effects which"},"1893":{"dur":3,"text":"are functions that do something like\nvisually on the screen with printf,"},"1896":{"dur":1,"text":"but don't return a value."},"1898":{"dur":3,"text":"And functions that have return\nvalues like we just saw a few of."},"1901":{"dur":3,"text":"We already saw this notion of scope,\nand we'll see this again and again."},"1905":{"dur":1,"text":"But for now, again,\nuse the rule of thumb"},"1907":{"dur":4,"text":"that a variable can only be used\ninside of the most recently opened"},"1911":{"dur":2,"text":"and closed curly braces as we\nsaw in that particular example."},"1914":{"dur":2,"text":">> And as you pointed out,\nthere is an ability--"},"1916":{"dur":3,"text":"you could solve some of these problems\nby putting a variable globally"},"1920":{"dur":1,"text":"at the very top of a file."},"1921":{"dur":2,"text":"But in almost all cases\nwe would frown upon that,"},"1923":{"dur":2,"text":"and indeed not even go\ninto that solution for now."},"1926":{"dur":3,"text":"So for now, the takeaway is that\nvariables have this notion of scope."},"1929":{"dur":3,"text":">> But now let's look at another\ndry way of actually looking"},"1933":{"dur":2,"text":"at some pretty interesting\nimplementation details."},"1935":{"dur":2,"text":"How we might represent information."},"1937":{"dur":2,"text":"And we already looked at this\nin the first week of the class."},"1940":{"dur":2,"text":"Looking at binaries, and\nreminding ourselves of decimal."},"1943":{"dur":4,"text":">> But recall from last week that C has\ndifferent data types and bunches more,"},"1948":{"dur":2,"text":"but the most useful ones\nfor now might be these."},"1950":{"dur":5,"text":"A char, or character, which happens\nto be one byte, or eight bits total."},"1956":{"dur":4,"text":"And that's to say that the size\nof a char is just one byte."},"1960":{"dur":5,"text":"A byte is eight bits, so this means that\nwe can represent how many characters."},"1965":{"dur":1,"text":"How many letters or\nsymbols on the keyboard"},"1967":{"dur":1,"text":"if we have one byte or eight bits."},"1969":{"dur":2,"text":"Think back to week zero."},"1971":{"dur":1,"text":"If you have eight bits,\nhow many total values"},"1973":{"dur":2,"text":"can you represent with\npatterns of zeros and ones?"},"1978":{"dur":2,"text":"One-- more than that."},"1980":{"dur":3,"text":"So 256 total if you\nstart counting from zero."},"1983":{"dur":3,"text":"So if you have eight bits-- so if we\nhad our binary bulbs up here again,"},"1987":{"dur":5,"text":"we could turn those light bulbs on\nand off in any of 256 unique patterns."},"1992":{"dur":1,"text":">> Now this is a bit problematic."},"1993":{"dur":3,"text":"Not so much for English and\nromance languages, but certainly"},"1996":{"dur":2,"text":"when you introduce, for\ninstance, Asian languages, which"},"1999":{"dur":3,"text":"have far more symbols than like\n26 letters of the alphabet."},"2002":{"dur":1,"text":"We actually might need\nmore than one byte."},"2004":{"dur":3,"text":"And thankfully in\nrecent years has society"},"2008":{"dur":2,"text":"adopted other standards that use\nmore than one byte per charge."},"2011":{"dur":3,"text":">> But for now in C, the default\nis just one byte or eight bits."},"2014":{"dur":3,"text":"An integer, meanwhile, is four\nbytes, otherwise known as 32 bits."},"2018":{"dur":3,"text":"Which means what's the largest possible\nnumber we can represent with an int"},"2021":{"dur":0,"text":"apparently?"},"2024":{"dur":0,"text":"With a billion."},"2025":{"dur":1,"text":"So it's four billion give or take."},"2026":{"dur":3,"text":"2 to the 32th power, if we\nassume no negative numbers"},"2029":{"dur":2,"text":"and just use all positive\nnumbers, it's four billion"},"2032":{"dur":1,"text":"give or take possibilities."},"2033":{"dur":4,"text":"A float, meanwhile, is a different type\nof data type in C. It's still a number,"},"2037":{"dur":1,"text":"but it's a real number."},"2038":{"dur":1,"text":"Something with a decimal point."},"2040":{"dur":2,"text":"And it turns out that\nC also uses four bytes"},"2043":{"dur":2,"text":"to represent floating point values."},"2045":{"dur":4,"text":">> Unfortunately how many floating\npoint values are there in the world?"},"2049":{"dur":2,"text":"How many real numbers are there?"},"2051":{"dur":1,"text":"There's an infinite\nnumber, and for that matter"},"2053":{"dur":1,"text":"there's an infinite number of integers."},"2055":{"dur":2,"text":"So we're already kind of\ndigging ourselves a hole here."},"2058":{"dur":3,"text":"Whereby apparently in computers-- at\nleast programs written in C on them--"},"2061":{"dur":2,"text":"can only count as high as\nfour billion give or take,"},"2064":{"dur":2,"text":"and floating point values\ncan only apparently"},"2066":{"dur":2,"text":"have some finite amount of precision."},"2068":{"dur":2,"text":"Only so many digits after\ntheir decimal point."},"2070":{"dur":2,"text":">> Because, of course, if\nyou only have 32 bits,"},"2072":{"dur":3,"text":"I don't know how we're going to go about\nrepresenting real numbers-- probably"},"2076":{"dur":1,"text":"with different types of patterns."},"2077":{"dur":2,"text":"But there's surely a finite\nnumber of such patterns,"},"2080":{"dur":1,"text":"so here, too, this is problematic."},"2081":{"dur":1,"text":">> Now we can avoid the problem slightly."},"2083":{"dur":2,"text":"If you don't use a float,\nyou could use a double"},"2085":{"dur":4,"text":"in C, which gives you eight bytes, which\nis way more possible patterns of zeros"},"2090":{"dur":4,"text":"But it's still finite, which is going\nto be problematic if you write software"},"2095":{"dur":2,"text":"for graphics or for fancy\nmathematical formulas."},"2097":{"dur":2,"text":"So you might actually want\nto count up bigger than that."},"2100":{"dur":5,"text":"A long long-- stupidly named--\nis also eight bytes, or 64 bits,"},"2105":{"dur":4,"text":"and this is twice as long as an int,\nand it's for a long integer value."},"2110":{"dur":5,"text":">> Fun fact-- if an int is four bytes,\nhow long is a long in C typically?"},"2118":{"dur":3,"text":"Also four bytes, but a\nlong long is eight bytes,"},"2121":{"dur":1,"text":"and this is for historical reasons."},"2123":{"dur":3,"text":">> But the takeaway now\nis just that data has"},"2126":{"dur":3,"text":"to be represented in a computer-- that's\na physical device with electricity,"},"2129":{"dur":2,"text":"it's generally driving\nthose zeros and ones--"},"2132":{"dur":2,"text":"with finite amounts of precision."},"2134":{"dur":1,"text":"So what's the problem then?"},"2135":{"dur":1,"text":">> Well there's a problem\nof integer overflow."},"2137":{"dur":2,"text":"Not just in C, but in\ncomputers in general."},"2139":{"dur":2,"text":"For instance, if this\nis a byte worth a bit--"},"2142":{"dur":2,"text":"so if this is eight bit-- all\nof which are the number one."},"2145":{"dur":2,"text":"What number is this\nrepresenting if we assume"},"2147":{"dur":3,"text":"it's all positive values in binary?"},"2150":{"dur":3,"text":">> 255, and it's not 256, because\nzero is the lowest number."},"2154":{"dur":2,"text":"So 255 is the highest\none, but the problem"},"2156":{"dur":3,"text":"is suppose that I wanted to\nincrement this variable that"},"2160":{"dur":3,"text":"is using eight bits total\nif I want to increment it."},"2164":{"dur":3,"text":">> Well as soon as I add a\none to all of these ones,"},"2167":{"dur":3,"text":"you can perhaps imagine visually-- just\nlike carrying the one using decimals--"},"2170":{"dur":1,"text":"something's going to flow to the left."},"2172":{"dur":3,"text":"And indeed, if I add the number\none to this, what happens in binary"},"2175":{"dur":2,"text":"is that it overflows back to zero."},"2177":{"dur":4,"text":">> So if you only use-- not an int,\nbut a single byte to count integers"},"2181":{"dur":5,"text":"in a program, by default-- as soon as\nyou get to 250, 251, 252, 253, 254,"},"2187":{"dur":5,"text":"255-- 0 comes after 255,\nwhich is probably not what"},"2192":{"dur":2,"text":"a user is going to expect."},"2194":{"dur":4,"text":">> Now meanwhile in floating point world,\nyou also have a similar problem."},"2199":{"dur":3,"text":"Not so much with the largest number--\nalthough that's still an issue."},"2202":{"dur":2,"text":"But with the amount of precision\nthat you can represent."},"2205":{"dur":4,"text":"So let's take a look at this example\nhere also from today's source code--"},"2209":{"dur":2,"text":"float-0.c."},"2212":{"dur":2,"text":">> And notice it's a super\nsimple program that"},"2214":{"dur":2,"text":"should apparently print out what value?"},"2220":{"dur":3,"text":"What do you wager this is going to print\neven though there's a bit of new syntax"},"2224":{"dur":1,"text":"here?"},"2225":{"dur":1,"text":"So hopefully 0.1."},"2226":{"dur":3,"text":"So the equivalent of one-tenth\nbecause I'm doing 1 divided by 10."},"2230":{"dur":2,"text":"I'm storing the answer\nin a variable called f."},"2232":{"dur":3,"text":"That variable is of type float, which\nis a keyword I just proposed existed."},"2235":{"dur":3,"text":">> We've not seen this before, but\nthis is kind of a neat way in printf"},"2238":{"dur":3,"text":"to specify how many digits you\nwant to see after a decimal point."},"2242":{"dur":2,"text":"So this notation just means\nthat here's a placeholder."},"2245":{"dur":2,"text":"It's for a floating point\nvalue, and oh, by the way,"},"2247":{"dur":3,"text":"show it with the decimal point with\none number after the decimal point."},"2251":{"dur":1,"text":"So that's the number\nof significant digits,"},"2253":{"dur":1,"text":"so to speak, that you might want."},"2254":{"dur":5,"text":">> So let me go ahead and do\nmake float-0, .\/float-0,"},"2260":{"dur":6,"text":"and apparently 1 divided by 10 is 0.0."},"2266":{"dur":1,"text":"Now why is this?"},"2267":{"dur":3,"text":">> Well again, the computer is taking\nme literally, and I have written 1"},"2271":{"dur":5,"text":"and I written 10, and take a guess what\nis the assumed data type for those two"},"2276":{"dur":1,"text":"values?"},"2278":{"dur":2,"text":"An int, it's technically\nsomething a little different."},"2280":{"dur":3,"text":"It's typically a long, but it's\nultimately an integral value."},"2284":{"dur":1,"text":"Not a floating point value."},"2286":{"dur":3,"text":">> Which is to say that if this\nis an int and this is an int,"},"2289":{"dur":2,"text":"the problem is that the computer\ndoesn't have the ability"},"2291":{"dur":1,"text":"to even store that decimal point."},"2293":{"dur":2,"text":"So when you do 1 divided\nby 10 using integers"},"2296":{"dur":4,"text":"for both the numerator and the\ndenominator, the answer should be 0.1."},"2300":{"dur":3,"text":"But the computer-- because\nthose are integers--"},"2304":{"dur":2,"text":"doesn't know what to do with the 0.1."},"2307":{"dur":2,"text":">> So what is it clearly doing?"},"2310":{"dur":3,"text":"It's just throwing it away,\nand what I'm seeing ultimately"},"2313":{"dur":5,"text":"is 0.0 only because I insisted that\nprintf show me one decimal point."},"2318":{"dur":2,"text":"But the problem is that if you\ndivide an integer by an integer,"},"2321":{"dur":2,"text":"you will get-- by definition\nof C-- an integer."},"2324":{"dur":2,"text":"And it's not going to do\nsomething nice and conveniently"},"2326":{"dur":2,"text":"like round it up to the\nnearest one up or down."},"2329":{"dur":2,"text":"It's going to truncate\neverything after the decimal."},"2331":{"dur":2,"text":">> So just intuitively,\nwhat's probably a fix?"},"2334":{"dur":1,"text":"What's the simplest fix here?"},"2335":{"dur":0,"text":"Yeah?"},"2340":{"dur":0,"text":"Exactly."},"2341":{"dur":3,"text":"Why don't we just treat these as\nfloating point values effectively"},"2344":{"dur":1,"text":"turning them into floats or doubles."},"2345":{"dur":4,"text":"And now if I do make floats-0,\nor if I compile floats-1,"},"2350":{"dur":2,"text":"which is identical to\nwhat was just proposed."},"2352":{"dur":3,"text":"And now I do floats-0, now I get my 0.1."},"2356":{"dur":0,"text":">> Now this is amazing."},"2357":{"dur":2,"text":"But now I'm going to do\nsomething a little different."},"2359":{"dur":2,"text":"I'm curious to see what's really\ngoing on underneath the hood,"},"2362":{"dur":3,"text":"and I'm going to print this\nout to 28 decimal places."},"2366":{"dur":3,"text":"I want to really see\n0.1000-- an infinite--"},"2369":{"dur":2,"text":"[INAUDIBLE] 27 zeros after that 0.1."},"2372":{"dur":2,"text":">> Well let's see if that's\nwhat I indeed get."},"2374":{"dur":4,"text":"Make floats-0 same file."},"2379":{"dur":1,"text":".\/floats-0."},"2381":{"dur":3,"text":"Let's zoom in on the dramatic answer."},"2384":{"dur":5,"text":"All this time, you've been thinking\n1 divided by 10 is 10%, or 0.1."},"2389":{"dur":0,"text":"It's not."},"2390":{"dur":2,"text":"At least so far as the\ncomputer's concerned."},"2393":{"dur":3,"text":">> Now why-- OK, that's complete\nlie 1 divided by 10 is 0.1."},"2397":{"dur":2,"text":"But why-- that is not\nthe takeaway today."},"2399":{"dur":4,"text":"So why does the computer think,\nunlike all of us in the room,"},"2404":{"dur":2,"text":"that 1 divided by 10 is\nactually that crazy value?"},"2406":{"dur":3,"text":"What's the computer doing apparently?"},"2410":{"dur":1,"text":"What's that?"},"2412":{"dur":1,"text":">> It's not overflow, per se."},"2413":{"dur":2,"text":"Overflow is typically when\nyou wrap around a value."},"2415":{"dur":3,"text":"It's this issue of imprecision\nin a floating point value"},"2418":{"dur":3,"text":"where you only have 32\nor maybe even 64 bit."},"2422":{"dur":3,"text":"But if there's an infinite\nnumber of real numbers--"},"2425":{"dur":2,"text":"numbers with decimal points\nand numbers thereafter-- surely"},"2427":{"dur":1,"text":"you can't represent all of them."},"2429":{"dur":3,"text":"So the computer has given\nus the closest match"},"2432":{"dur":4,"text":"to the value it can represent using that\nmany bits to the value I actually want,"},"2437":{"dur":1,"text":"which is 0.1."},"2438":{"dur":1,"text":">> Unfortunately, if you\nstart doing math, or you"},"2440":{"dur":3,"text":"start involving these kinds of floating\npoint values in important programs--"},"2444":{"dur":2,"text":"financial software,\nmilitary software-- anything"},"2446":{"dur":2,"text":"where perception is\nprobably pretty important."},"2449":{"dur":2,"text":"And you start adding\nnumbers like this, and start"},"2451":{"dur":2,"text":"running that software\nwith really large inputs"},"2454":{"dur":2,"text":"or for lots of hours or lots\nof days or lots of years,"},"2456":{"dur":4,"text":"these tiny little mistakes\nsurely can add up over time."},"2461":{"dur":3,"text":">> Now as an aside, if you've ever\nseen Superman 3 or Office Space"},"2464":{"dur":1,"text":"and you might recall\nhow those guys stole"},"2465":{"dur":2,"text":"a lot of money from their computer\nby using floating point values"},"2468":{"dur":2,"text":"and adding up the little\nremainders, hopefully that movie"},"2471":{"dur":1,"text":"now makes more sense."},"2472":{"dur":2,"text":"This is what they were\nalluding to in that movie."},"2474":{"dur":1,"text":"The fact that most\ncompanies wouldn't look"},"2476":{"dur":1,"text":"after a certain number\nof decimal places,"},"2478":{"dur":1,"text":"but those are fractions of cents."},"2480":{"dur":2,"text":"So you start adding them up,\nyou start to make a lot of money"},"2482":{"dur":0,"text":"in your bank account."},"2483":{"dur":1,"text":"So that's Office Space explained."},"2485":{"dur":3,"text":">> Now unfortunately beyond\nOffice Space, there"},"2488":{"dur":3,"text":"are some legitimately troubling\nand significant impacts"},"2491":{"dur":1,"text":"of these kinds of\nunderlying design decisions,"},"2493":{"dur":2,"text":"and indeed one of the reasons\nwe use C in the course"},"2495":{"dur":3,"text":"is so that you really have this ground\nup understanding of how computers work,"},"2499":{"dur":2,"text":"how software works, and don't\ntake anything for granted."},"2502":{"dur":3,"text":">> And indeed unfortunately, even with\nthat fundamental understanding,"},"2505":{"dur":1,"text":"we humans make mistakes."},"2507":{"dur":3,"text":"And what I thought I'd share is\nthis eight minute video here taken"},"2511":{"dur":5,"text":"from a Modern Marvels episode, which is\nan educational show on how things work"},"2516":{"dur":3,"text":"that paints two pictures\nof when an improper use"},"2520":{"dur":2,"text":"and understanding of\nfloating point values"},"2522":{"dur":3,"text":"led to some significant\nunfortunate results."},"2525":{"dur":0,"text":"Let's take a look."},"2526":{"dur":0,"text":"[VIDEO PLAYBACK]"},"2527":{"dur":4,"text":"-We now return to \"Engineering\nDisasters\" on Modern Marvels."},"2531":{"dur":1,"text":"Computers."},"2532":{"dur":2,"text":"We've all come to accept the\noften frustrating problems that"},"2535":{"dur":5,"text":"got with them-- bugs, viruses, and\nsoftware glitches-- for small prices"},"2540":{"dur":2,"text":"to pay for the convenience."},"2543":{"dur":4,"text":"But in high tech and high speed\nmilitary and space program applications,"},"2547":{"dur":5,"text":"the smallest problem can\nbe magnified into disaster."},"2552":{"dur":6,"text":">> On June 4, 1996, scientists prepared\nto launch an unmanned Ariane 5 rocket."},"2558":{"dur":2,"text":"It was carrying scientific\nsatellites designed"},"2561":{"dur":3,"text":"to establish precisely how the\nEarth's magnetic field interacts"},"2564":{"dur":2,"text":"with solar winds."},"2567":{"dur":3,"text":"The rocket was built for\nthe European Space Agency,"},"2570":{"dur":3,"text":"and lifted off from its facility\non the coast of French Guiana."},"2574":{"dur":3,"text":">> -At about 37 seconds into\nthe flight, they first"},"2577":{"dur":1,"text":"noticed something was going wrong."},"2579":{"dur":3,"text":"That the nozzles were swiveling\nin a way they really shouldn't."},"2582":{"dur":4,"text":"Around 40 seconds into the flight,\nclearly the vehicle was in trouble,"},"2586":{"dur":2,"text":"and that's when they made\nthe decision to destroy it."},"2588":{"dur":3,"text":"The range safety officer, with\ntremendous guts, pressed the button"},"2592":{"dur":5,"text":"and blew up the rocket before it could\nbecome a hazard to public safety."},"2598":{"dur":2,"text":">> -This was the maiden\nvoyage of the Ariane 5,"},"2601":{"dur":2,"text":"and its destruction took\nplace because of the flaw"},"2603":{"dur":2,"text":"embedded in the rocket's software."},"2605":{"dur":1,"text":"-The problem on the\nAriane was that there"},"2607":{"dur":2,"text":"was a number that required\n64 bits to express,"},"2610":{"dur":3,"text":"and they wanted to convert\nit to a 16-bit number."},"2613":{"dur":3,"text":"They assumed that the number\nwas never going to be very big."},"2616":{"dur":4,"text":"That most of those digits in\nthe 64-bit number were zeros."},"2620":{"dur":1,"text":"They were wrong."},"2622":{"dur":2,"text":">> -The inability of one\nsoftware program to accept"},"2625":{"dur":4,"text":"the kind of number generated by\nanother was at the root of the failure."},"2629":{"dur":4,"text":"Software development had become a\nvery costly part of new technology."},"2634":{"dur":2,"text":"The Ariane 4 rocket had\nbeen very successful."},"2637":{"dur":4,"text":"So much of the software created for\nit was also used in the Ariane 5."},"2641":{"dur":3,"text":">> -The basic problem\nwas that the Ariane 5."},"2644":{"dur":6,"text":"Was faster-- accelerated faster, and\nthe software hadn't accounted for that."},"2651":{"dur":3,"text":">> -The destruction of the rocket\nwas a huge financial disaster."},"2654":{"dur":3,"text":"All due to a minute software error."},"2658":{"dur":2,"text":"But this wasn't the first\ntime data conversion problems"},"2661":{"dur":3,"text":"had plagued modern rocket technology."},"2664":{"dur":3,"text":">> -In 1991 with the start\nof the first Gulf War,"},"2668":{"dur":2,"text":"the Patriot missile\nexperienced a similar kind"},"2670":{"dur":1,"text":"of a number conversion problem."},"2672":{"dur":4,"text":"And as a result 28 people-- 28\nAmerican soldiers-- were killed,"},"2676":{"dur":2,"text":"and about a hundred others wounded."},"2679":{"dur":3,"text":"When the Patriot, which was supposed\nto protect against incoming Scuds,"},"2682":{"dur":2,"text":"failed to fire a missile."},"2685":{"dur":5,"text":">> -When Iraq invaded Kuwait, and America\nlaunched Desert Storm in early 1991,"},"2691":{"dur":4,"text":"Patriot missile batteries were deployed\nto protect Saudi Arabia and Israel"},"2695":{"dur":3,"text":"from Iraqi Scud missile attacks."},"2699":{"dur":3,"text":"The Patriot is a US medium-range\nsurface-to-air system"},"2703":{"dur":3,"text":"manufactured by the Raytheon company."},"2706":{"dur":2,"text":">> -The size of the Patriot\ninterceptor itself--"},"2709":{"dur":5,"text":"it's about roughly 20 feet long,\nand it weighs about 2,000 pounds."},"2714":{"dur":4,"text":"And it carries a warhead of about,\nI think it's roughly 150 pounds."},"2719":{"dur":4,"text":"And the warhead itself is\na high explosive, which"},"2723":{"dur":2,"text":"has fragments around him."},"2726":{"dur":4,"text":"So the casing of the warhead is\ndesigned to act like a buckshot."},"2731":{"dur":2,"text":">> -The missiles are carried\nfour per container,"},"2734":{"dur":3,"text":"and are transported by a semi trailer."},"2737":{"dur":7,"text":">> -The Patriot anti-missile system\ngoes back at least 20 years now."},"2744":{"dur":3,"text":"It was originally designed\nas an air defense missile"},"2748":{"dur":2,"text":"to shoot down enemy airplanes."},"2750":{"dur":3,"text":"In the first Gulf War\nwhen that war came on,"},"2754":{"dur":5,"text":"the Army wanted to use it to\nshoot down Scuds, not airplanes."},"2759":{"dur":3,"text":"The Iraqi Air Force was\nnot so much of a problem,"},"2763":{"dur":3,"text":"but the Army was worried about Scuds."},"2766":{"dur":3,"text":"And so they tried to\nupgrade the Patriot."},"2770":{"dur":2,"text":">> -Intercepting an enemy\nmissile traveling at Mach 5"},"2772":{"dur":2,"text":"was going to be challenging enough."},"2775":{"dur":2,"text":"But when the Patriot\nwas rushed into service,"},"2778":{"dur":4,"text":"the Army was not aware of\nan Iraqi modification that"},"2782":{"dur":3,"text":"made their scuds nearly\nimpossible to it."},"2785":{"dur":4,"text":">> -What happened is the Scuds that\nwere coming in were unstable."},"2790":{"dur":1,"text":"They were wobbly."},"2792":{"dur":5,"text":"The reason for this was the Iraqis--\nin order to get 600 kilometers out"},"2797":{"dur":4,"text":"of a 300-kilometer range missile--\ntook weight out of the front warhead,"},"2801":{"dur":1,"text":"and made the warhead lighter."},"2803":{"dur":5,"text":"So now the Patriot's trying to come\nat the Scud, and most of the time--"},"2808":{"dur":4,"text":"the overwhelming majority of the\ntime-- it would just fly by the Scud."},"2812":{"dur":4,"text":">> -Once the Patriot system operators\nrealized the Patriot missed its target,"},"2817":{"dur":4,"text":"they detonated the Patriot's warhead\nto avoid possible casualties if it"},"2821":{"dur":2,"text":"was allowed to fall to the ground."},"2824":{"dur":4,"text":">> -That was what most people saw\nas big fireballs in the sky,"},"2828":{"dur":5,"text":"and misunderstood as\nintercepts of Scud warheads."},"2834":{"dur":3,"text":">> -Although in the night skies, Patriots\nappeared to be successfully destroying"},"2838":{"dur":5,"text":"Scuds, at Dhahran there could be\nno mistake about its performance."},"2843":{"dur":4,"text":"There the Patriot's radar system\nlost track of an incoming Scud"},"2847":{"dur":2,"text":"and never launched due\nto a software flaw."},"2854":{"dur":4,"text":">> It was the Israelis who first discovered\nthat the longer the system was on,"},"2858":{"dur":2,"text":"the greater the time discrepancy became."},"2861":{"dur":3,"text":"Due to a clock embedded\nin the system's computer."},"2864":{"dur":3,"text":">> -About two weeks before\nthe tragedy in Dhahran,"},"2868":{"dur":2,"text":"the Israelis reported to\nthe Defense Department"},"2870":{"dur":1,"text":"that the system was losing time."},"2872":{"dur":2,"text":"After about eight hours\nof running, they noticed"},"2874":{"dur":3,"text":"that the system's becoming\nnoticeably less accurate."},"2877":{"dur":4,"text":"The Defense Department responded by\ntelling all of the Patriot batteries"},"2881":{"dur":2,"text":"to not leave the systems\non for a long time."},"2884":{"dur":2,"text":"They never said what a long time was."},"2886":{"dur":2,"text":"8 hours, 10 hours, a thousand hours."},"2889":{"dur":2,"text":"Nobody knew."},"2891":{"dur":2,"text":">> -The Patriot battery\nstationed at the barracks"},"2893":{"dur":4,"text":"at Dhahran and its flawed internal\nclock had been on for over 100 hours"},"2898":{"dur":3,"text":"on the night of February 25."},"2901":{"dur":4,"text":">> -It tracked time to an accuracy\nof about a tenth of a second."},"2905":{"dur":2,"text":"Now a tenth of a second\nis an interesting number"},"2907":{"dur":3,"text":"because it can't be expressed\nin binary exactly, which"},"2911":{"dur":4,"text":"means it can't be expressed exactly\nin any modern digital computer."},"2916":{"dur":4,"text":"It's hard to believe, but\nuse this as an example."},"2921":{"dur":2,"text":">> Let's take the number one third."},"2923":{"dur":3,"text":"One third cannot be\nexpressed in decimal exactly."},"2927":{"dur":4,"text":"One third is 0.333\ngoing on for infinity."},"2932":{"dur":4,"text":"There's no way to do that with\nabsolute accuracy in a decimal."},"2936":{"dur":3,"text":"That's exactly the kind of problem\nthat happened in the Patriot."},"2939":{"dur":4,"text":"The longer the system ran, the\nworse the time error became."},"2944":{"dur":4,"text":">> -After 100 hours of operation, the\nerror in time was only about one third"},"2948":{"dur":1,"text":"of a second."},"2950":{"dur":3,"text":"But in terms of targeting a\nmissile traveling at Mach 5,"},"2954":{"dur":4,"text":"it resulted in a tracking\nerror of over 600 meters."},"2958":{"dur":3,"text":"It would be a fatal error\nfor the soldiers at Dhahran."},"2961":{"dur":6,"text":">> -What happened is a Scud launch was\ndetected by early warning satellites,"},"2968":{"dur":4,"text":"and they knew a Scud was coming\nin their general direction."},"2972":{"dur":2,"text":"They didn't know where it was coming."},"2975":{"dur":3,"text":"It was now up to the radar\ncomponent of the Patriot system"},"2978":{"dur":4,"text":"defending Dhahran to locate and keep\ntrack of the incoming enemy missile."},"2983":{"dur":1,"text":">> -The radar was very smart."},"2984":{"dur":1,"text":"It would actually track\nthe position of the Scud"},"2986":{"dur":2,"text":"and then predict where\nit probably would be"},"2988":{"dur":2,"text":"the next time the\nradar sent a pulse out."},"2991":{"dur":1,"text":"That was called the range gate."},"2993":{"dur":4,"text":">> -Then once the Patriot\ndecides enough time has"},"2997":{"dur":4,"text":"passed to go back and check the next\nlocation for this detected object"},"3002":{"dur":1,"text":"it goes back."},"3003":{"dur":4,"text":"So when it went back to the wrong\nplace, it then sees no object."},"3007":{"dur":2,"text":"And it decides that there was no object."},"3010":{"dur":3,"text":"That there was a false detection\nand it drops the track."},"3013":{"dur":3,"text":">> -The incoming Scud disappeared\nfrom the radar screen,"},"3016":{"dur":3,"text":"and seconds later, it\nslammed into the barracks."},"3020":{"dur":2,"text":"The Scud killed 28."},"3022":{"dur":3,"text":"It was the last one fired\nduring the first Gulf War."},"3026":{"dur":5,"text":"Tragically, the updated software\narrived at dawn on the following day."},"3031":{"dur":2,"text":"The software flaw had\nbeen fixed, closing"},"3034":{"dur":4,"text":"one chapter in the troubled\nhistory of the Patriot missile."},"3039":{"dur":0,"text":">> [END VIDEO PLAYBACK]"},"3040":{"dur":1,"text":">> DAVID J. MALAN: That's it for CS50."},"3041":{"dur":1,"text":"We will see you on Wednesday."},"3046":{"dur":3,"text":">> [MUSIC PLAYING]"}}