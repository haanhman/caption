{"0.66":{"start":"0.66","dur":"1.625","text":"PAUL LEWIS: I don&#39;t\nknow if you&#39;ve ever"},"2.29":{"start":"2.285","dur":"4.285","text":"done coding where you do an\nawful lot of architecture"},"6.57":{"start":"6.57","dur":"3.15","text":"and wrangling, and then\npeople kind of looking over"},"9.72":{"start":"9.72","dur":"2.88","text":"your shoulder go, so, you know,\nwhat have you been working on?"},"12.60":{"start":"12.6","dur":"5.15","text":"You&#39;re like, well, lots, but\nthere&#39;s nothing really to see."},"17.75":{"start":"17.75","dur":"2.69","text":"It&#39;s just a lot of\nmachinery under the hood."},"20.44":{"start":"20.44","dur":"2.48","text":"So has it been for\nme, with the story"},"22.92":{"start":"22.92","dur":"2.31","text":"of offline in this\nparticular app."},"25.23":{"start":"25.23","dur":"5.43","text":"The media app has\ntwo offline cases."},"30.66":{"start":"30.66","dur":"4.8","text":"One is relatively\nstandard, I suppose."},"35.46":{"start":"35.46","dur":"2.52","text":"That you go to a\nvideo and you say,"},"37.98":{"start":"37.98","dur":"1.47","text":"I&#39;d like to watch\nthis one later."},"39.45":{"start":"39.45","dur":"0.99","text":"Boop."},"40.44":{"start":"40.44","dur":"4.8","text":"And we have to go and download\nnot only the video, but things"},"45.24":{"start":"45.24","dur":"5.64","text":"like it&#39;s poster frame for the\nvideo element, it&#39;s album art,"},"50.88":{"start":"50.88","dur":"4.152","text":"so we can do the media session\nAPI, it&#39;s dash manifest,"},"55.03":{"start":"55.032","dur":"0.708","text":"all those things."},"55.74":{"start":"55.74","dur":"1.05","text":"And you kind of go, yeah."},"56.79":{"start":"56.79","dur":"1.47","text":"I&#39;ll just get a\nbundle of things,"},"58.26":{"start":"58.26","dur":"3","text":"and I&#39;m going to go and get\nthose, and download them."},"61.26":{"start":"61.26","dur":"2.94","text":"And one of the things that\nin this area that&#39;s still"},"64.20":{"start":"64.2","dur":"3.69","text":"to land on the platform, for\nwhich Jake has-- and explained"},"67.89":{"start":"67.89","dur":"2.28","text":"at least, is the\nbackground fetch API."},"70.17":{"start":"70.17","dur":"2.46","text":"Wouldn&#39;t it be great,\ngiven that list of files"},"72.63":{"start":"72.63","dur":"2.67","text":"that you want to get, to be\nable to hand off to the browser"},"75.30":{"start":"75.3","dur":"0.94","text":"and say, hey."},"76.24":{"start":"76.24","dur":"3.18","text":"Look, these 10 files, would you\nmind going off and getting them"},"79.42":{"start":"79.42","dur":"0.5","text":"for me?"},"79.92":{"start":"79.92","dur":"3.052","text":"And just fire an event\nwhen that&#39;s completed so"},"82.97":{"start":"82.972","dur":"1.208","text":"that I can decide what to do."},"84.18":{"start":"84.18","dur":"2.64","text":"I can put them in a cache,\nor I can do whatever"},"86.82":{"start":"86.82","dur":"1.314","text":"I feel like doing with them."},"88.13":{"start":"88.134","dur":"1.416","text":"Well, that&#39;s\ncertainly on the way,"},"89.55":{"start":"89.55","dur":"1.72","text":"and it doesn&#39;t exist right now."},"91.27":{"start":"91.27","dur":"2.6","text":"So what I&#39;m doing\nis, when you click on"},"93.87":{"start":"93.87","dur":"2.84","text":"the I want to take this\nvideo offline, I do--"},"96.71":{"start":"96.71","dur":"2.922","text":"in the page, I do a fetch and\nI populate the cache myself."},"99.63":{"start":"99.632","dur":"2.458","text":"Now, that is quite a lot of\ncode in and of itself because--"},"102.09":{"start":"102.09","dur":"0.99","text":"I&#39;ll show you why."},"105.99":{"start":"105.99","dur":"1.92","text":"Let me tell you about\nthe second use case."},"107.91":{"start":"107.91","dur":"1.27","text":"That&#39;s worth thing."},"109.18":{"start":"109.18","dur":"1.5","text":"The second use case is this."},"110.68":{"start":"110.68","dur":"4.43","text":"Imagine that you have\nwatched episode one of a show"},"115.11":{"start":"115.11","dur":"4.029","text":"that you&#39;re interested in,\nand episode two is probably"},"119.14":{"start":"119.139","dur":"1.291","text":"going to be of interest to you."},"120.43":{"start":"120.43","dur":"1.874","text":"Maybe you subscribe to\nthe show or something."},"122.30":{"start":"122.304","dur":"1.476","text":"And what we want\nto do is while I&#39;m"},"123.78":{"start":"123.78","dur":"2.907","text":"getting the entirety of episode\ntwo, you don&#39;t asked for that,"},"126.69":{"start":"126.687","dur":"1.333","text":"and that&#39;s quite a lot of space."},"128.02":{"start":"128.02","dur":"1.416","text":"But what we could\ndo is maybe just"},"129.44":{"start":"129.436","dur":"3.764","text":"get the first one minute,\nor two minutes of the show"},"133.20":{"start":"133.2","dur":"2.51","text":"because that kind\nof prefetching idea"},"135.71":{"start":"135.71","dur":"2.38","text":"is good because it means\nthat, when you hit play, hey,"},"138.09":{"start":"138.09","dur":"1.5","text":"we can just give\nyou a flying start."},"139.59":{"start":"139.59","dur":"4.84","text":"And we can drop back to the\nadaptive network side later on."},"144.43":{"start":"144.43","dur":"2","text":"And so I&#39;ve been trying\nto tackle both of those."},"146.43":{"start":"146.43","dur":"1.77","text":"In this particular\nvideo, I think"},"148.20":{"start":"148.2","dur":"2.7","text":"what I want to do, is I just\nwant to talk about the service"},"150.90":{"start":"150.9","dur":"5.137","text":"worker, and the case of\ngetting all the video."},"156.04":{"start":"156.037","dur":"2.333","text":"The one where you say, I want\nto take this video offline"},"158.37":{"start":"158.37","dur":"0.55","text":"for later."},"158.92":{"start":"158.92","dur":"2.22","text":"Let&#39;s talk about\napproaching that problem."},"161.14":{"start":"161.14","dur":"2.75","text":"Now, I&#39;m not going to dive\ninto every little bit of code."},"163.89":{"start":"163.89","dur":"2.61","text":"There are bits and\npieces in there"},"166.50":{"start":"166.5","dur":"2.202","text":"that are quite-- they\ntake a while to explain."},"168.70":{"start":"168.702","dur":"1.458","text":"And I think it&#39;s\nprobably the case,"},"170.16":{"start":"170.16","dur":"0.9","text":"if you just look\nthrough the code,"},"171.06":{"start":"171.06","dur":"1.47","text":"it&#39;d probably make more sense."},"172.53":{"start":"172.53","dur":"3.33","text":"But of course, if you do\nthat and you have questions,"},"175.86":{"start":"175.86","dur":"3.27","text":"we have the comments below\nfor you to ask your questions."},"179.13":{"start":"179.13","dur":"2.18","text":"So please do feel\nfree, as always,"},"181.31":{"start":"181.31","dur":"1","text":"to go ahead and do that."},"182.31":{"start":"182.31","dur":"0.58","text":"Right."},"182.89":{"start":"182.89","dur":"1.06","text":"Enough talking."},"183.95":{"start":"183.95","dur":"2.56","text":"Let&#39;s look at some codes."},"186.51":{"start":"186.51","dur":"0.51","text":"Right."},"187.02":{"start":"187.02","dur":"5.685","text":"I am in the point in my app\nJS where, thanks to the UI--"},"192.71":{"start":"192.705","dur":"1.665","text":"in fact, let me show you the UI."},"194.37":{"start":"194.37","dur":"1.458","text":"I should have\nstarted there really."},"195.83":{"start":"195.828","dur":"1.272","text":"Imagine you are-- let&#39;s see."},"197.10":{"start":"197.1","dur":"2.63","text":"Got this video of me and Jake\nhere, and you click this--"},"199.73":{"start":"199.73","dur":"1.134","text":"we don&#39;t need this."},"200.86":{"start":"200.864","dur":"2.108","text":"Getting rid of that."},"202.97":{"start":"202.972","dur":"1.208","text":"I&#39;m just going to close that."},"204.18":{"start":"204.18","dur":"3.48","text":"Yeah, close it, and you&#39;d click\nthe make available offline"},"207.66":{"start":"207.66","dur":"1.62","text":"button."},"209.28":{"start":"209.28","dur":"4.08","text":"And we start see-- that was\nvery quick, that was very quick."},"213.36":{"start":"213.36","dur":"4.34","text":"I wish the internet was always\nthat fast for me, but it isn&#39;t."},"217.70":{"start":"217.7","dur":"2.72","text":"And because it isn&#39;t, we\nhave the offline case."},"220.42":{"start":"220.42","dur":"2.19","text":"Ha ha, perfect."},"222.61":{"start":"222.61","dur":"3.882","text":"The bit where the\nspinning dial, you"},"226.49":{"start":"226.492","dur":"1.208","text":"know, all that kind of stuff."},"227.70":{"start":"227.7","dur":"0.5","text":"Right."},"228.20":{"start":"228.2","dur":"1.13","text":"What&#39;s actually happening?"},"229.33":{"start":"229.33","dur":"2.51","text":"So in the app, I\nfire an event that"},"231.84":{"start":"231.84","dur":"3.82","text":"causes this on offline\ntoggle to be triggered."},"235.66":{"start":"235.66","dur":"2.09","text":"And the interesting\nbit here is while I"},"237.75":{"start":"237.75","dur":"2.04","text":"check whether we\nactually have the thing,"},"239.79":{"start":"239.79","dur":"3.88","text":"and if we&#39;ve already got it,\nthen do want to remove it,"},"243.67":{"start":"243.67","dur":"1.1","text":"and so on."},"244.77":{"start":"244.77","dur":"0.89","text":"And we&#39;ll delete it."},"245.66":{"start":"245.66","dur":"0.64","text":"But if you haven&#39;t--"},"246.30":{"start":"246.3","dur":"2.041","text":"which is that case that\nwe were just looking at--"},"248.34":{"start":"248.341","dur":"2.489","text":"then we want to\nadd it to our cash."},"250.83":{"start":"250.83","dur":"3.6","text":"And you can see I have\nthis offline cache class"},"254.43":{"start":"254.43","dur":"2.19","text":"here when I try\nto add this thing."},"256.62":{"start":"256.62","dur":"2.709","text":"So that&#39;s where the\nrubber hits the road."},"259.33":{"start":"259.329","dur":"2.151","text":"So we should head\nover to that class."},"261.48":{"start":"261.48","dur":"1.95","text":"Let me find the actual function."},"263.43":{"start":"263.43","dur":"1.46","text":"Here we are."},"264.89":{"start":"264.89","dur":"1.802","text":"And it takes in a\nbunch of things."},"266.69":{"start":"266.692","dur":"1.958","text":"If we don&#39;t support\ncaching, then we just bail."},"268.65":{"start":"268.65","dur":"3.7","text":"But we build a set of assets\nthat we&#39;re interested in."},"272.35":{"start":"272.35","dur":"2.78","text":"Do you remember I said it was\nthings like the poster image,"},"275.13":{"start":"275.13","dur":"0.84","text":"and so on?"},"275.97":{"start":"275.97","dur":"4.3","text":"In fact, we have them here\nin the constants here."},"280.27":{"start":"280.27","dur":"2.24","text":"When you go offline, when\nyou take a video offline,"},"282.51":{"start":"282.51","dur":"1.624","text":"here&#39;s the things\nthat I currently get."},"284.13":{"start":"284.134","dur":"1.413","text":"I get the artwork--"},"285.55":{"start":"285.547","dur":"2.333","text":"I probably only need one of\nthese, actually, to be fair."},"287.88":{"start":"287.88","dur":"3.56","text":"Anyway, I get both artworks,\na small poster image"},"291.44":{"start":"291.44","dur":"1.63","text":"and the large poster image."},"293.07":{"start":"293.07","dur":"4.776","text":"And I pretend-- so I get\nthe 720p offline manifest,"},"297.85":{"start":"297.846","dur":"1.374","text":"which is a reduced\ndash manifest,"},"299.22":{"start":"299.22","dur":"3.33","text":"with just the 720p\nvideo and the audio,"},"302.55":{"start":"302.55","dur":"3.14","text":"instead of all of\nthe various options."},"305.69":{"start":"305.69","dur":"2.19","text":"But I pretend that it&#39;s\ncalled dash manifests."},"307.88":{"start":"307.88","dur":"3.9","text":"So when later on I ask Shaka\njust get DASH manifest."},"311.78":{"start":"311.78","dur":"1.7","text":"If it hasn&#39;t got\nit stored offline,"},"313.48":{"start":"313.48","dur":"2.27","text":"it gets the full one with\nall the representations."},"315.75":{"start":"315.75","dur":"0.69","text":"If it [? has ?]\ngot installations,"},"316.44":{"start":"316.44","dur":"1.5","text":"it&#39;s just going to\nget the 720p one."},"317.94":{"start":"317.94","dur":"3.27","text":"That&#39;s my way of locking\nShaka into the Shaka player"},"321.21":{"start":"321.21","dur":"4.23","text":"into only ever playing\nthe 720p video."},"325.44":{"start":"325.44","dur":"3.39","text":"So it builds up the list of\nassets that we want to get."},"328.83":{"start":"328.83","dur":"3.27","text":"And you&#39;ll see I have this\nspecial magical chunking thing"},"332.10":{"start":"332.1","dur":"0.92","text":"here."},"333.02":{"start":"333.02","dur":"3.31","text":"Hmm, right."},"336.33":{"start":"336.33","dur":"4.62","text":"This has proved to be quite\nthe journey, because--"},"340.95":{"start":"340.95","dur":"3.6","text":"I don&#39;t know if you didn&#39;t catch\nthe episode, the entry where"},"344.55":{"start":"344.55","dur":"6.73","text":"I talked about\nthe idea that when"},"351.28":{"start":"351.28","dur":"3.75","text":"we make a request for the video,\nwe do arrange requests, which"},"355.03":{"start":"355.03","dur":"3.57","text":"means we don&#39;t ask for one gig\nof video up front, for example."},"358.60":{"start":"358.6","dur":"2.46","text":"We say, I want these\nbites to these bites."},"361.06":{"start":"361.06","dur":"2.79","text":"I want just this range, like\n1000 bytes, or 2000 bytes,"},"363.85":{"start":"363.85","dur":"1.83","text":"or whatever."},"365.68":{"start":"365.68","dur":"1.92","text":"And I said at the time\nwith my prototype,"},"367.60":{"start":"367.6","dur":"2.76","text":"this is going to be a bit\nof an interesting one later."},"370.36":{"start":"370.36","dur":"2.76","text":"Because in production, if\nyou&#39;ve got a large video,"},"373.12":{"start":"373.12","dur":"2.07","text":"you don&#39;t want to store\nit as one big file"},"375.19":{"start":"375.19","dur":"2.55","text":"and then pull it out\nentirely into memory,"},"377.74":{"start":"377.74","dur":"2.85","text":"is like a 1 gig array\nbuffer that you then slice,"},"380.59":{"start":"380.59","dur":"1.08","text":"for example."},"381.67":{"start":"381.67","dur":"4.23","text":"So what I do is as\nthe file&#39;s coming in,"},"385.90":{"start":"385.9","dur":"3.93","text":"when I&#39;m doing this part\nof this downloading of say"},"389.83":{"start":"389.83","dur":"2.28","text":"the video files,\nand the audio files,"},"392.11":{"start":"392.11","dur":"1.3","text":"I have this chunking file."},"393.41":{"start":"393.41","dur":"1.79","text":"Which basically means,\non its way through,"},"395.20":{"start":"395.2","dur":"2.76","text":"please split this\nup into chunks."},"397.96":{"start":"397.96","dur":"3.18","text":"Later on in the service worker,\nwhich if we&#39;ve got time,"},"401.14":{"start":"401.14","dur":"3.45","text":"I&#39;ll show you, I ask for\nthe chunks that we need."},"404.59":{"start":"404.59","dur":"2.79","text":"So for example, I have I think\nat the moment half megabyte"},"407.38":{"start":"407.38","dur":"1.06","text":"chunks."},"408.44":{"start":"408.44","dur":"2.81","text":"And so if you asked\nfor a particular range,"},"411.25":{"start":"411.25","dur":"3.15","text":"it might be that I need\nchunks 9, 10, and 11."},"414.40":{"start":"414.4","dur":"2.61","text":"And so I get 9, 10, and 11,\nand I create an array buffer"},"417.01":{"start":"417.01","dur":"2.73","text":"from those three array\nbuffers, one big one."},"419.74":{"start":"419.74","dur":"2.82","text":"And then I slice out from\nthat array buffer the bit"},"422.56":{"start":"422.56","dur":"1.445","text":"that you actually asked for."},"424.01":{"start":"424.005","dur":"2.125","text":"So it&#39;s my way of making\nsure that I don&#39;t pull out"},"426.13":{"start":"426.13","dur":"2.13","text":"too much data into memory."},"428.26":{"start":"428.26","dur":"4.634","text":"I chose in my chunk size, I\nchose half a meg at random,"},"432.89":{"start":"432.894","dur":"3.466","text":"as a sort of guess that\nmaybe we&#39;ll need two,"},"436.36":{"start":"436.36","dur":"1.35","text":"maybe three occasionally."},"437.71":{"start":"437.71","dur":"3.66","text":"And sort of a meg, meg\nand a half in memory."},"441.37":{"start":"441.37","dur":"1.17","text":"Yes, it&#39;s a bit garbage-y."},"442.54":{"start":"442.54","dur":"2.17","text":"No, I don&#39;t like it."},"444.71":{"start":"444.71","dur":"2.81","text":"But it does mean that I&#39;m not\npulling out a one gig video"},"447.52":{"start":"447.52","dur":"2.1","text":"into memory every time\nwe make a request."},"449.62":{"start":"449.62","dur":"1.375","text":"I&#39;m not saying\nit&#39;s always a gig,"},"451.00":{"start":"450.995","dur":"1.945","text":"but I&#39;m just saying\nthink big video,"},"452.94":{"start":"452.94","dur":"1.79","text":"and that would be the problem."},"454.73":{"start":"454.73","dur":"1.54","text":"Now, a longer term\nsolution for this"},"456.27":{"start":"456.27","dur":"1.84","text":"that I&#39;d love to\nsee on the platform,"},"458.11":{"start":"458.11","dur":"2.52","text":"is the ability when\nyou say caches.match,"},"460.63":{"start":"460.63","dur":"1.41","text":"and you give it\nthe URL, that you"},"462.04":{"start":"462.04","dur":"3.66","text":"could give it some options\nbesides the cache name."},"465.70":{"start":"465.7","dur":"2.76","text":"But you can actually give\nit the range as well,"},"468.46":{"start":"468.46","dur":"4.87","text":"saying do you happen to also\nhave bites 1000 to 2000?"},"473.33":{"start":"473.33","dur":"3.05","text":"Or you know, why\n[? assume? ?] It does,"},"476.38":{"start":"476.38","dur":"1.05","text":"if it&#39;s got it in there."},"477.43":{"start":"477.43","dur":"2.519","text":"But it should--\nthose kind of things,"},"479.95":{"start":"479.949","dur":"2.041","text":"you should be able to give\nyou the answer, right?"},"481.99":{"start":"481.99","dur":"2.94","text":"As in, no, I don&#39;t, because the\nfile is only 500 bytes long,"},"484.93":{"start":"484.93","dur":"1.182","text":"or yeah, sure."},"486.11":{"start":"486.112","dur":"1.458","text":"Well, a lot of that\nneeds specking."},"487.57":{"start":"487.57","dur":"1.44","text":"It&#39;s not a thing\nthat exists today,"},"489.01":{"start":"489.01","dur":"1.833","text":"so it&#39;s something I&#39;m\nactually having to do,"},"490.84":{"start":"490.843","dur":"1.509","text":"and it&#39;s a bit of a pain point."},"492.35":{"start":"492.352","dur":"0.708","text":"But there we are."},"493.06":{"start":"493.06","dur":"2.64","text":"So wow, just a\nchunk true, and that"},"495.70":{"start":"495.7","dur":"1.83","text":"required a whole\nheap of explanation."},"497.53":{"start":"497.53","dur":"1.23","text":"See what I mean?"},"498.76":{"start":"498.76","dur":"1.35","text":"So what does the chunking do?"},"500.11":{"start":"500.11","dur":"2.91","text":"Well, let&#39;s keep going\nthrough the code."},"503.02":{"start":"503.02","dur":"1.92","text":"So we build on\nthis list of assets"},"504.94":{"start":"504.94","dur":"1.65","text":"that we actually want to push."},"506.59":{"start":"506.59","dur":"4.41","text":"And eventually, we get to\nthe idea of downloading."},"511.00":{"start":"511","dur":"3.21","text":"And downloading is here."},"514.21":{"start":"514.21","dur":"2.28","text":"This is probably one of\nthe more interesting bits,"},"516.49":{"start":"516.49","dur":"3.059","text":"because what I do is I\nhave a thing with which I"},"519.55":{"start":"519.549","dur":"2.041","text":"call track download--"},"521.59":{"start":"521.59","dur":"2.069","text":"interesting."},"523.66":{"start":"523.659","dur":"3.061","text":"And this actually looks\nprobably fairly straightforward,"},"526.72":{"start":"526.72","dur":"1.244","text":"I imagine, to many of you."},"527.96":{"start":"527.964","dur":"1.916","text":"Or if you haven&#39;t done\nservice work and stuff,"},"529.88":{"start":"529.88","dur":"1.52","text":"this will look slightly bizarre."},"531.40":{"start":"531.4","dur":"3.24","text":"If you have, it&#39;ll make sense."},"534.64":{"start":"534.64","dur":"4.71","text":"We open the cache, and we\ntake whatever the request is"},"539.35":{"start":"539.35","dur":"2.97","text":"and the response is, and we\njust pop that in the cache,"},"542.32":{"start":"542.32","dur":"1.29","text":"if it&#39;s not set to chunk."},"543.61":{"start":"543.61","dur":"2.49","text":"If it is, we cache in chunks."},"546.10":{"start":"546.1","dur":"2.82","text":"So we seem to be doing two\nthings with all our responses."},"548.92":{"start":"548.92","dur":"1.964","text":"All the things that\nwe&#39;ve asked to download,"},"550.88":{"start":"550.884","dur":"1.166","text":"we&#39;re doing two things with."},"552.05":{"start":"552.05","dur":"3.58","text":"Firstly, we&#39;re tracking\nthem, and secondly, we&#39;re"},"555.63":{"start":"555.63","dur":"1.43","text":"caching in chunks."},"557.06":{"start":"557.06","dur":"3.41","text":"Now, I better not say the\nword streams three times"},"560.47":{"start":"560.47","dur":"3.52","text":"in quick succession because\nif I do, Jake will show up."},"563.99":{"start":"563.99","dur":"2.413","text":"And I think we can live\nwithout that, don&#39;t you?"},"566.40":{"start":"566.403","dur":"2.227","text":"Shh, OK."},"568.63":{"start":"568.63","dur":"1.61","text":"Streams, that&#39;s\nwhat we&#39;re doing."},"570.24":{"start":"570.24","dur":"2.49","text":"Imagine that we&#39;ve\nmade a fetch request,"},"572.73":{"start":"572.73","dur":"3.72","text":"and one of the things we get\nback is a readable stream."},"576.45":{"start":"576.45","dur":"1.992","text":"At least, you can\nin Chrome today."},"578.44":{"start":"578.442","dur":"1.458","text":"You can also say\nwith the response,"},"579.90":{"start":"579.9","dur":"2.083","text":"you say, give me the JSON,\nget me the text, get me"},"581.98":{"start":"581.983","dur":"0.697","text":"an array buffer."},"582.68":{"start":"582.68","dur":"1.72","text":"But you can say--"},"584.40":{"start":"584.4","dur":"2.37","text":"I want to read this\nas a readable stream."},"586.77":{"start":"586.77","dur":"4.59","text":"And in order to handle this,\nwhen a response is read,"},"591.36":{"start":"591.36","dur":"4.2","text":"once it&#39;s consumed\nactually in this world,"},"595.56":{"start":"595.56","dur":"2.67","text":"which means you can&#39;t do two\nthings with a single stream."},"598.23":{"start":"598.23","dur":"1.734","text":"You can&#39;t both say\ntrack a download"},"599.96":{"start":"599.964","dur":"1.416","text":"and count the\nnumber of bytes that"},"601.38":{"start":"601.38","dur":"3.56","text":"are passed through the stream,\nas well as caching into chunks."},"604.94":{"start":"604.94","dur":"2.2","text":"Like read the stream and\nchunk it up as it goes."},"607.14":{"start":"607.14","dur":"2.07","text":"But you can clone a\nresponse, which is"},"609.21":{"start":"609.21","dur":"2.07","text":"kind of like teeing a stream."},"611.28":{"start":"611.28","dur":"2.34","text":"If you&#39;ve not done\nanything with streams,"},"613.62":{"start":"613.62","dur":"2.245","text":"the idea is that imagine\nthat the t-shape,"},"615.87":{"start":"615.865","dur":"2.375","text":"and it comes up the middle,\nand then splits out into two."},"618.24":{"start":"618.24","dur":"2.707","text":"It&#39;s our way of\ntaking the stream"},"620.95":{"start":"620.947","dur":"1.583","text":"and turning it into\ntwo streams, which"},"622.53":{"start":"622.53","dur":"1.45","text":"is exactly what I&#39;m doing here."},"623.98":{"start":"623.98","dur":"1.86","text":"So let&#39;s have a look\nat what we&#39;re doing."},"625.84":{"start":"625.84","dur":"6.229","text":"So imagine then, we&#39;ve got the\nvideo coming down the wire, OK."},"632.07":{"start":"632.069","dur":"1.541","text":"We&#39;re going to do\ntwo things with it."},"633.61":{"start":"633.61","dur":"2.09","text":"One, we&#39;re going to\ntrack the download."},"635.70":{"start":"635.7","dur":"3.39","text":"Secondly, we&#39;re going\nto cache it into chunks."},"639.09":{"start":"639.09","dur":"2.82","text":"So let&#39;s go down to\nthe track downloads."},"644.72":{"start":"644.72","dur":"1.152","text":"Where is that?"},"645.87":{"start":"645.872","dur":"0.958","text":"Where&#39;s track download?"},"646.83":{"start":"646.83","dur":"1.375","text":"Maybe I should\njust look that up."},"650.08":{"start":"650.08","dur":"0.5","text":"OK."},"650.58":{"start":"650.58","dur":"4.675","text":"For each response, what\nI do is I get a reader."},"655.26":{"start":"655.255","dur":"0.625","text":"I get a reader."},"655.88":{"start":"655.88","dur":"1.81","text":"You can see here,\nactually, I clone it."},"657.69":{"start":"657.69","dur":"1.91","text":"So that&#39;s the first\nthing I actually do--"},"659.60":{"start":"659.6","dur":"3.61","text":"I clone it to make sure\nthat whatever I do here"},"663.21":{"start":"663.21","dur":"1.62","text":"on the response\nmeans that it&#39;s not"},"664.83":{"start":"664.83","dur":"2.117","text":"going to be consuming\nthe response,"},"666.95":{"start":"666.947","dur":"1.583","text":"and stop it being\nused somewhere else."},"668.53":{"start":"668.53","dur":"1.375","text":"And the first\nthing I do, is when"},"669.91":{"start":"669.905","dur":"2.095","text":"I get one of these responses\nI&#39;ll fetch the video,"},"672.00":{"start":"672","dur":"1.916","text":"the fetch comes back and\nI go right, clone it."},"673.92":{"start":"673.916","dur":"1.504","text":"First of all, clone this."},"675.42":{"start":"675.42","dur":"2.94","text":"So that I can now\noperate independently"},"678.36":{"start":"678.36","dur":"2.88","text":"with my clone of the response."},"681.24":{"start":"681.24","dur":"3.79","text":"And then I ask for\na reader on there."},"685.03":{"start":"685.03","dur":"3.74","text":"So clone.body.getreader,\nwhich is a readable stream."},"688.77":{"start":"688.77","dur":"1.62","text":"And then I can\nstart reading, and I"},"690.39":{"start":"690.39","dur":"3.51","text":"get-- there&#39;s a callback\nthat you pass to the promise"},"693.90":{"start":"693.9","dur":"0.75","text":"when that happens."},"694.65":{"start":"694.65","dur":"3.93","text":"So you read from the reader, and\nthen you say, on-stream data,"},"698.58":{"start":"698.58","dur":"1.11","text":"do this thing."},"699.69":{"start":"699.69","dur":"2.16","text":"And it&#39;s a bit\nconvoluted actually,"},"701.85":{"start":"701.85","dur":"3.565","text":"when you do stuff with this\nbecause you kind of pull"},"705.42":{"start":"705.415","dur":"1.625","text":"the callback, and\nthen in the callback,"},"707.04":{"start":"707.04","dur":"3.114","text":"you setup the next\ncallback of the callback."},"710.15":{"start":"710.154","dur":"1.956","text":"Yes, you do."},"712.11":{"start":"712.11","dur":"3.18","text":"So on stream data, we just\nsay, well, are you done?"},"715.29":{"start":"715.29","dur":"2.31","text":"If so, you know, if--"},"717.60":{"start":"717.6","dur":"0.93","text":"blah, blah, blah."},"718.53":{"start":"718.53","dur":"3.63","text":"We completed, is\nthe general idea."},"722.16":{"start":"722.16","dur":"2.969","text":"Because one of the things\nthat&#39;s the case here,"},"725.13":{"start":"725.129","dur":"1.291","text":"is that we&#39;ve got a byte total."},"726.42":{"start":"726.42","dur":"2.79","text":"So remember, I&#39;m getting\nlike five or six files,"},"729.21":{"start":"729.21","dur":"1.62","text":"and so the byte total\nhas to represent"},"730.83":{"start":"730.83","dur":"5.95","text":"the entire total of all five,\nsix, however many files."},"736.78":{"start":"736.78","dur":"1.73","text":"And so each one\nof these responses"},"738.51":{"start":"738.51","dur":"1.98","text":"is contributing to that total."},"740.49":{"start":"740.49","dur":"3.09","text":"And when one of the\nstreams finishes, it will--"},"743.58":{"start":"743.58","dur":"2.49","text":"if the byte count isn&#39;t\nthe final byte amount,"},"746.07":{"start":"746.07","dur":"1.669","text":"well, we don&#39;t need\nto do anything."},"747.74":{"start":"747.739","dur":"1.541","text":"If it is the final\nbyte amount, we&#39;ve"},"749.28":{"start":"749.28","dur":"2.97","text":"actually completed the\ndownload of all our files."},"752.25":{"start":"752.25","dur":"2.205","text":"And so we can basically\nsay, yeah, we&#39;re done."},"754.46":{"start":"754.455","dur":"1.875","text":"We can call this callback,\nwhich is something"},"756.33":{"start":"756.33","dur":"1.083","text":"I register somewhere else."},"757.41":{"start":"757.413","dur":"3.097","text":"That&#39;s like, OK, update the UI,\nand all those kinds of things."},"760.51":{"start":"760.51","dur":"3.977","text":"So remember now, we&#39;ve had\nthe audio file come in,"},"764.49":{"start":"764.487","dur":"1.083","text":"or the video file come in."},"765.57":{"start":"765.57","dur":"1.05","text":"We&#39;ve read some bytes."},"766.62":{"start":"766.62","dur":"3.18","text":"And we basically keep\ntracking the length"},"769.80":{"start":"769.8","dur":"1.479","text":"of each of these reads."},"771.28":{"start":"771.279","dur":"2.541","text":"And that allows us to say, well,\nhow many bytes have actually"},"773.82":{"start":"773.82","dur":"1.02","text":"come in?"},"774.84":{"start":"774.84","dur":"3.18","text":"And we can post back to\nthis on progress callback"},"778.02":{"start":"778.02","dur":"2.679","text":"with how many bytes we&#39;ve\ngot, and how many bytes"},"780.70":{"start":"780.699","dur":"1.041","text":"we&#39;re expecting in total."},"781.74":{"start":"781.74","dur":"1.499","text":"And as I say, when\nwe finish, we can"},"783.24":{"start":"783.239","dur":"2.781","text":"call this uncomplete that says\nright, all the bytes are in,"},"786.02":{"start":"786.02","dur":"1.16","text":"we&#39;re done."},"787.18":{"start":"787.18","dur":"1.76","text":"So that&#39;s what the\ntracking part does."},"788.94":{"start":"788.94","dur":"3.44","text":"And that&#39;s a great\nway of using streams."},"792.38":{"start":"792.38","dur":"1","text":"I say it&#39;s a great way--"},"793.38":{"start":"793.38","dur":"2.7","text":"it&#39;s a garbage-y\nway, unfortunately."},"796.08":{"start":"796.08","dur":"3.03","text":"Because imagine every time\nthis callback is called,"},"799.11":{"start":"799.11","dur":"3.39","text":"this result here,\nit&#39;s an array buffer."},"802.50":{"start":"802.5","dur":"1.682","text":"I believe it&#39;s got\nlots of bytes in it."},"804.18":{"start":"804.182","dur":"1.708","text":"And I don&#39;t do anything\nwith those bytes,"},"805.89":{"start":"805.89","dur":"1.74","text":"apart from ask for the length."},"807.63":{"start":"807.63","dur":"4.5","text":"I would love it if we had some\nmechanism with, say a fetch,"},"812.13":{"start":"812.13","dur":"3.44","text":"to say just give me progress\nevents like you do with XHR&#39;s."},"815.57":{"start":"815.57","dur":"1.36","text":"That would be a nice thing."},"816.93":{"start":"816.93","dur":"2.7","text":"And I believe it&#39;s something,\nonce again, that my friend"},"819.63":{"start":"819.63","dur":"2.46","text":"Jake is looking at."},"822.09":{"start":"822.09","dur":"4.8","text":"Hurry up, Jake, and whoever\nelse is working on it."},"826.89":{"start":"826.89","dur":"1.41","text":"I have need of it."},"828.30":{"start":"828.3","dur":"1.22","text":"I need it."},"829.52":{"start":"829.52","dur":"1.57","text":"Anyway, so that&#39;s one part."},"831.09":{"start":"831.09","dur":"1.86","text":"We&#39;re tracking the\ndownload, we basically"},"832.95":{"start":"832.95","dur":"1.74","text":"ask for all the bytes that are\npassing through the stream,"},"834.69":{"start":"834.69","dur":"2.25","text":"and we post back every\ntime we get an update,"},"836.94":{"start":"836.94","dur":"2.52","text":"basically going,\nmore bytes came in."},"839.46":{"start":"839.46","dur":"2.7","text":"And that&#39;s what I used\nto do, that pie chart."},"842.16":{"start":"842.16","dur":"1.26","text":"If we&#39;ve got time--"},"843.42":{"start":"843.42","dur":"1.86","text":"probably won&#39;t--\nif we have time,"},"845.28":{"start":"845.28","dur":"2.32","text":"I&#39;ll quickly show you how\nthat pie chart&#39;s done,"},"847.60":{"start":"847.6","dur":"1.13","text":"it&#39;s pretty neat."},"848.73":{"start":"848.73","dur":"3.51","text":"And then the other thing, as I\nsaid, was caching into chunks."},"852.24":{"start":"852.24","dur":"3.45","text":"So this was the idea that\ninstead of a one gig video,"},"855.69":{"start":"855.69","dur":"3.027","text":"or a half gig video, or a\n200 meg video in the cache,"},"858.72":{"start":"858.717","dur":"2.583","text":"instead, what we want to do is\nwe actually want to separate it"},"861.30":{"start":"861.3","dur":"1.585","text":"out into like half made chunks."},"862.89":{"start":"862.885","dur":"2.375","text":"And then we can build our\nresponses in the service worker"},"865.26":{"start":"865.26","dur":"0.72","text":"later."},"865.98":{"start":"865.98","dur":"2.606","text":"So the caching chunks,\nonce again with cloning"},"868.59":{"start":"868.586","dur":"2.374","text":"the response, probably don&#39;t\ntechnically need to do that."},"870.96":{"start":"870.96","dur":"3.54","text":"We could just consume the\nresponse here if we wanted to."},"874.50":{"start":"874.5","dur":"2.79","text":"Not dissimilar-- get a reader."},"877.29":{"start":"877.29","dur":"5.67","text":"And what we do is we go\nthrough reading in chunks."},"882.96":{"start":"882.96","dur":"3.27","text":"And every time we\nhit our chunk size,"},"886.23":{"start":"886.23","dur":"4.29","text":"we commit that particular\nchunk into the cache."},"890.52":{"start":"890.52","dur":"2.13","text":"That&#39;s this commit buffer here."},"892.65":{"start":"892.65","dur":"2.61","text":"And then we reduce the amount\nthat we&#39;re expecting still"},"895.26":{"start":"895.26","dur":"3.12","text":"to come in by that chunk size,\nand we kind of restart again."},"898.38":{"start":"898.38","dur":"2.725","text":"So we kind of have this\nbuffer, and we fill it up."},"901.11":{"start":"901.105","dur":"1.625","text":"And then when that&#39;s\ndone, we basically"},"902.73":{"start":"902.73","dur":"2.42","text":"pop that into a response."},"905.15":{"start":"905.15","dur":"1.18","text":"Then we reset and go again."},"906.33":{"start":"906.33","dur":"2.73","text":"And eventually, we\nrun out of bytes,"},"909.06":{"start":"909.06","dur":"2.16","text":"which is the result.done."},"911.22":{"start":"911.22","dur":"2.7","text":"And we commit whatever\nbuffer size we&#39;ve"},"913.92":{"start":"913.92","dur":"1.67","text":"got left there at the end."},"915.59":{"start":"915.59","dur":"2.83","text":"So I imagine to say\ninstead of the half meg,"},"918.42":{"start":"918.42","dur":"1.8","text":"we&#39;ve ended with like\n200 bytes at the end."},"920.22":{"start":"920.22","dur":"3.51","text":"We just commit to final buffer\nwith just those 200 bytes in."},"923.73":{"start":"923.73","dur":"1.97","text":"The commit buffer has this."},"925.70":{"start":"925.7","dur":"4.75","text":"It has one header that I set,\nwhich is just the chunk size."},"930.45":{"start":"930.45","dur":"2.82","text":"Because I need to know later\non about how many chunks"},"933.27":{"start":"933.27","dur":"1.92","text":"actually--"},"935.19":{"start":"935.19","dur":"3.12","text":"or the chunk sizes that are\nactually stored, in case I&#39;ve"},"938.31":{"start":"938.31","dur":"2.4","text":"got a part chunk at the end,\nand I need to kind of know,"},"940.71":{"start":"940.71","dur":"1.4","text":"do you actually\nhave enough bytes"},"942.11":{"start":"942.11","dur":"3.37","text":"to satisfy this thing, the\nrange request that came in?"},"945.48":{"start":"945.48","dur":"4.98","text":"Anyway, nonetheless, we do\na cache put of that chunk."},"950.46":{"start":"950.46","dur":"2.04","text":"Actually, on the front\nend, let me show you"},"952.50":{"start":"952.5","dur":"1.14","text":"what that looks like."},"953.64":{"start":"953.64","dur":"4.59","text":"If we go to application, and\nwe take a look in the cache"},"958.23":{"start":"958.23","dur":"4.08","text":"storage, you see the\nCDS show reel here,"},"962.31":{"start":"962.31","dur":"2.18","text":"which is the cache for\nthis particular episode."},"964.49":{"start":"964.49","dur":"1.676","text":"And there you go, look."},"966.17":{"start":"966.166","dur":"3.224","text":"You can see it&#39;s split down\nthis 720p stream, all the way"},"969.39":{"start":"969.39","dur":"1.44","text":"zero, one, two."},"970.83":{"start":"970.83","dur":"2.61","text":"Don&#39;t you just love\nstream based ordering?"},"973.44":{"start":"973.44","dur":"2.52","text":"All the way up to,\nwhat&#39;s that, 32?"},"975.96":{"start":"975.96","dur":"3.67","text":"Yes, into 32 half\nmegabyte chunks."},"979.63":{"start":"979.63","dur":"1.37","text":"Cool."},"981.00":{"start":"981","dur":"1.717","text":"So that was the first bit."},"982.72":{"start":"982.717","dur":"1.583","text":"And you can also see\nhere, by the way,"},"984.30":{"start":"984.3","dur":"1.666","text":"there&#39;s the artwork\nand everything else."},"985.97":{"start":"985.966","dur":"3.734","text":"And you see I actually keep one\ncache directly for this video."},"989.70":{"start":"989.7","dur":"2.52","text":"That means that later\non, it&#39;s a lot easier"},"992.22":{"start":"992.22","dur":"1.41","text":"from my UI perspective."},"993.63":{"start":"993.63","dur":"2.61","text":"Because I can say, when\nI&#39;m looking at this video,"},"996.24":{"start":"996.24","dur":"2.4","text":"and I look at it&#39;s\nURL, I just go,"},"998.64":{"start":"998.64","dur":"4.18","text":"do you have CDS\/showreel,\nby the way, caches?"},"1002.82":{"start":"1002.82","dur":"2.57","text":"And if the answer is\nsure, then I go cool."},"1005.39":{"start":"1005.39","dur":"1.83","text":"I&#39;m going to assume\nyou have that video."},"1007.22":{"start":"1007.22","dur":"2.34","text":"And so my add and\nremove is based"},"1009.56":{"start":"1009.56","dur":"1.36","text":"at the kind of cache level."},"1010.92":{"start":"1010.92","dur":"4.13","text":"So when I say get rid of this,\nIf I remove this offline copy."},"1015.05":{"start":"1015.05","dur":"1.84","text":"Boop."},"1016.89":{"start":"1016.89","dur":"2.97","text":"And then I refresh the\ncache storage, refresh it."},"1019.86":{"start":"1019.86","dur":"2.48","text":"There you go, you see that\nthe entire cache is gone."},"1022.34":{"start":"1022.34","dur":"2.34","text":"But it didn&#39;t get in the\nway of say, the assets"},"1024.68":{"start":"1024.68","dur":"5.719","text":"that I need for all the\nicons and everything else."},"1030.40":{"start":"1030.399","dur":"0.801","text":"Cool?"},"1031.20":{"start":"1031.2","dur":"0.889","text":"Make sense?"},"1032.09":{"start":"1032.089","dur":"1.5","text":"Hopefully all that makes sense."},"1033.59":{"start":"1033.589","dur":"2.48","text":"Also, I have the old\nChrome devs with me"},"1036.07":{"start":"1036.069","dur":"2.321","text":"because I was running\nout on local host ATAT."},"1038.39":{"start":"1038.39","dur":"3.209","text":"Flashbacks of fun."},"1041.60":{"start":"1041.599","dur":"2.531","text":"Right."},"1044.13":{"start":"1044.13","dur":"4.04","text":"I&#39;m going to stop\nthere, I think."},"1048.17":{"start":"1048.17","dur":"1.53","text":"In the next entry,\nI will actually"},"1049.70":{"start":"1049.7","dur":"3.64","text":"show you the\ncorresponding other side,"},"1053.34":{"start":"1053.34","dur":"3.27","text":"which will be the\nservice worker code."},"1056.61":{"start":"1056.61","dur":"3.32","text":"But before I do, I did say I\nwas going to show you the dial."},"1059.93":{"start":"1059.93","dur":"1.63","text":"Let me just show you\nthis here, right?"},"1061.56":{"start":"1061.56","dur":"0.5","text":"See this?"},"1062.06":{"start":"1062.06","dur":"3.24","text":"When it goes weeeooh, and it\ngoes round like that in a dial."},"1065.30":{"start":"1065.3","dur":"0.87","text":"How did I do that?"},"1066.17":{"start":"1066.17","dur":"1.42","text":"Before we go, I&#39;m going\nto show you that really,"},"1067.59":{"start":"1067.59","dur":"0.89","text":"really quickly."},"1068.48":{"start":"1068.48","dur":"4.461","text":"It&#39;s in the--\n[HUMMING] where is it?"},"1072.94":{"start":"1072.941","dur":"0.499","text":"Where is it?"},"1073.44":{"start":"1073.44","dur":"0.84","text":"Where is it?"},"1074.28":{"start":"1074.28","dur":"1.8","text":"The download progress."},"1076.08":{"start":"1076.08","dur":"1.31","text":"Look at this."},"1077.39":{"start":"1077.39","dur":"3.09","text":"It is basically, this is\nwhat actually gets called"},"1080.48":{"start":"1080.48","dur":"1.53","text":"by the on progress callback."},"1082.01":{"start":"1082.01","dur":"3.46","text":"The percentage value is\na value between 0 and 1,"},"1085.47":{"start":"1085.47","dur":"2.06","text":"which is the bytes count\nover the bytes total."},"1087.53":{"start":"1087.53","dur":"0.81","text":"OK?"},"1088.34":{"start":"1088.34","dur":"0.72","text":"And it comes in."},"1089.06":{"start":"1089.06","dur":"2.73","text":"And we have a target,\nwhich happens to be an SVG."},"1091.79":{"start":"1091.79","dur":"2.28","text":"And that matters because\nwhat we&#39;re actually doing,"},"1094.07":{"start":"1094.07","dur":"4.07","text":"is doing an SVG path."},"1098.14":{"start":"1098.14","dur":"2.44","text":"It&#39;s a path, it&#39;s an SVG path."},"1100.58":{"start":"1100.58","dur":"3.96","text":"And you can see here, what we\ndo is we take that percentage,"},"1104.54":{"start":"1104.54","dur":"4.36","text":"and I do a little bit\nof cause and sign work"},"1108.90":{"start":"1108.9","dur":"2.231","text":"to figure out what\narc we actually need,"},"1111.13":{"start":"1111.131","dur":"0.999","text":"based on the percentage."},"1112.13":{"start":"1112.13","dur":"4.54","text":"So one is a full\nrevolution, and then it&#39;s"},"1116.67":{"start":"1116.67","dur":"1.61","text":"some proportion of\nthat revolution."},"1118.28":{"start":"1118.28","dur":"3.779","text":"So this is something I\ndidn&#39;t know before I actually"},"1122.06":{"start":"1122.059","dur":"0.791","text":"started doing this."},"1122.85":{"start":"1122.85","dur":"2.87","text":"I had a sneaking suspicion\nthat with SVG you"},"1125.72":{"start":"1125.72","dur":"3.34","text":"could create paths on the fly."},"1129.06":{"start":"1129.06","dur":"2.51","text":"And I had a sneaking\nsuspicion that arcs might well"},"1131.57":{"start":"1131.57","dur":"1.28","text":"be one of those things."},"1132.85":{"start":"1132.85","dur":"2.38","text":"And you can see here that this\nis exactly what I&#39;m doing."},"1135.23":{"start":"1135.23","dur":"3.23","text":"So I find the target,\nI find a thing"},"1138.46":{"start":"1138.46","dur":"3.91","text":"called path.dial, which is just\na path element inside the SVG."},"1142.37":{"start":"1142.37","dur":"5.51","text":"And I go through, and I create\nbased on a bit of calculation,"},"1147.88":{"start":"1147.88","dur":"1.86","text":"what I think the arc should be."},"1149.74":{"start":"1149.74","dur":"3.55","text":"And it&#39;s got weird flags,\nlike this large arc flag,"},"1153.29":{"start":"1153.29","dur":"3.93","text":"and targets, and all the--"},"1157.22":{"start":"1157.22","dur":"3.03","text":"have a look at the\ndocumentation on how"},"1160.25":{"start":"1160.25","dur":"2.69","text":"to do arcs inside of SVG."},"1162.94":{"start":"1162.94","dur":"1.12","text":"It is slightly bizarre."},"1164.06":{"start":"1164.06","dur":"3.54","text":"I&#39;m much more used to the\ncanvas way of doing things."},"1167.60":{"start":"1167.6","dur":"1.335","text":"Oh, well."},"1168.94":{"start":"1168.935","dur":"1.125","text":"But this works brilliantly."},"1170.06":{"start":"1170.06","dur":"5.55","text":"So based on the percentage,\nI just spin an arc through,"},"1175.61":{"start":"1175.61","dur":"3.446","text":"and I just sort of make a\npie chart thing going up."},"1179.06":{"start":"1179.056","dur":"1.624","text":"And then, I set the\nattribute, and that"},"1180.68":{"start":"1180.68","dur":"2.33","text":"causes the SVG to update."},"1183.01":{"start":"1183.01","dur":"2.53","text":"And it all works\nreally well, actually"},"1185.54":{"start":"1185.54","dur":"1.28","text":"really, I&#39;m very happy."},"1186.82":{"start":"1186.82","dur":"5.65","text":"So this little bit of code\nhere, all 50 odd lines of it"},"1192.47":{"start":"1192.47","dur":"1.63","text":"does the job just great."},"1194.10":{"start":"1194.1","dur":"1.49","text":"And obviously,\nmeans in my UI, it"},"1195.59":{"start":"1195.59","dur":"4.38","text":"can give a nice bit of progress\nto the user on how well"},"1199.97":{"start":"1199.97","dur":"2.91","text":"the download process is going."},"1202.88":{"start":"1202.88","dur":"1.12","text":"So there you have it."},"1204.00":{"start":"1204","dur":"2.72","text":"That is the purpose of\ndownloading the files,"},"1206.72":{"start":"1206.72","dur":"3.15","text":"chunking them, using streams,\ngiving progress, updating"},"1209.87":{"start":"1209.87","dur":"1.076","text":"the UI."},"1210.95":{"start":"1210.946","dur":"2.374","text":"We&#39;re not even done yet,\nbecause we actually haven&#39;t even"},"1213.32":{"start":"1213.32","dur":"2.49","text":"responded to the user&#39;s\nrequest, or the player&#39;s"},"1215.81":{"start":"1215.81","dur":"2.41","text":"request for range requests."},"1218.22":{"start":"1218.22","dur":"1.456","text":"Give it a sec, hang on."},"1219.68":{"start":"1219.676","dur":"0.874","text":"Let&#39;s try that again."},"1220.55":{"start":"1220.55","dur":"3.99","text":"We haven&#39;t even responded to\nthe video player&#39;s range request"},"1224.54":{"start":"1224.54","dur":"2.02","text":"coming through the\nservice worker."},"1226.56":{"start":"1226.56","dur":"2.001","text":"For that one, you&#39;ll have\nto join me next time."},"1228.56":{"start":"1228.561","dur":"1.499","text":"Now, don&#39;t forget\nyou can subscribe,"},"1230.06":{"start":"1230.06","dur":"1.791","text":"don&#39;t forget you can\ndrop in your comments."},"1231.85":{"start":"1231.851","dur":"3.649","text":"As always, thank you so much\nfor all the feedback, all"},"1235.50":{"start":"1235.5","dur":"2","text":"the ideas, all the\nsuggestions, all the comments"},"1237.50":{"start":"1237.5","dur":"0.791","text":"that you&#39;re making."},"1238.29":{"start":"1238.291","dur":"3.109","text":"I do love reading them\nall, and I will catch you--"},"1241.40":{"start":"1241.4","dur":"1.86","text":"yep, you guessed it--"},"1243.26":{"start":"1243.26","dur":"2.39","text":"next time."},"1245.65":{"start":"1245.65","dur":"1.19","text":"Hello, thanks for watching."},"1246.84":{"start":"1246.84","dur":"1.58","text":"If you enjoyed this\nvideo, well, you"},"1248.42":{"start":"1248.42","dur":"2.04","text":"may enjoy other videos\nthat we make too."},"1250.46":{"start":"1250.46","dur":"1.86","text":"So don&#39;t forget\nyou can subscribe"},"1252.32":{"start":"1252.32","dur":"2.4","text":"and you&#39;ll get notified when\nwe push out a new video."},"1254.72":{"start":"1254.72","dur":"2.49","text":"And there&#39;s more videos\nover there, or down there,"},"1257.21":{"start":"1257.21","dur":"2.73","text":"depending on how you&#39;re\nwatching the YouTubes right now."},"1259.94":{"start":"1259.94","dur":"2.24","text":"Definitely click on those."}}