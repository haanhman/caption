{"0":{"dur":3,"text":"[PHP Web Development]"},"3":{"dur":2,"text":"[Tommy MacWilliam]"},"5":{"dur":2,"text":"[This is CS50.] [CS50.TV]"},"7":{"dur":4,"text":">> In this video, we'll learn about using PHP for web development."},"11":{"dur":3,"text":"PHP is a scripting language that can be used to implement"},"14":{"dur":3,"text":"websites on a web server."},"17":{"dur":4,"text":"A web server is essentially a machine dedicated to providing content"},"21":{"dur":3,"text":"that can be accessed via the internet."},"24":{"dur":6,"text":"When you navigate to a web page like Facebook.com\/home.php"},"30":{"dur":5,"text":"the code in the file called home.php which lives on a Facebook web server somewhere"},"35":{"dur":3,"text":"will be executed on that server."},"38":{"dur":3,"text":"This code will likely generate some output"},"41":{"dur":2,"text":"which will in turn be sent from the server"},"43":{"dur":2,"text":"to your web browser."},"45":{"dur":4,"text":"We'll be using the CS50 appliance as a web server."},"49":{"dur":2,"text":"Your machine probably won't be nearly as powerful as the machines"},"51":{"dur":6,"text":"in a Facebook data center, but you'll have no problem using it for web development."},"57":{"dur":8,"text":">> When we navigate to a URL like http:\/\/localhost\/hello.php"},"65":{"dur":5,"text":"we configure the appliance via an application called the Apache HTTP server"},"70":{"dur":9,"text":"to look for a file called hello.php inside of home\/jharvard\/vhosts\/localhosts\/html by default."},"79":{"dur":4,"text":"If that file exists then Apache will use the PHP interpreter"},"83":{"dur":4,"text":"to execute the PHP code in hello.php."},"87":{"dur":4,"text":"If that file doesn't exist then Apache will throw a not found error"},"91":{"dur":5,"text":"or a 404 error, which you've probably seen while browsing the Web."},"96":{"dur":4,"text":">> Let's take a look at hello.php."},"100":{"dur":5,"text":"We can see here that hello.php generates a signal line of output."},"105":{"dur":6,"text":"When we ran hello.php at the command line via php hello.php"},"111":{"dur":3,"text":"that output was printed to the terminal."},"114":{"dur":4,"text":"Now, when we access this file via a URL in the web browser"},"118":{"dur":3,"text":"its output will be sent to the web browser,"},"121":{"dur":8,"text":"so heading to the URL, http:\/\/localhost\/hello.php,"},"129":{"dur":3,"text":"we can see the output in our web browser."},"132":{"dur":5,"text":">> Let's try adding another printf to our hello world program."},"137":{"dur":6,"text":"Okay, let's head back to the web browser and see what we have."},"143":{"dur":2,"text":"Interesting."},"145":{"dur":3,"text":"Rather than printing another line on its own line, as you would have seen"},"148":{"dur":4,"text":"in the terminal, it looks like it got smushed onto the same line"},"152":{"dur":4,"text":"as the other printf, so maybe new lines don't work in PHP."},"156":{"dur":2,"text":"Not quite."},"158":{"dur":3,"text":"Remember that HTML is typically used to create web pages"},"161":{"dur":3,"text":"that can be displayed by web browsers."},"164":{"dur":5,"text":"Not only is the string hello from php not valid HTML,"},"169":{"dur":4,"text":"but recall that we cannot use the \\n character in HTML"},"173":{"dur":2,"text":"to create a line break."},"175":{"dur":6,"text":"Instead of simply outputting a string let's output valid HTML."},"181":{"dur":3,"text":"By using paragraph tags each of our printf calls"},"184":{"dur":3,"text":"will be displayed on its own line,"},"187":{"dur":4,"text":"so now when we visit the URL pointing to valid.php"},"191":{"dur":6,"text":"http:\/\/localhost\/valid.php"},"197":{"dur":2,"text":"we see the output that we're looking for."},"199":{"dur":3,"text":">> Now, if we view the source of this page"},"202":{"dur":3,"text":"we can see that we're now looking at valid HTML,"},"205":{"dur":3,"text":"which we created from PHP."},"208":{"dur":3,"text":"Putting all of our HTML inside printf calls"},"211":{"dur":3,"text":"is of course going to get really annoying."},"214":{"dur":4,"text":"Luckily we can easily mix HTML and PHP"},"218":{"dur":3,"text":"in the same .php file."},"221":{"dur":6,"text":"Remember, all of our PHP code must be enclosed within <?php"},"227":{"dur":2,"text":"and ?>."},"229":{"dur":3,"text":"Anything that is not enclosed within these delimiters"},"232":{"dur":3,"text":"will simply be sent as output to the browser"},"235":{"dur":2,"text":"rather than being executed."},"237":{"dur":4,"text":"That means we can do something like this."},"241":{"dur":4,"text":"We can simply write HTML inside of our .php file"},"245":{"dur":6,"text":"and then insert PHP blocks wherever we'd like some php code to be executed."},"251":{"dur":4,"text":"Here we define a few variables at the top of the file,"},"255":{"dur":4,"text":"and later we print them out inside of our HTML."},"259":{"dur":8,"text":"Now if we visit this URL, http:\/\/localhost\/mixed.php"},"267":{"dur":6,"text":"we can see our evaluated PHP inside of our HTML."},"273":{"dur":3,"text":">> Now let's take a look at how we can pass data"},"276":{"dur":3,"text":"among our various PHP pages."},"279":{"dur":12,"text":"Rather than saying <?php print($a); ?>"},"291":{"dur":7,"text":"we can simply say <?= the variable we'd like to print, or a,"},"298":{"dur":3,"text":"and ?>."},"301":{"dur":2,"text":"Let's now take a look at how we can pass data"},"303":{"dur":3,"text":"among our various PHP pages."},"306":{"dur":5,"text":"One way we can do that is to encode information into the URL of a page."},"311":{"dur":3,"text":"When browsing the Web, you may have noticed that some URLs"},"314":{"dur":6,"text":"contain a ? followed by a string containing ampersands and equal signs."},"320":{"dur":3,"text":"This part of the URL is known as the query string,"},"323":{"dur":6,"text":"and this allows you to effectively pass arguments to your PHP script."},"329":{"dur":5,"text":"The query string consists of key value pairs, just like a hash table."},"334":{"dur":4,"text":"An equal sign separates a key and its corresponding value"},"338":{"dur":3,"text":"while ampersands separate pairs."},"341":{"dur":24,"text":"A URL that looks like http:\/\/localhost\/get.php?foo=bar&baz=qux"},"365":{"dur":4,"text":"has 2 key value pairs in the query string."},"369":{"dur":3,"text":"The key foo maps to the value bar,"},"372":{"dur":4,"text":"and the key baz maps to the value qux."},"376":{"dur":7,"text":"We can easily access these key value pairs using a special variable in PHP,"},"383":{"dur":6,"text":"$_GET."},"389":{"dur":3,"text":"$_GET is an associative array"},"392":{"dur":4,"text":"that is automatically populated with query string data."},"396":{"dur":10,"text":"That means that given this URL $_GET[\"foo\"]"},"406":{"dur":3,"text":"will be equal to the string bar."},"409":{"dur":7,"text":">> Let's take a look at get.php to see $_GET in action."},"416":{"dur":4,"text":"Here we're using a function called var_dump,"},"420":{"dur":3,"text":"which when given an array or other variable"},"423":{"dur":2,"text":"will print it out for us."},"425":{"dur":7,"text":"Now if we simply access http:\/\/localhost\/get.php"},"432":{"dur":5,"text":"then we'll see an empty array because we haven't provided a query string."},"437":{"dur":12,"text":"If we do provide a query string via http:\/\/localhost\/get.php?foo=bar&baz=qux"},"449":{"dur":5,"text":"then we can see that the $_GET variable will contain"},"454":{"dur":3,"text":"the query string's key value pairs."},"457":{"dur":5,"text":"But what if we don't want to put our data inside the URL of a page?"},"462":{"dur":4,"text":"For large amounts of data, this can result in some pretty ugly URLs"},"466":{"dur":3,"text":"that are going to make our shiny website look lame."},"469":{"dur":3,"text":"We can instead put the query string into the body"},"472":{"dur":5,"text":"of the HTTP requests rather than the request's URL."},"477":{"dur":5,"text":"Then we can use PHP's $_POST variable"},"482":{"dur":3,"text":"to access the key value pairs."},"485":{"dur":5,"text":"One way to do this is via an HTML form."},"490":{"dur":3,"text":"Here we have a simple HTML form."},"493":{"dur":4,"text":"Notice here that the method attribute of this form is post."},"497":{"dur":4,"text":"This tells the browser to put the form's key value pairs"},"501":{"dur":4,"text":"into the body of the request rather than the URL."},"505":{"dur":3,"text":">> If we were to use the value get for this attribute"},"508":{"dur":4,"text":"then the form's key value pairs would instead go into the query string,"},"512":{"dur":4,"text":"so we could access them via $_GET again."},"516":{"dur":6,"text":"The action attribute of the form tells the browser where to send the data."},"522":{"dur":4,"text":"Here our 2 input elements have name attributes."},"526":{"dur":5,"text":"The value of the name attributes will serve as keys into our data,"},"531":{"dur":5,"text":"and the values of the text inputs will become values of those keys."},"536":{"dur":3,"text":"Now let's take a look at post.php,"},"539":{"dur":4,"text":"the file that this form is submitting to."},"543":{"dur":7,"text":"Just like we did before, we're simply displaying the contents of the $_POST variable."},"550":{"dur":8,"text":">> Let's navigate to the form with http:\/\/localhost\/form.php."},"558":{"dur":5,"text":"Now when we submit the form we can see that the data from form.php"},"563":{"dur":7,"text":"is passed to post.php without appending a query string to the URL."},"570":{"dur":5,"text":"Now we've seen 2 different ways of passing data between PHP pages,"},"575":{"dur":2,"text":"get and post."},"577":{"dur":4,"text":"In our examples, we used 2 different types of HTTP requests."},"581":{"dur":4,"text":"As you might expect, a get request was used when we populated"},"585":{"dur":6,"text":"$_GET from the URL, and a post request was used"},"591":{"dur":4,"text":"when we populated $_POST."},"595":{"dur":4,"text":"In designing your web apps it's a good rule of thumb to use get requests"},"599":{"dur":4,"text":"when your app will only read data, and post requests"},"603":{"dur":2,"text":"when your app will write data."},"605":{"dur":4,"text":"For example, a search query will read data from your app,"},"609":{"dur":3,"text":"so a get request makes sense."},"612":{"dur":5,"text":"On the other hand, your app will write data via something like a registration form,"},"617":{"dur":5,"text":"so a post request would make more sense, and that's an overview of some of the techniques"},"622":{"dur":4,"text":"we'll be using in CS50 to create websites using PHP."},"626":{"dur":4,"text":">> My name is Tommy, and this is CS50."},"630":{"dur":6,"text":"[CS50.TV]"}}